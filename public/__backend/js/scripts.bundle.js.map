{"version":3,"sources":["scripts.bundle.js"],"names":["KTApp","colors","initTooltip","el","skin","data","width","triggerValue","tooltip","trigger","template","initTooltips","$","each","this","initPopover","popover","initPopovers","initPortlet","options","KTPortlet","initPortlets","initSticky","Sticky","init","initComponents","KTUtil","scrollInit","mobileNativeScroll","handleWindowResize","rememberPosition","height","isInResponsiveRange","on","closest","hide","fileName","val","next","addClass","html","e","$toggler","target","find","length","$detachedDropdownMenu","detach","append","css","position","my","at","of","relatedTarget","initAbsoluteDropdown","context","dropdownMenu","block","spinner","extend","opacity","overlayColor","type","size","state","centerX","centerY","message","shadow","classes","document","createElement","get","prepend","innerHTML","actualWidth","remove","params","top","left","border","padding","backgroundColor","overlayCSS","cursor","zIndex","onUnblock","blockUI","unblock","unblockUI","blockPage","unblockPage","progress","alignment","unprogress","attr","removeClass","removeAttr","getStateColor","name","getBaseColor","level","module","exports","ready","KTAppOptions","KTAvatar","elementId","the","element","defaultOptions","Plugin","construct","has","build","set","events","input","holder","cancel","src","deepExtend","addEvent","preventDefault","files","reader","FileReader","onload","result","readAsDataURL","value","eventTrigger","i","event","one","handler","call","fired","push","setDefaults","apply","KTDialog","body","placement","show","setHTML","appendChild","shown","hidden","KTHeader","undefined","classic","offset","mobile","desktop","minimize","lastScrollTop","eventTriggerState","getViewPort","getDocumentHeight","window","addEventListener","off","st","getScrollTop","args","KTMenu","scroll","accordion","slideSpeed","autoScroll","autoScrollSpeed","expandAll","dropdown","timeout","reset","eventHandlers","pauseDropdownHoverTime","uid","getUniqueID","update","reload","resetSubmenuProps","handleSubmenuAccordion","getSubmenuMode","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","scrollDestroy","windowScroll","resetHeightOnDestroy","scrollUpdate","scrollTop","hasAttr","isset","submenu","hasClasses","mode","default","tablet","submenus","findAll","len","resumeDropdownHover","getAttribute","removeAttribute","clearTimeout","showSubmenuDropdown","item","time","setTimeout","hideSubmenuDropdown","setAttribute","hasClass","hideSubmenuDropdowns","handleSubmenuDropdownClose","querySelectorAll","query","li","child","speed","subnav","closables","children","el_","submenu_","slideUp","slideDown","scrollToItem","scrollTo","classAlso","items","j","cnt","list","contains","createSubmenuDropdownClickDropoff","dropoff","stopPropagation","pauseDropdownHover","date","Date","getTime","resetActiveItem","parents","i_","len_","setActiveItem","getBreadcrumbs","breadcrumbs","link","text","title","href","submenuLink","reverse","getPageTitle","removeEvent","scrollReInit","hideDropdown","hideDropdowns","addResizeHandler","parentNode","KTOffcanvas","overlay","classBase","baseClass","classShown","classOverlay","toggleBy","toggle","closeBy","isShown","togglerClass","insertAfter","id","bodyToggleSpeed","tooltips","tools","collapse","expand","fullscreen","sticky","head","foot","setupTooltips","onScrollSticky","isNaN","updateSticky","resetSticky","right","Function","parseInt","removeTooltips","setContent","getBody","getSelf","collapsed","fullscreenOn","tip","Tooltip","dispose","updateTitleContent","height1","height2","destroySticky","removeEventListener","unFullscreen","KTScrolltop","toggleClass","navigator","userAgent","match","handle","pageYOffset","KTToggle","togglerState","targetState","toggleOn","toggleOff","getState","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","s","ancestor","documentElement","parentElement","elem","removeChild","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","Math","max","Document","DocumentFragment","forEach","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","argArr","Array","slice","arguments","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","insertBefore","firstChild","KTUtilElementDataStore","KTUtilElementDataStoreID","KTUtilDelegatedEventHandlers","resizeHandlers","breakpoints","sm","md","lg","xl","_windowResizeHandler","_runResizeHandlers","removeResizeHandler","runResizeHandlers","resize","dispatchEvent","Event","evt","createEvent","initUIEvent","getURLParam","paramName","location","search","substring","split","unescape","isMobileDevice","getBreakpoint","isDesktopDevice","a","breakpoint","prefix","floor","random","obj","keys","stone","indexOf","Error","shift","getHighestZindex","hasFixedPositionedParent","sleep","milliseconds","start","getRandomInt","min","isAngularVersion","Zone","out","key","nodeType","getElementById","getElementsByTagName","getElementsByClassName","getByID","getByTag","getByClass","classesArr","trim","className","classList","RegExp","test","classNames","add","replace","triggerCustomEvent","eventName","CustomEvent","detail","initCustomEvent","triggerEvent","node","doc","ownerDocument","eventClass","bubbles","initEvent","synthetic","fireEvent","createEventObject","index","elm","c","string","eventTriggered","currentTarget","dataset","triggered","parent","querySelector","referenceNode","nextSibling","selector","matchesSelector","mozMatchesSelector","oMatchesSelector","log","childNodes","l","p","f","tagName","customDataTag","outerWidth","margin","parseFloat","offsetWidth","rect","win","getClientRects","getBoundingClientRect","defaultView","pageXOffset","visible","offsetHeight","animate","from","to","duration","easing","done","easings","linear","t","b","d","rAF","change","performance","now","loop","timestamp","actualCss","prop","cache","HTMLElement","style","cssText","actualHeight","getScroll","method","self","browserSupportsBoxModel","styleProp","getComputedStyle","toLowerCase","getPropertyValue","currentStyle","str","letter","toUpperCase","oldLeft","oldRsLeft","runtimeStyle","pixelLeft","slide","dir","recalcMaxHeight","calcHeight","calcPaddingTop","calcPaddingBottom","paddingTop","paddingBottom","display","overflow","eventId","targets","callee","hash","charCodeAt","animateClass","animationName","animation","animations","OAnimation","MozAnimation","WebkitAnimation","msAnimation","transitionEnd","transition","transitions","OTransition","MozTransition","WebkitTransition","msTransition","animationEnd","animateDelay","animateDuration","targetPos","scrollPos","isArray","attachEvent","readyState","isEmpty","numberString","nStr","x1","x2","rgx","detectIE","ua","msie","rv","edge","isRTL","ps","disableForMobile","destroy","desktopNativeScroll","PerfectScrollbar","wheelSpeed","swipeEasing","wheelPropagation","minScrollbarLength","maxScrollbarLength","suppressScrollX","Cookies","pos","scrollUpdateAll","scrollers","getHTML","scrollHeight","clientHeight","scrollingElement","KTWizard","startStep","clickableSteps","steps","btnSubmit","btnNext","btnPrev","btnLast","btnFirst","currentStep","stopped","totalSteps","goTo","updateUI","getNextStep","getPrevStep","number","eventHandle","stop","isLastStep","isFirstStep","isBetweenStep","stepType","stepsInfo","stepsContent","nested","goNext","goPrev","goLast","goFirst","getStep","pluginName","util","app","fn","datatable","debug","API","record","isInit","cellOffset","iconOffset","stateId","ajaxParams","pagingObject","isHtmlTable","source","extractTable","setupBaseDOM","setupDOM","table","setDataSourceQuery","getOption","pfx","afterRender","stateRemove","extName","extOptions","spinnerCallback","saveState","cookie","webstorage","dataSet","originalDataSet","dataMapCallback","dataRender","tableHead","tableFoot","setHeadTitle","layout","header","footer","setupCellField","setupTemplateCell","setupSubDatatable","setupSystemColumn","redraw","initialWidth","fullRender","prevKeyword","which","keyword","columns","headers","map","cell","field","column","ii","rowProp","td","rowProps","layoutUpdate","setupHover","getDepth","lockTable","resetScroll","isLocked","isSubtable","autoHide","columnHide","rowEvenOdd","sorting","scrollbar","dropdownFix","wrap","lock","lockEnabled","lockEnabledColumns","enable","tablePart","lockLeft","lockScroll","lockRight","rowLeft","appendTo","rowScroll","rowRight","locked","enableLock","empty","insertData","screen","enabled","tableBody","hoverTimer","isScrolling","row","adjustLockContainer","containerWidth","dragResize","startX","startWidth","pressed","mousedown","pageX","mousemove","ifLocked","lockedIndex","eq","tri","tr","mouseup","initHeight","theadHeight","outerHeight","tfootHeight","bodyHeight","initialDatatable","clone","theme","class","setOption","prependTo","tableParts","part","tdi","rowCallback","beforeTemplate","grep","n","finalValue","dataPlaceholder","DOMPurify","sanitize","span","afterTemplate","chk","is","setActive","setInactive","subtable","initCheckbox","setActiveAll","first","maxWidthList","adjustCellsWidth","innerWidth","not","minWidth","dataWidth","cells","ceil","adjustCellsHeight","totalRows","rows","maxHeight","wrapInner","scrollable","tableLocked","initPosition","scrollHead","scrollFoot","initCustomScrollbar","initDefaultScrollbar","scrollLeft","onScrolling","initScrollbar","nodeName","assign","ths","th","textAlign","align","action","siblings","buildMeta","localDataUpdate","meta","getDataSourceParam","perpage","pageSize","total","page","end","afterGetData","localPagingCallback","ctx","pager","pagination","serverPaging","serverMeta","getObject","paging","serverSorting","serverFiltering","setAutoColumns","getData","pages","visibility","colLength","rowIndex","join","errorSpan","replaceWith","updateTableComponents","dataType","url","ajax","response","textStatus","jqXHR","lastResponse","fail","errorThrown","always","pg","paginateEvent","pagerLayout","info","getTablePrefix","setDataSourceParam","serverCallback","addPaginateEvent","populate","pagingBreakpoint","icons","pagerNumber","gotoMorePage","prev","more","abs","pagesNumber","pageNumber","gotoPage","last","pageSizeSelect","updatePerpage","pageSizes","selectpicker","paste","unique","openPage","originalEvent","updateInfo","currentPage","getCurrentPage","pagerInput","option","paginationUpdate","pagerMorePrev","pagerMoreNext","pagerFirst","pagerPrev","pagerNext","pagerLast","morePrevPage","moreNextPage","nav","responsive","tds","subTableCallback","toggleSubTable","parentRow","subTableRow","getTotalColumns","after","subTable","primaryKey","icon","detailCell","raw","isSpinning","spinnerOptions","sortCallback","sort","format","aField","bField","moment","diff","Number","console","hiddenExist","hidDefault","toggleHiddenColumns","detailRow","clonedCells","detailRowTd","detailSubTable","recursive","scrollWidth","k","v","getExtraSpace","getTableId","suffix","depth","stateKeep","localStorage","setItem","JSON","stringify","stateGet","defValue","getItem","parse","stateUpdate","ori","removeItem","getOneRow","tdOnly","sortColumn","int","hIndex","container","tda","tdb","sortObj","sortable","sortClick","setIcon","isEmptyObject","getColumnByField","nestedSearch","getGeneralSearchKey","filterArray","filter","operator","inArray","count","filtered","to_match","matched","m_key","m_value","match_property","lhs","toString","getDefaultSortColumn","getHiddenDimensions","includeMargin","props","dim","innerHeight","hiddenParents","addBack","oldProps","old","searchInput","path","object","reduce","extendObj","levels","createLevel","timer","load","ms","delay","getRecord","rowNumber","getColumn","columnName","setSelectedRecords","getValue","ids","active","checkboxes","getSelectedRecords","nodes","makeArray","getDataSourceQuery","param","getPageSize","getTotalRows","getDataSet","nodeTr","nodeTd","nodeCols","recentNode","bool","scrollColumns","funcName","func","center","defaults","error","warn","autoColumns","minHeight","customScrollbar","asc","desc","rowDetail","resizable","filterable","editable","onEnter","toolbar","navigation","translate","records","processing","noRecords","select","all","extensions","jQuery","checkbox","Extension","selectedAllRows","selectedRows","unselectedRows","selectorEnabled","vars","requestIds","initVars","initSelect","storage","click","getSelectedId","rowIds","array","KTDatatable","KTChat","initChat","parentEl","messageListEl","chatEl","portletHeadEl","portletBodyEl","portletFootEl","KTLayout","getContentHeight","handleMessaging","scrollEl","messagesEl","textarea","keyCode","encodeURI","hostname","expires","setup","KTDemoPanel","demoPanel","offcanvas","headerMenu","headerMenuOffcanvas","asideMenu","asideMenuOffcanvas","asideToggler","asideSecondaryToggler","pageStickyPortlet","initPageStickyPortlet","portlet","porletEl","portletWidth","initHeader","initAside","initAsideSecondary","swal","fire","tmp","headerEl","insideTm","outsideTm","aside","asideOffcanvasClass","menu","menuDesktopMode","onAsideToggle","datatables","getAsideMenu","getAsideToggler","openAsideSecondary","closeAsideSecondary","getAsideSecondaryToggler","onAsideSecondaryToggle","closeMobileAsideMenuOffcanvas","closeMobileHeaderMenuOffcanvas","KTOffcanvasPanel","notificationPanel","quickActionsPanel","profilePanel","searchPanel","initNotifications","initQucikActions","initProfile","form","wrapper","initSearch","KTQuickPanel","panel","logsPanel","settingsPanel","KTQuickSearch","closeIcon","resultWrapper","resultDropdown","resultDropdownToggle","inputGroup","hasResult","isProcessing","spinnerClass","resultClass","hideProgress","showDropdown","processSearch","success","res","handleCancel","handleSearch","onkeypress","charCode","KTQuickSearchInline","KTQuickSearchOffcanvas"],"mappings":"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","file":"scripts.bundle.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * @class KApp\r\n */\r\n\r\nvar KTApp = function() {\r\n    /** @type {object} colors State colors **/\r\n    var colors = {};\r\n\r\n    var initTooltip = function(el) {\r\n        var skin = el.data('skin') ? 'tooltip-' + el.data('skin') : '';\r\n        var width = el.data('width') == 'auto' ? 'tooltop-auto-width' : '';\r\n        var triggerValue = el.data('trigger') ? el.data('trigger') : 'hover';\r\n        var placement = el.data('placement') ? el.data('placement') : 'left';\r\n\r\n        el.tooltip({\r\n            trigger: triggerValue,\r\n            template: '<div class=\"tooltip ' + skin + ' ' + width + '\" role=\"tooltip\">\\\r\n                <div class=\"arrow\"></div>\\\r\n                <div class=\"tooltip-inner\"></div>\\\r\n            </div>'\r\n        });\r\n    }\r\n\r\n    var initTooltips = function() {\r\n        // init bootstrap tooltips\r\n        $('[data-toggle=\"kt-tooltip\"]').each(function() {\r\n            initTooltip($(this));\r\n        });\r\n    }\r\n\r\n    var initPopover = function(el) {\r\n        var skin = el.data('skin') ? 'popover-' + el.data('skin') : '';\r\n        var triggerValue = el.data('trigger') ? el.data('trigger') : 'hover';\r\n\r\n        el.popover({\r\n            trigger: triggerValue,\r\n            template: '\\\r\n            <div class=\"popover ' + skin + '\" role=\"tooltip\">\\\r\n                <div class=\"arrow\"></div>\\\r\n                <h3 class=\"popover-header\"></h3>\\\r\n                <div class=\"popover-body\"></div>\\\r\n            </div>'\r\n        });\r\n    }\r\n\r\n    var initPopovers = function() {\r\n        // init bootstrap popover\r\n        $('[data-toggle=\"kt-popover\"]').each(function() {\r\n            initPopover($(this));\r\n        });\r\n    }\r\n\r\n    var initFileInput = function() {\r\n        // init bootstrap popover\r\n        $('.custom-file-input').on('change', function() {\r\n            var fileName = $(this).val();\r\n            $(this).next('.custom-file-label').addClass(\"selected\").html(fileName);\r\n        });\r\n    }\r\n\r\n    var initPortlet = function(el, options) {\r\n        // init portlet tools\r\n        var el = $(el);\r\n        var portlet = new KTPortlet(el[0], options);\r\n    }\r\n\r\n    var initPortlets = function() {\r\n        // init portlet tools\r\n        $('[data-ktportlet=\"true\"]').each(function() {\r\n            var el = $(this);\r\n\r\n            if (el.data('data-ktportlet-initialized') !== true) {\r\n                initPortlet(el, {});\r\n                el.data('data-ktportlet-initialized', true);\r\n            }\r\n        });\r\n    }\r\n\r\n    var initScroll = function() {\r\n        $('[data-scroll=\"true\"]').each(function() {\r\n            var el = $(this);\r\n            KTUtil.scrollInit(this, {\r\n                mobileNativeScroll: true,\r\n                handleWindowResize: true,\r\n                rememberPosition: (el.data('remember-position') == 'true' ? true : false),\r\n                height: function() {\r\n                    if (KTUtil.isInResponsiveRange('tablet-and-mobile') && el.data('mobile-height')) {\r\n                        return el.data('mobile-height');\r\n                    } else {\r\n                        return el.data('height');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    var initAlerts = function() {\r\n        // init bootstrap popover\r\n        $('body').on('click', '[data-close=alert]', function() {\r\n            $(this).closest('.alert').hide();\r\n        });\r\n    }\r\n\r\n    var initSticky = function() {\r\n        var sticky = new Sticky('[data-sticky=\"true\"]');\r\n    }\r\n\r\n    var initAbsoluteDropdown = function(context) {\r\n        var dropdownMenu;\r\n\r\n        if (!context) {\r\n            return;\r\n        }\r\n\r\n        $('body').on('show.bs.dropdown', context, function(e) {\r\n        \tdropdownMenu = $(e.target).find('.dropdown-menu');\r\n        \t$('body').append(dropdownMenu.detach());\r\n        \tdropdownMenu.css('display', 'block');\r\n        \tdropdownMenu.position({\r\n        \t\t'my': 'right top',\r\n        \t\t'at': 'right bottom',\r\n        \t\t'of': $(e.relatedTarget),\r\n        \t});\r\n        }).on('hide.bs.dropdown', context, function(e) {\r\n        \t$(e.target).append(dropdownMenu.detach());\r\n        \tdropdownMenu.hide();\r\n        });\r\n    }\r\n\r\n    var initAbsoluteDropdowns = function() {\r\n        $('body').on('show.bs.dropdown', function(e) {\r\n            // e.target is always parent (contains toggler and menu)\r\n            var $toggler = $(e.target).find(\"[data-attach='body']\");\r\n            if ($toggler.length === 0) {\r\n                return;\r\n            }\r\n            var $dropdownMenu = $(e.target).find('.dropdown-menu');\r\n            // save detached menu\r\n            var $detachedDropdownMenu = $dropdownMenu.detach();\r\n            // save reference to detached menu inside data of toggler\r\n            $toggler.data('dropdown-menu', $detachedDropdownMenu);\r\n\r\n            $('body').append($detachedDropdownMenu);\r\n            $detachedDropdownMenu.css('display', 'block');\r\n            $detachedDropdownMenu.position({\r\n                my: 'right top',\r\n                at: 'right bottom',\r\n                of: $(e.relatedTarget),\r\n            });\r\n        });\r\n\r\n        $('body').on('hide.bs.dropdown', function(e) {\r\n            var $toggler = $(e.target).find(\"[data-attach='body']\");\r\n            if ($toggler.length === 0) {\r\n                return;\r\n            }\r\n            // access to reference of detached menu from data of toggler\r\n            var $detachedDropdownMenu = $toggler.data('dropdown-menu');\r\n            // re-append detached menu inside parent\r\n            $(e.target).append($detachedDropdownMenu.detach());\r\n            // hide dropdown\r\n            $detachedDropdownMenu.hide();\r\n        });\r\n    };\r\n    \r\n    return {\r\n        init: function(options) {\r\n            if (options && options.colors) {\r\n                colors = options.colors;\r\n            }\r\n\r\n            KTApp.initComponents();\r\n        },\r\n\r\n        initComponents: function() {\r\n            initScroll();\r\n            initTooltips();\r\n            initPopovers();\r\n            initAlerts();\r\n            initPortlets();\r\n            initFileInput();\r\n            initSticky();\r\n            initAbsoluteDropdowns();\r\n        },\r\n\r\n        initTooltips: function() {\r\n            initTooltips();\r\n        },\r\n\r\n        initTooltip: function(el) {\r\n            initTooltip(el);\r\n        },\r\n\r\n        initPopovers: function() {\r\n            initPopovers();\r\n        },\r\n\r\n        initPopover: function(el) {\r\n            initPopover(el);\r\n        },\r\n\r\n        initPortlet: function(el, options) {\r\n            initPortlet(el, options);\r\n        },\r\n\r\n        initPortlets: function() {\r\n            initPortlets();\r\n        },\r\n\r\n        initSticky: function() {\r\n            initSticky();\r\n        },\r\n\r\n        initAbsoluteDropdown: function(context) {\r\n            initAbsoluteDropdown(context);\r\n        },\r\n\r\n        block: function(target, options) {\r\n            var el = $(target);\r\n\r\n            options = $.extend(true, {\r\n                opacity: 0.05,\r\n                overlayColor: '#000000',\r\n                type: '',\r\n                size: '',\r\n                state: 'brand',\r\n                centerX: true,\r\n                centerY: true,\r\n                message: '',\r\n                shadow: true,\r\n                width: 'auto'\r\n            }, options);\r\n\r\n            var html;\r\n            var version = options.type ? 'kt-spinner--' + options.type : '';\r\n            var state = options.state ? 'kt-spinner--' + options.state : '';\r\n            var size = options.size ? 'kt-spinner--' + options.size : '';\r\n            var spinner = '<div class=\"kt-spinner ' + version + ' ' + state + ' ' + size + '\"></div';\r\n\r\n            if (options.message && options.message.length > 0) {\r\n                var classes = 'blockui ' + (options.shadow === false ? 'blockui' : '');\r\n\r\n                html = '<div class=\"' + classes + '\"><span>' + options.message + '</span><span>' + spinner + '</span></div>';\r\n\r\n                var el = document.createElement('div');\r\n                KTUtil.get('body').prepend(el);\r\n                KTUtil.addClass(el, classes);\r\n                el.innerHTML = '<span>' + options.message + '</span><span>' + spinner + '</span>';\r\n                options.width = KTUtil.actualWidth(el) + 10;\r\n                KTUtil.remove(el);\r\n\r\n                if (target == 'body') {\r\n                    html = '<div class=\"' + classes + '\" style=\"margin-left:-' + (options.width / 2) + 'px;\"><span>' + options.message + '</span><span>' + spinner + '</span></div>';\r\n                }\r\n            } else {\r\n                html = spinner;\r\n            }\r\n\r\n            var params = {\r\n                message: html,\r\n                centerY: options.centerY,\r\n                centerX: options.centerX,\r\n                css: {\r\n                    top: '30%',\r\n                    left: '50%',\r\n                    border: '0',\r\n                    padding: '0',\r\n                    backgroundColor: 'none',\r\n                    width: options.width\r\n                },\r\n                overlayCSS: {\r\n                    backgroundColor: options.overlayColor,\r\n                    opacity: options.opacity,\r\n                    cursor: 'wait',\r\n                    zIndex: (target == 'body' ? 1100 : 10)\r\n                },\r\n                onUnblock: function() {\r\n                    if (el && el[0]) {\r\n                        KTUtil.css(el[0], 'position', '');\r\n                        KTUtil.css(el[0], 'zoom', '');\r\n                    }\r\n                }\r\n            };\r\n\r\n            if (target == 'body') {\r\n                params.css.top = '50%';\r\n                $.blockUI(params);\r\n            } else {\r\n                var el = $(target);\r\n                el.block(params);\r\n            }\r\n        },\r\n\r\n        unblock: function(target) {\r\n            if (target && target != 'body') {\r\n                $(target).unblock();\r\n            } else {\r\n                $.unblockUI();\r\n            }\r\n        },\r\n\r\n        blockPage: function(options) {\r\n            return KTApp.block('body', options);\r\n        },\r\n\r\n        unblockPage: function() {\r\n            return KTApp.unblock('body');\r\n        },\r\n\r\n        progress: function(target, options) {\r\n            var skin = (options && options.skin) ? options.skin : 'light';\r\n            var alignment = (options && options.alignment) ? options.alignment : 'right';\r\n            var size = (options && options.size) ? ' kt-spinner--' + options.size : '';\r\n            var classes = 'kt-spinner ' + 'kt-spinner--' + skin + ' kt-spinner--' + alignment + size;\r\n\r\n            KTApp.unprogress(target);\r\n            KTUtil.attr(target, 'disabled', true);\r\n\r\n            $(target).addClass(classes);\r\n            $(target).data('progress-classes', classes);\r\n        },\r\n\r\n        unprogress: function(target) {\r\n            $(target).removeClass($(target).data('progress-classes'));\r\n            KTUtil.removeAttr(target, 'disabled');\r\n        },\r\n\r\n        getStateColor: function(name) {\r\n            return colors[\"state\"][name];\r\n        },\r\n\r\n        getBaseColor: function(type, level) {\r\n            return colors[\"base\"][type][level - 1];\r\n        }\r\n    };\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTApp;\r\n}\r\n\r\n// Initialize KTApp class on document ready\r\n$(document).ready(function() {\r\n    KTApp.init(KTAppOptions);\r\n});\r\n\n// plugin setup\r\nvar KTAvatar = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('avatar')) {\r\n                the = KTUtil.data(element).get('avatar');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('avatar', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init avatar\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            the.input = KTUtil.find(element, 'input[type=\"file\"]');\r\n            the.holder = KTUtil.find(element, '.kt-avatar__holder');\r\n            the.cancel = KTUtil.find(element, '.kt-avatar__cancel');\r\n            the.src = KTUtil.css(the.holder, 'backgroundImage');\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Handle avatar change\r\n            KTUtil.addEvent(the.input, 'change', function(e) {\r\n                e.preventDefault();\r\n\r\n\t            if (the.input && the.input.files && the.input.files[0]) {\r\n\t                var reader = new FileReader();\r\n\t                reader.onload = function(e) {\r\n\t                    KTUtil.css(the.holder, 'background-image', 'url('+e.target.result +')');\r\n\t                }\r\n\t                reader.readAsDataURL(the.input.files[0]);\r\n\r\n\t                KTUtil.addClass(the.element, 'kt-avatar--changed');\r\n\t            }\r\n            });\r\n\r\n            // Handle avatar cancel\r\n            KTUtil.addEvent(the.cancel, 'click', function(e) {\r\n                e.preventDefault();\r\n\r\n\t            KTUtil.removeClass(the.element, 'kt-avatar--changed');\r\n\t            KTUtil.css(the.holder, 'background-image', the.src);\r\n\t            the.input.value = \"\";\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTAvatar;\r\n}\r\n\n\"use strict\";\r\n\r\n// plugin setup\r\nvar KTDialog = function(options) {\r\n    // Main object\r\n    var the = this;\r\n\r\n    // Get element object\r\n    var element;\r\n    var body = KTUtil.get('body');  \r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        'placement' : 'top center',\r\n        'type'  : 'loader',\r\n        'width' : 100,\r\n        'state' : 'default',\r\n        'message' : 'Loading...' \r\n    };    \r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            Plugin.init(options);\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.state = false;\r\n        },\r\n\r\n        /**\r\n         * Show dialog\r\n         */\r\n        show: function() {\r\n            Plugin.eventTrigger('show');\r\n\r\n            element = document.createElement(\"DIV\");\r\n            KTUtil.setHTML(element, the.options.message);\r\n            \r\n            KTUtil.addClass(element, 'kt-dialog kt-dialog--shown');\r\n            KTUtil.addClass(element, 'kt-dialog--' + the.options.state);\r\n            KTUtil.addClass(element, 'kt-dialog--' + the.options.type); \r\n\r\n            if (the.options.placement == 'top center') {\r\n                KTUtil.addClass(element, 'kt-dialog--top-center');\r\n            }\r\n\r\n            body.appendChild(element);\r\n\r\n            the.state = 'shown';\r\n\r\n            Plugin.eventTrigger('shown');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Hide dialog\r\n         */\r\n        hide: function() {\r\n            if (element) {\r\n                Plugin.eventTrigger('hide');\r\n\r\n                element.remove();\r\n                the.state = 'hidden';\r\n\r\n                Plugin.eventTrigger('hidden');\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;                            \r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Check shown state \r\n     */\r\n    the.shown = function() {\r\n        return the.state == 'shown';\r\n    };\r\n\r\n    /**\r\n     * Check hidden state \r\n     */\r\n    the.hidden = function() {\r\n        return the.state == 'hidden';\r\n    };\r\n\r\n    /**\r\n     * Show dialog \r\n     */\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    /**\r\n     * Hide dialog\r\n     */\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KTToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KTToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTDialog;\r\n}\n\"use strict\";\r\nvar KTHeader = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (element === undefined) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        classic: false,\r\n        offset: {\r\n            mobile: 150,\r\n            desktop: 200\r\n        },\r\n        minimize: {\r\n            mobile: false,\r\n            desktop: false\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTHeader}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('header')) {\r\n                the = KTUtil.data(element).get('header');\r\n            } else {\r\n                // reset header\r\n                Plugin.init(options);\r\n\r\n                // build header\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('header', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subheader click toggle\r\n         * @returns {KTHeader}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        /**\r\n         * Reset header\r\n         * @returns {KTHeader}\r\n         */\r\n        build: function() {\r\n            var lastScrollTop = 0;\r\n            var eventTriggerState = true;\r\n            var viewportHeight = KTUtil.getViewPort().height;\r\n            var documentHeight = KTUtil.getDocumentHeight();\r\n\r\n            if (the.options.minimize.mobile === false && the.options.minimize.desktop === false) {\r\n                return;\r\n            }\r\n\r\n            window.addEventListener('scroll', function() {\r\n                var offset = 0, on, off, st;\r\n\r\n                if (KTUtil.isInResponsiveRange('desktop')) {\r\n                    offset = the.options.offset.desktop;\r\n                    on = the.options.minimize.desktop.on;\r\n                    off = the.options.minimize.desktop.off;\r\n                } else if (KTUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    offset = the.options.offset.mobile;\r\n                    on = the.options.minimize.mobile.on;\r\n                    off = the.options.minimize.mobile.off;\r\n                }\r\n\r\n                st = KTUtil.getScrollTop();\r\n\r\n                if (\r\n                    (KTUtil.isInResponsiveRange('tablet-and-mobile') && the.options.classic && the.options.classic.mobile) ||\r\n                    (KTUtil.isInResponsiveRange('desktop') && the.options.classic && the.options.classic.desktop)\r\n                ) {\r\n                    if (st > offset) { // down scroll mode\r\n                        KTUtil.addClass(body, on);\r\n                        KTUtil.removeClass(body, off);\r\n\r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KTUtil.addClass(body, off);\r\n                        KTUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true;\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (st > offset && lastScrollTop < st) { // down scroll mode\r\n                        KTUtil.addClass(body, on);\r\n                        KTUtil.removeClass(body, off);\r\n\r\n                        if (eventTriggerState) {\r\n                            Plugin.eventTrigger('minimizeOn', the);\r\n                            eventTriggerState = false;\r\n                        }\r\n                    } else { // back scroll mode\r\n                        KTUtil.addClass(body, off);\r\n                        KTUtil.removeClass(body, on);\r\n\r\n                        if (eventTriggerState == false) {\r\n                            Plugin.eventTrigger('minimizeOff', the);\r\n                            eventTriggerState = true;\r\n                        }\r\n                    }\r\n\r\n                    lastScrollTop = st;\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTHeader;\r\n}\r\n\n\"use strict\";\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.kt-menu__toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"click\"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle=\"click\"] > .kt-menu__link .kt-menu__toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-ktmenu-submenu-toggle=\"tab\"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle=\"tab\"] > .kt-menu__link .kt-menu__toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // handle link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.kt-menu__item > .kt-menu__link:not(.kt-menu__toggle):not(.kt-menu__link--toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isInResponsiveRange('desktop') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-ktmenu-submenu-toggle') && KTUtil.attr(el, 'data-ktmenu-submenu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isInResponsiveRange('tablet') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isInResponsiveRange('mobile') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isInResponsiveRange('desktop') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.kt-menu__submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    KTUtil.css(submenus[0], 'display', '');\r\n                    KTUtil.css(submenus[0], 'overflow', '');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.kt-menu__item');\r\n\r\n            if ( item.getAttribute('data-ktmenu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'kt-menu__item--hover') === false ) {\r\n                KTUtil.addClass(item, 'kt-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'kt-menu__item--open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.kt-menu__item');\r\n\r\n            if (item.getAttribute('data-ktmenu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'kt-menu__item--hover') == false) {\r\n                KTUtil.addClass(item, 'kt-menu__item--open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.kt-menu__item.kt-menu__item--submenu'); //\r\n\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'kt-menu__toggle') === false && el.querySelectorAll('.kt-menu__toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.kt-menu__item') ) ) {\r\n                if (query.getAttribute('data-ktmenu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.kt-menu__item');\r\n            var submenu = KTUtil.child(li, '.kt-menu__submenu, .kt-menu__inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.kt-menu__item'), 'kt-menu__item--open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'kt-menu__item--open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.kt-menu__nav, .kt-menu__subnav');\r\n                        var closables = KTUtil.children(subnav, '.kt-menu__item.kt-menu__item--open.kt-menu__item--submenu:not(.kt-menu__item--here):not(.kt-menu__item--open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.kt-menu__submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'kt-menu__item--open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'kt-menu__item--open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'kt-menu__item--open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isInResponsiveRange('desktop') && the.options.accordion.autoScroll && element.getAttribute('data-ktmenu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'kt-menu__item--hover');\r\n                KTUtil.removeClass(item, 'kt-menu__item--active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-ktmenu-dropdown-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-ktmenu-dropdown-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs):not([data-ktmenu-submenu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover, .kt-menu__item--submenu.kt-menu__item--active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'kt-menu__item--hover');\r\n\r\n            if ( item.getAttribute('data-ktmenu-dropdown-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-ktmenu-dropdown-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.kt-menu__submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"kt-menu__dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.kt-menu__item--active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'kt-menu__item--active');\r\n                KTUtil.hide( KTUtil.child(el, '.kt-menu__submenu') );\r\n                parents = KTUtil.parents(el, '.kt-menu__item--submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'kt-menu__item--open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.kt-menu__submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.kt-menu__item--open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'kt-menu__item--open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.kt-menu__item--submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(KTUtil.get(parents[i]), 'kt-menu__item--open');\r\n            }\r\n\r\n            KTUtil.addClass(KTUtil.get(item), 'kt-menu__item--active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.kt-menu__link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.kt-menu__link-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.kt-menu__item--submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.kt-menu__link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.kt-menu__link-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.kt-menu__link-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.get('body');\r\n    var query;\r\n    if ( query = body.querySelectorAll('.kt-menu__nav .kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)[data-ktmenu-submenu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.kt-menu__nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\n\"use strict\";\r\nvar KTOffcanvas = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {};\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('offcanvas')) {\r\n                the = KTUtil.data(element).get('offcanvas');\r\n            } else {\r\n                // reset offcanvas\r\n                Plugin.init(options);\r\n\r\n                // build offcanvas\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('offcanvas', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n            the.overlay;\r\n\r\n            the.classBase = the.options.baseClass;\r\n            the.classShown = the.classBase + '--on';\r\n            the.classOverlay = the.classBase + '-overlay';\r\n\r\n            the.state = KTUtil.hasClass(element, the.classShown) ? 'shown' : 'hidden';\r\n        },\r\n\r\n        build: function() {\r\n            // offcanvas toggle\r\n            if (the.options.toggleBy) {\r\n                if (typeof the.options.toggleBy === 'string') {\r\n                    KTUtil.addEvent( the.options.toggleBy, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    });\r\n                } else if (the.options.toggleBy && the.options.toggleBy[0]) {\r\n                    if (the.options.toggleBy[0].target) {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent( the.options.toggleBy[i].target, 'click', function(e) {\r\n                                e.preventDefault();\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    } else {\r\n                        for (var i in the.options.toggleBy) {\r\n                            KTUtil.addEvent( the.options.toggleBy[i], 'click', function(e) {\r\n                                e.preventDefault();\r\n                                Plugin.toggle();\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                    KTUtil.addEvent( the.options.toggleBy.target, 'click', function(e) {\r\n                        e.preventDefault();\r\n                        Plugin.toggle();\r\n                    });\r\n                }\r\n            }\r\n\r\n            // offcanvas close\r\n            var closeBy = KTUtil.get(the.options.closeBy);\r\n            if (closeBy) {\r\n                KTUtil.addEvent(closeBy, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.hide();\r\n                });\r\n            }\r\n\r\n            // Window resize\r\n            /*\r\n            KTUtil.addResizeHandler(function() {\r\n                if (parseInt(KTUtil.css(element, 'left')) >= 0 || parseInt(KTUtil.css(element, 'right') >= 0) || KTUtil.css(element, 'position') != 'fixed') {\r\n                    KTUtil.css(element, 'opacity', '1');\r\n                }\r\n            });\r\n            */\r\n        },\r\n\r\n        isShown: function(target) {\r\n            return (the.state == 'shown' ? true : false);\r\n        },\r\n\r\n        toggle: function() {;\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            if (the.state == 'shown') {\r\n                Plugin.hide(this);\r\n            } else {\r\n                Plugin.show(this);\r\n            }\r\n        },\r\n\r\n        show: function(target) {\r\n            if (the.state == 'shown') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeShow');\r\n\r\n            Plugin.togglerClass(target, 'show');\r\n\r\n            // Offcanvas panel\r\n            KTUtil.addClass(body, the.classShown);\r\n            KTUtil.addClass(element, the.classShown);\r\n            //KTUtil.css(element, 'opacity', '1');\r\n\r\n            the.state = 'shown';\r\n\r\n            if (the.options.overlay) {\r\n                the.overlay = KTUtil.insertAfter(document.createElement('DIV') , element );\r\n                KTUtil.addClass(the.overlay, the.classOverlay);\r\n                KTUtil.addEvent(the.overlay, 'click', function(e) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                    Plugin.hide(target);\r\n                });\r\n            }\r\n\r\n            Plugin.eventTrigger('afterShow');\r\n        },\r\n\r\n        hide: function(target) {\r\n            if (the.state == 'hidden') {\r\n                return;\r\n            }\r\n\r\n            Plugin.eventTrigger('beforeHide');\r\n\r\n            Plugin.togglerClass(target, 'hide');\r\n\r\n            KTUtil.removeClass(body, the.classShown);\r\n            KTUtil.removeClass(element, the.classShown);\r\n\r\n            the.state = 'hidden';\r\n\r\n            if (the.options.overlay && the.overlay) {\r\n                KTUtil.remove(the.overlay);\r\n            }\r\n\r\n            /*\r\n            KTUtil.transitionEnd(element, function() {\r\n                KTUtil.css(element, 'opacity', '0');\r\n            });\r\n            */\r\n\r\n            Plugin.eventTrigger('afterHide');\r\n        },\r\n\r\n        togglerClass: function(target, mode) {\r\n            // Toggler\r\n            var id = KTUtil.attr(target, 'id');\r\n            var toggleBy;\r\n\r\n            if (the.options.toggleBy && the.options.toggleBy[0] && the.options.toggleBy[0].target) {\r\n                for (var i in the.options.toggleBy) {\r\n                    if (the.options.toggleBy[i].target === id) {\r\n                        toggleBy = the.options.toggleBy[i];\r\n                    }\r\n                }\r\n            } else if (the.options.toggleBy && the.options.toggleBy.target) {\r\n                toggleBy = the.options.toggleBy;\r\n            }\r\n\r\n            if (toggleBy) {\r\n                var el = KTUtil.get(toggleBy.target);\r\n\r\n                if (mode === 'show') {\r\n                    KTUtil.addClass(el, toggleBy.state);\r\n                }\r\n\r\n                if (mode === 'hide') {\r\n                    KTUtil.removeClass(el, toggleBy.state);\r\n                }\r\n            }\r\n        },\r\n\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    the.isShown = function() {\r\n        return Plugin.isShown();\r\n    };\r\n\r\n    the.hide = function() {\r\n        return Plugin.hide();\r\n    };\r\n\r\n    the.show = function() {\r\n        return Plugin.show();\r\n    };\r\n\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTOffcanvas;\r\n}\r\n\n\"use strict\";\r\n// plugin setup\r\nvar KTPortlet = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        bodyToggleSpeed: 400,\r\n        tooltips: true,\r\n        tools: {\r\n            toggle: {\r\n                collapse: 'Collapse',\r\n                expand: 'Expand'\r\n            },\r\n            reload: 'Reload',\r\n            remove: 'Remove',\r\n            fullscreen: {\r\n                on: 'Fullscreen',\r\n                off: 'Exit Fullscreen'\r\n            }\r\n        },\r\n        sticky: {\r\n            offset: 300,\r\n            zIndex: 101\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('portlet')) {\r\n                the = KTUtil.data(element).get('portlet');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('portlet', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init portlet\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n            the.head = KTUtil.child(element, '.kt-portlet__head');\r\n            the.foot = KTUtil.child(element, '.kt-portlet__foot');\r\n\r\n            if (KTUtil.child(element, '.kt-portlet__body')) {\r\n                the.body = KTUtil.child(element, '.kt-portlet__body');\r\n            } else if (KTUtil.child(element, '.kt-form')) {\r\n                the.body = KTUtil.child(element, '.kt-form');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Remove\r\n            var remove = KTUtil.find(the.head, '[data-ktportlet-tool=remove]');\r\n            if (remove) {\r\n                KTUtil.addEvent(remove, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.remove();\r\n                });\r\n            }\r\n\r\n            // Reload\r\n            var reload = KTUtil.find(the.head, '[data-ktportlet-tool=reload]');\r\n            if (reload) {\r\n                KTUtil.addEvent(reload, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.reload();\r\n                });\r\n            }\r\n\r\n            // Toggle\r\n            var toggle = KTUtil.find(the.head, '[data-ktportlet-tool=toggle]');\r\n            if (toggle) {\r\n                KTUtil.addEvent(toggle, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.toggle();\r\n                });\r\n            }\r\n\r\n            //== Fullscreen\r\n            var fullscreen = KTUtil.find(the.head, '[data-ktportlet-tool=fullscreen]');\r\n            if (fullscreen) {\r\n                KTUtil.addEvent(fullscreen, 'click', function(e) {\r\n                    e.preventDefault();\r\n                    Plugin.fullscreen();\r\n                });\r\n            }\r\n\r\n            Plugin.setupTooltips();\r\n        },\r\n\r\n        /**\r\n         * Enable stickt mode\r\n         */\r\n        initSticky: function() {\r\n            var lastScrollTop = 0;\r\n            var offset = the.options.sticky.offset;\r\n\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n\t        window.addEventListener('scroll', Plugin.onScrollSticky);\r\n        },\r\n\r\n\t    /**\r\n\t     * Window scroll handle event for sticky portlet\r\n\t     */\r\n\t    onScrollSticky: function(e) {\r\n\t\t    var offset = the.options.sticky.offset;\r\n\r\n\t\t    if(isNaN(offset)) return;\r\n\r\n\t\t    var st = KTUtil.getScrollTop();\r\n\r\n\t\t    if (st >= offset && KTUtil.hasClass(body, 'kt-portlet--sticky') === false) {\r\n\t\t\t    Plugin.eventTrigger('stickyOn');\r\n\r\n\t\t\t    KTUtil.addClass(body, 'kt-portlet--sticky');\r\n\t\t\t    KTUtil.addClass(element, 'kt-portlet--sticky');\r\n\r\n\t\t\t    Plugin.updateSticky();\r\n\r\n\t\t    } else if ((st*1.5) <= offset && KTUtil.hasClass(body, 'kt-portlet--sticky')) {\r\n\t\t\t    // back scroll mode\r\n\t\t\t    Plugin.eventTrigger('stickyOff');\r\n\r\n\t\t\t    KTUtil.removeClass(body, 'kt-portlet--sticky');\r\n\t\t\t    KTUtil.removeClass(element, 'kt-portlet--sticky');\r\n\r\n\t\t\t    Plugin.resetSticky();\r\n\t\t    }\r\n\t    },\r\n\r\n        updateSticky: function() {\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n            var top;\r\n\r\n            if (KTUtil.hasClass(body, 'kt-portlet--sticky')) {\r\n                if (the.options.sticky.position.top instanceof Function) {\r\n                    top = parseInt(the.options.sticky.position.top.call(this, the));\r\n                } else {\r\n                    top = parseInt(the.options.sticky.position.top);\r\n                }\r\n\r\n                var left;\r\n                if (the.options.sticky.position.left instanceof Function) {\r\n                    left = parseInt(the.options.sticky.position.left.call(this, the));\r\n                } else {\r\n                    left = parseInt(the.options.sticky.position.left);\r\n                }\r\n\r\n                var right;\r\n                if (the.options.sticky.position.right instanceof Function) {\r\n                    right = parseInt(the.options.sticky.position.right.call(this, the));\r\n                } else {\r\n                    right = parseInt(the.options.sticky.position.right);\r\n                }\r\n\r\n                KTUtil.css(the.head, 'z-index', the.options.sticky.zIndex);\r\n                KTUtil.css(the.head, 'top', top + 'px');\r\n                KTUtil.css(the.head, 'left', left + 'px');\r\n                KTUtil.css(the.head, 'right', right + 'px');\r\n            }\r\n        },\r\n\r\n        resetSticky: function() {\r\n            if (!the.head) {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(body, 'kt-portlet--sticky') === false) {\r\n                KTUtil.css(the.head, 'z-index', '');\r\n                KTUtil.css(the.head, 'top', '');\r\n                KTUtil.css(the.head, 'left', '');\r\n                KTUtil.css(the.head, 'right', '');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Remove portlet\r\n         */\r\n        remove: function() {\r\n            if (Plugin.eventTrigger('beforeRemove') === false) {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(body, 'kt-portlet--fullscreen') && KTUtil.hasClass(element, 'kt-portlet--fullscreen')) {\r\n                Plugin.fullscreen('off');\r\n            }\r\n\r\n            Plugin.removeTooltips();\r\n\r\n            KTUtil.remove(element);\r\n\r\n            Plugin.eventTrigger('afterRemove');\r\n        },\r\n\r\n        /**\r\n         * Set content\r\n         */\r\n        setContent: function(html) {\r\n            if (html) {\r\n                the.body.innerHTML = html;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get body\r\n         */\r\n        getBody: function() {\r\n            return the.body;\r\n        },\r\n\r\n        /**\r\n         * Get self\r\n         */\r\n        getSelf: function() {\r\n            return element;\r\n        },\r\n\r\n        /**\r\n         * Setup tooltips\r\n         */\r\n        setupTooltips: function() {\r\n            if (the.options.tooltips) {\r\n                var collapsed = KTUtil.hasClass(element, 'kt-portlet--collapse') || KTUtil.hasClass(element, 'kt-portlet--collapsed');\r\n                var fullscreenOn = KTUtil.hasClass(body, 'kt-portlet--fullscreen') && KTUtil.hasClass(element, 'kt-portlet--fullscreen');\r\n\r\n                //== Remove\r\n                var remove = KTUtil.find(the.head, '[data-ktportlet-tool=remove]');\r\n                if (remove) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(remove, {\r\n                        title: the.options.tools.remove,\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KTUtil.data(remove).set('tooltip', tip);\r\n                }\r\n\r\n                //== Reload\r\n                var reload = KTUtil.find(the.head, '[data-ktportlet-tool=reload]');\r\n                if (reload) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(reload, {\r\n                        title: the.options.tools.reload,\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KTUtil.data(reload).set('tooltip', tip);\r\n                }\r\n\r\n                //== Toggle\r\n                var toggle = KTUtil.find(the.head, '[data-ktportlet-tool=toggle]');\r\n                if (toggle) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(toggle, {\r\n                        title: (collapsed ? the.options.tools.toggle.expand : the.options.tools.toggle.collapse),\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KTUtil.data(toggle).set('tooltip', tip);\r\n                }\r\n\r\n                //== Fullscreen\r\n                var fullscreen = KTUtil.find(the.head, '[data-ktportlet-tool=fullscreen]');\r\n                if (fullscreen) {\r\n                    var placement = (fullscreenOn ? 'bottom' : 'top');\r\n                    var tip = new Tooltip(fullscreen, {\r\n                        title: (fullscreenOn ? the.options.tools.fullscreen.off : the.options.tools.fullscreen.on),\r\n                        placement: placement,\r\n                        offset: (fullscreenOn ? '0,10px,0,0' : '0,5px'),\r\n                        trigger: 'hover',\r\n                        template: '<div class=\"tooltip tooltip-portlet tooltip bs-tooltip-' + placement + '\" role=\"tooltip\">\\\r\n                            <div class=\"tooltip-arrow arrow\"></div>\\\r\n                            <div class=\"tooltip-inner\"></div>\\\r\n                        </div>'\r\n                    });\r\n\r\n                    KTUtil.data(fullscreen).set('tooltip', tip);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Setup tooltips\r\n         */\r\n        removeTooltips: function() {\r\n            if (the.options.tooltips) {\r\n                //== Remove\r\n                var remove = KTUtil.find(the.head, '[data-ktportlet-tool=remove]');\r\n                if (remove && KTUtil.data(remove).has('tooltip')) {\r\n                    KTUtil.data(remove).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Reload\r\n                var reload = KTUtil.find(the.head, '[data-ktportlet-tool=reload]');\r\n                if (reload && KTUtil.data(reload).has('tooltip')) {\r\n                    KTUtil.data(reload).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Toggle\r\n                var toggle = KTUtil.find(the.head, '[data-ktportlet-tool=toggle]');\r\n                if (toggle && KTUtil.data(toggle).has('tooltip')) {\r\n                    KTUtil.data(toggle).get('tooltip').dispose();\r\n                }\r\n\r\n                //== Fullscreen\r\n                var fullscreen = KTUtil.find(the.head, '[data-ktportlet-tool=fullscreen]');\r\n                if (fullscreen && KTUtil.data(fullscreen).has('tooltip')) {\r\n                    KTUtil.data(fullscreen).get('tooltip').dispose();\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reload\r\n         */\r\n        reload: function() {\r\n            Plugin.eventTrigger('reload');\r\n        },\r\n\r\n        /**\r\n         * Toggle\r\n         */\r\n        toggle: function() {\r\n            if (KTUtil.hasClass(element, 'kt-portlet--collapse') || KTUtil.hasClass(element, 'kt-portlet--collapsed')) {\r\n                Plugin.expand();\r\n            } else {\r\n                Plugin.collapse();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        collapse: function() {\r\n            if (Plugin.eventTrigger('beforeCollapse') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideUp(the.body, the.options.bodyToggleSpeed, function() {\r\n                Plugin.eventTrigger('afterCollapse');\r\n            });\r\n\r\n            KTUtil.addClass(element, 'kt-portlet--collapse');\r\n\r\n            var toggle = KTUtil.find(the.head, '[data-ktportlet-tool=toggle]');\r\n            if (toggle && KTUtil.data(toggle).has('tooltip')) {\r\n                KTUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.expand);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        expand: function() {\r\n            if (Plugin.eventTrigger('beforeExpand') === false) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.slideDown(the.body, the.options.bodyToggleSpeed, function() {\r\n                Plugin.eventTrigger('afterExpand');\r\n            });\r\n\r\n            KTUtil.removeClass(element, 'kt-portlet--collapse');\r\n            KTUtil.removeClass(element, 'kt-portlet--collapsed');\r\n\r\n            var toggle = KTUtil.find(the.head, '[data-ktportlet-tool=toggle]');\r\n            if (toggle && KTUtil.data(toggle).has('tooltip')) {\r\n                KTUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.collapse);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * fullscreen\r\n         */\r\n        fullscreen: function(mode) {\r\n            var d = {};\r\n            var speed = 300;\r\n\r\n            if (mode === 'off' || (KTUtil.hasClass(body, 'kt-portlet--fullscreen') && KTUtil.hasClass(element, 'kt-portlet--fullscreen'))) {\r\n                Plugin.eventTrigger('beforeFullscreenOff');\r\n\r\n                KTUtil.removeClass(body, 'kt-portlet--fullscreen');\r\n                KTUtil.removeClass(element, 'kt-portlet--fullscreen');\r\n\r\n                Plugin.removeTooltips();\r\n                Plugin.setupTooltips();\r\n\r\n                if (the.foot) {\r\n                    KTUtil.css(the.body, 'margin-bottom', '');\r\n                    KTUtil.css(the.foot, 'margin-top', '');\r\n                }\r\n\r\n                Plugin.eventTrigger('afterFullscreenOff');\r\n            } else {\r\n                Plugin.eventTrigger('beforeFullscreenOn');\r\n\r\n                KTUtil.addClass(element, 'kt-portlet--fullscreen');\r\n                KTUtil.addClass(body, 'kt-portlet--fullscreen');\r\n\r\n                Plugin.removeTooltips();\r\n                Plugin.setupTooltips();\r\n\r\n\r\n                if (the.foot) {\r\n                    var height1 = parseInt(KTUtil.css(the.foot, 'height'));\r\n                    var height2 = parseInt(KTUtil.css(the.foot, 'height')) + parseInt(KTUtil.css(the.head, 'height'));\r\n                    KTUtil.css(the.body, 'margin-bottom', height1 + 'px');\r\n                    KTUtil.css(the.foot, 'margin-top', '-' + height2 + 'px');\r\n                }\r\n\r\n                Plugin.eventTrigger('afterFullscreenOn');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.remove = function() {\r\n        return Plugin.remove(html);\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.initSticky = function() {\r\n        return Plugin.initSticky();\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.updateSticky = function() {\r\n        return Plugin.updateSticky();\r\n    };\r\n\r\n    /**\r\n     * Remove portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.resetSticky = function() {\r\n        return Plugin.resetSticky();\r\n    };\r\n\r\n\t/**\r\n\t * Destroy sticky portlet\r\n\t */\r\n\tthe.destroySticky = function() {\r\n\t\tPlugin.resetSticky();\r\n\t\twindow.removeEventListener('scroll', Plugin.onScrollSticky);\r\n\t};\r\n\r\n    /**\r\n     * Reload portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    /**\r\n     * Set portlet content\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.setContent = function(html) {\r\n        return Plugin.setContent(html);\r\n    };\r\n\r\n    /**\r\n     * Toggle portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Collapse portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.collapse = function() {\r\n        return Plugin.collapse();\r\n    };\r\n\r\n    /**\r\n     * Expand portlet\r\n     * @returns {KTPortlet}\r\n     */\r\n    the.expand = function() {\r\n        return Plugin.expand();\r\n    };\r\n\r\n    /**\r\n     * Fullscreen portlet\r\n     * @returns {MPortlet}\r\n     */\r\n    the.fullscreen = function() {\r\n        return Plugin.fullscreen('on');\r\n    };\r\n\r\n    /**\r\n     * Fullscreen portlet\r\n     * @returns {MPortlet}\r\n     */\r\n    the.unFullscreen = function() {\r\n        return Plugin.fullscreen('off');\r\n    };\r\n\r\n    /**\r\n     * Get portletbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getBody = function() {\r\n        return Plugin.getBody();\r\n    };\r\n\r\n    /**\r\n     * Get portletbody\r\n     * @returns {jQuery}\r\n     */\r\n    the.getSelf = function() {\r\n        return Plugin.getSelf();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTPortlet;\r\n}\r\n\n\"use strict\";\r\nvar KTScrolltop = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        offset: 300,\r\n        speed: 600,\r\n        toggleClass: 'kt-scrolltop--on'\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {mscrolltop}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('scrolltop')) {\r\n                the = KTUtil.data(element).get('scrolltop');\r\n            } else {\r\n                // reset scrolltop\r\n                Plugin.init(options);\r\n\r\n                // build scrolltop\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('scrolltop', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subscrolltop click toggle\r\n         * @returns {mscrolltop}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n        },\r\n\r\n        build: function() {\r\n            // handle window scroll\r\n            if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n                window.addEventListener('touchend', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchcancel', function() {\r\n                    Plugin.handle();\r\n                });\r\n\r\n                window.addEventListener('touchleave', function() {\r\n                    Plugin.handle();\r\n                });\r\n            } else {\r\n                window.addEventListener('scroll', function() { \r\n                    Plugin.handle();\r\n                });\r\n            }\r\n\r\n            // handle button click \r\n            KTUtil.addEvent(element, 'click', Plugin.scroll);\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        handle: function() {\r\n            var pos = window.pageYOffset; // current vertical position\r\n            if (pos > the.options.offset) {\r\n                KTUtil.addClass(body, the.options.toggleClass);\r\n            } else {\r\n                KTUtil.removeClass(body, the.options.toggleClass);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles scrolltop click scrollTop\r\n         */\r\n        scroll: function(e) {\r\n            e.preventDefault();\r\n\r\n            KTUtil.scrollTop(0, the.options.speed);\r\n        },\r\n\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, args) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the, args);\r\n                        }\r\n                    } else {\r\n                       return event.handler.call(this, the, args);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get subscrolltop mode\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Set scrolltop content\r\n     * @returns {mscrolltop}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTScrolltop;\r\n}\n\"use strict\";\r\n\r\n// plugin setup\r\nvar KTToggle = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');  \r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        togglerState: '',\r\n        targetState: ''\r\n    };    \r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('toggle')) {\r\n                the = KTUtil.data(element).get('toggle');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('toggle', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles subtoggle click toggle\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            the.target = KTUtil.get(the.options.target);\r\n            the.targetState = the.options.targetState;\r\n            the.togglerState = the.options.togglerState;\r\n\r\n            the.state = KTUtil.hasClasses(the.target, the.targetState) ? 'on' : 'off';\r\n        },\r\n\r\n        /**\r\n         * Setup toggle\r\n         */\r\n        build: function() {\r\n            KTUtil.addEvent(element, 'mouseup', Plugin.toggle);\r\n        },\r\n        \r\n        /**\r\n         * Handles offcanvas click toggle\r\n         */\r\n        toggle: function(e) {\r\n            Plugin.eventTrigger('beforeToggle');\r\n\r\n            if (the.state == 'off') {\r\n                Plugin.toggleOn();\r\n            } else {\r\n                Plugin.toggleOff();\r\n            }\r\n\r\n            Plugin.eventTrigger('afterToggle');\r\n\r\n            e.preventDefault();\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOn: function() {\r\n            Plugin.eventTrigger('beforeOn');\r\n\r\n            KTUtil.addClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KTUtil.addClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'on';\r\n\r\n            Plugin.eventTrigger('afterOn');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles toggle click toggle\r\n         */\r\n        toggleOff: function() {\r\n            Plugin.eventTrigger('beforeOff');\r\n\r\n            KTUtil.removeClass(the.target, the.targetState);\r\n\r\n            if (the.togglerState) {\r\n                KTUtil.removeClass(element, the.togglerState);\r\n            }\r\n\r\n            the.state = 'off';\r\n\r\n            Plugin.eventTrigger('afterOff');\r\n\r\n            Plugin.eventTrigger('toggle');\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name) {\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;                            \r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options \r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Get toggle state \r\n     */\r\n    the.getState = function() {\r\n        return the.state;\r\n    };\r\n\r\n    /**\r\n     * Toggle \r\n     */\r\n    the.toggle = function() {\r\n        return Plugin.toggle();\r\n    };\r\n\r\n    /**\r\n     * Toggle on \r\n     */\r\n    the.toggleOn = function() {\r\n        return Plugin.toggleOn();\r\n    };\r\n\r\n    /**\r\n     * Toggle off \r\n     */\r\n    the.toggleOff = function() {\r\n        return Plugin.toggleOff();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     * @returns {KTToggle}\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     * @returns {KTToggle}\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTToggle;\r\n}\n\"use strict\";\r\n/**\r\n * @class KTUtil  base utilize class that privides helper functions\r\n */\r\n\r\n// Polyfills\r\n/**\r\n * Element.matches() polyfill (simple version)\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\r\n */\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n}\r\n\r\n/**\r\n * Element.closest() polyfill\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\r\n */\r\nif (!Element.prototype.closest) {\r\n    if (!Element.prototype.matches) {\r\n        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n    }\r\n    Element.prototype.closest = function (s) {\r\n        var el = this;\r\n        var ancestor = this;\r\n        if (!document.documentElement.contains(el)) return null;\r\n        do {\r\n            if (ancestor.matches(s)) return ancestor;\r\n            ancestor = ancestor.parentElement;\r\n        } while (ancestor !== null);\r\n        return null;\r\n    };\r\n}\r\n\r\n/**\r\n * ChildNode.remove() polyfill\r\n * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/\r\n * @author Chris Ferdinandi\r\n * @license MIT\r\n */\r\n(function (elem) {\r\n    for (var i = 0; i < elem.length; i++) {\r\n        if (!window[elem[i]] || 'remove' in window[elem[i]].prototype) continue;\r\n        window[elem[i]].prototype.remove = function () {\r\n            this.parentNode.removeChild(this);\r\n        };\r\n    }\r\n})(['Element', 'CharacterData', 'DocumentType']);\r\n\r\n//\r\n// requestAnimationFrame polyfill by Erik Möller.\r\n//  With fixes from Paul Irish and Tino Zijdel\r\n//\r\n//  http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n//  http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n//\r\n//  MIT license\r\n//\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame =\r\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n\r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n\r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\r\n(function(arr) {\r\n    arr.forEach(function(item) {\r\n        if (item.hasOwnProperty('prepend')) {\r\n            return;\r\n        }\r\n        Object.defineProperty(item, 'prepend', {\r\n            configurable: true,\r\n            enumerable: true,\r\n            writable: true,\r\n            value: function prepend() {\r\n                var argArr = Array.prototype.slice.call(arguments),\r\n                    docFrag = document.createDocumentFragment();\r\n\r\n                argArr.forEach(function(argItem) {\r\n                    var isNode = argItem instanceof Node;\r\n                    docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\r\n                });\r\n\r\n                this.insertBefore(docFrag, this.firstChild);\r\n            }\r\n        });\r\n    });\r\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\r\n\r\n// Global variables\r\nwindow.KTUtilElementDataStore = {};\r\nwindow.KTUtilElementDataStoreID = 0;\r\nwindow.KTUtilDelegatedEventHandlers = {};\r\n\r\nvar KTUtil = function() {\r\n    var resizeHandlers = [];\r\n\r\n    /** @type {object} breakpoints The device width breakpoints **/\r\n    var breakpoints = {\r\n        sm: 544, // Small screen / phone\r\n        md: 768, // Medium screen / tablet\r\n        lg: 1024, // Large screen / desktop\r\n        xl: 1200 // Extra large screen / wide desktop\r\n    };\r\n\r\n    /**\r\n     * Handle window resize event with some\r\n     * delay to attach event handlers upon resize complete\r\n     */\r\n    var _windowResizeHandler = function() {\r\n        var _runResizeHandlers = function() {\r\n            // reinitialize other subscribed elements\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                var each = resizeHandlers[i];\r\n                each.call();\r\n            }\r\n        };\r\n\r\n        var timeout = false; // holder for timeout id\r\n        var delay = 250; // delay after event is \"complete\" to run callback\r\n\r\n        window.addEventListener('resize', function() {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(function() {\r\n                _runResizeHandlers();\r\n            }, delay); // wait 50ms until window resize finishes.\r\n        });\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * Class main initializer.\r\n         * @param {object} options.\r\n         * @returns null\r\n         */\r\n        //main function to initiate the theme\r\n        init: function(options) {\r\n            if (options && options.breakpoints) {\r\n                breakpoints = options.breakpoints;\r\n            }\r\n\r\n            _windowResizeHandler();\r\n        },\r\n\r\n        /**\r\n         * Adds window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        addResizeHandler: function(callback) {\r\n            resizeHandlers.push(callback);\r\n        },\r\n\r\n        /**\r\n         * Removes window resize event handler.\r\n         * @param {function} callback function.\r\n         */\r\n        removeResizeHandler: function(callback) {\r\n            for (var i = 0; i < resizeHandlers.length; i++) {\r\n                if (callback === resizeHandlers[i]) {\r\n                    delete resizeHandlers[i];\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger window resize handlers.\r\n         */\r\n        runResizeHandlers: function() {\r\n            _runResizeHandlers();\r\n        },\r\n\r\n        resize: function() {\r\n            if (typeof(Event) === 'function') {\r\n                // modern browsers\r\n                window.dispatchEvent(new Event('resize'));\r\n            } else {\r\n                // for IE and other old browsers\r\n                // causes deprecation warning on modern browsers\r\n                var evt = window.document.createEvent('UIEvents');\r\n                evt.initUIEvent('resize', true, false, window, 0);\r\n                window.dispatchEvent(evt);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get GET parameter value from URL.\r\n         * @param {string} paramName Parameter name.\r\n         * @returns {string}\r\n         */\r\n        getURLParam: function(paramName) {\r\n            var searchString = window.location.search.substring(1),\r\n                i, val, params = searchString.split(\"&\");\r\n\r\n            for (i = 0; i < params.length; i++) {\r\n                val = params[i].split(\"=\");\r\n                if (val[0] == paramName) {\r\n                    return unescape(val[1]);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is mobile touch.\r\n         * @returns {boolean}\r\n         */\r\n        isMobileDevice: function() {\r\n            return (this.getViewPort().width < this.getBreakpoint('lg') ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Checks whether current device is desktop.\r\n         * @returns {boolean}\r\n         */\r\n        isDesktopDevice: function() {\r\n            return KTUtil.isMobileDevice() ? false : true;\r\n        },\r\n\r\n        /**\r\n         * Gets browser window viewport size. Ref:\r\n         * http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\r\n         * @returns {object}\r\n         */\r\n        getViewPort: function() {\r\n            var e = window,\r\n                a = 'inner';\r\n            if (!('innerWidth' in window)) {\r\n                a = 'client';\r\n                e = document.documentElement || document.body;\r\n            }\r\n\r\n            return {\r\n                width: e[a + 'Width'],\r\n                height: e[a + 'Height']\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks whether given device mode is currently activated.\r\n         * @param {string} mode Responsive mode name(e.g: desktop,\r\n         *     desktop-and-tablet, tablet, tablet-and-mobile, mobile)\r\n         * @returns {boolean}\r\n         */\r\n        isInResponsiveRange: function(mode) {\r\n            var breakpoint = this.getViewPort().width;\r\n\r\n            if (mode == 'general') {\r\n                return true;\r\n            } else if (mode == 'desktop' && breakpoint >= (this.getBreakpoint('lg') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet' && (breakpoint >= (this.getBreakpoint('md') + 1) && breakpoint < this.getBreakpoint('lg'))) {\r\n                return true;\r\n            } else if (mode == 'mobile' && breakpoint <= this.getBreakpoint('md')) {\r\n                return true;\r\n            } else if (mode == 'desktop-and-tablet' && breakpoint >= (this.getBreakpoint('md') + 1)) {\r\n                return true;\r\n            } else if (mode == 'tablet-and-mobile' && breakpoint <= this.getBreakpoint('lg')) {\r\n                return true;\r\n            } else if (mode == 'minimal-desktop-and-below' && breakpoint <= this.getBreakpoint('xl')) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Generates unique ID for give prefix.\r\n         * @param {string} prefix Prefix for generated ID\r\n         * @returns {boolean}\r\n         */\r\n        getUniqueID: function(prefix) {\r\n            return prefix + Math.floor(Math.random() * (new Date()).getTime());\r\n        },\r\n\r\n        /**\r\n         * Gets window width for give breakpoint mode.\r\n         * @param {string} mode Responsive mode name(e.g: xl, lg, md, sm)\r\n         * @returns {number}\r\n         */\r\n        getBreakpoint: function(mode) {\r\n            return breakpoints[mode];\r\n        },\r\n\r\n        /**\r\n         * Checks whether object has property matchs given key path.\r\n         * @param {object} obj Object contains values paired with given key path\r\n         * @param {string} keys Keys path seperated with dots\r\n         * @returns {object}\r\n         */\r\n        isset: function(obj, keys) {\r\n            var stone;\r\n\r\n            keys = keys || '';\r\n\r\n            if (keys.indexOf('[') !== -1) {\r\n                throw new Error('Unsupported object path notation.');\r\n            }\r\n\r\n            keys = keys.split('.');\r\n\r\n            do {\r\n                if (obj === undefined) {\r\n                    return false;\r\n                }\r\n\r\n                stone = keys.shift();\r\n\r\n                if (!obj.hasOwnProperty(stone)) {\r\n                    return false;\r\n                }\r\n\r\n                obj = obj[stone];\r\n\r\n            } while (keys.length);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Gets highest z-index of the given element parents\r\n         * @param {object} el jQuery element object\r\n         * @returns {number}\r\n         */\r\n        getHighestZindex: function(el) {\r\n            var elem = KTUtil.get(el),\r\n                position, value;\r\n\r\n            while (elem && elem !== document) {\r\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n                // This makes behavior of this function consistent across browsers\r\n                // WebKit always returns auto if the element is positioned\r\n                position = KTUtil.css(elem, 'position');\r\n\r\n                if (position === \"absolute\" || position === \"relative\" || position === \"fixed\") {\r\n                    // IE returns 0 when zIndex is not specified\r\n                    // other browsers return a string\r\n                    // we ignore the case of nested elements with an explicit value of 0\r\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n                    value = parseInt(KTUtil.css(elem, 'z-index'));\r\n\r\n                    if (!isNaN(value) && value !== 0) {\r\n                        return value;\r\n                    }\r\n                }\r\n\r\n                elem = elem.parentNode;\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has any parent with fixed positionfreg\r\n         * @param {object} el jQuery element object\r\n         * @returns {boolean}\r\n         */\r\n        hasFixedPositionedParent: function(el) {\r\n            var position;\r\n\r\n            while (el && el !== document) {\r\n                position = KTUtil.css(el, 'position');\r\n\r\n                if (position === \"fixed\") {\r\n                    return true;\r\n                }\r\n\r\n                el = el.parentNode;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Simulates delay\r\n         */\r\n        sleep: function(milliseconds) {\r\n            var start = new Date().getTime();\r\n            for (var i = 0; i < 1e7; i++) {\r\n                if ((new Date().getTime() - start) > milliseconds) {\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Gets randomly generated integer value within given min and max range\r\n         * @param {number} min Range start value\r\n         * @param {number} max Range end value\r\n         * @returns {number}\r\n         */\r\n        getRandomInt: function(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        },\r\n\r\n        /**\r\n         * Checks whether Angular library is included\r\n         * @returns {boolean}\r\n         */\r\n        isAngularVersion: function() {\r\n            return window.Zone !== undefined ? true : false;\r\n        },\r\n\r\n        // jQuery Workarounds\r\n\r\n        // Deep extend:  $.extend(true, {}, objA, objB);\r\n        deepExtend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                var obj = arguments[i];\r\n\r\n                if (!obj)\r\n                    continue;\r\n\r\n                for (var key in obj) {\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if (typeof obj[key] === 'object')\r\n                            out[key] = KTUtil.deepExtend(out[key], obj[key]);\r\n                        else\r\n                            out[key] = obj[key];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        // extend:  $.extend({}, objA, objB);\r\n        extend: function(out) {\r\n            out = out || {};\r\n\r\n            for (var i = 1; i < arguments.length; i++) {\r\n                if (!arguments[i])\r\n                    continue;\r\n\r\n                for (var key in arguments[i]) {\r\n                    if (arguments[i].hasOwnProperty(key))\r\n                        out[key] = arguments[i][key];\r\n                }\r\n            }\r\n\r\n            return out;\r\n        },\r\n\r\n        get: function(query) {\r\n            var el;\r\n\r\n            if (query === document) {\r\n                return document;\r\n            }\r\n\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            if (el = document.getElementById(query)) {\r\n                return el;\r\n            } else if (el = document.getElementsByTagName(query), el.length > 0) {\r\n                return el[0];\r\n            } else if (el = document.getElementsByClassName(query), el.length > 0) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        getByID: function(query) {\r\n            if (!!(query && query.nodeType === 1)) {\r\n                return query;\r\n            }\r\n\r\n            return document.getElementById(query);\r\n        },\r\n\r\n        getByTag: function(query) {\r\n            var el;\r\n\r\n            if (el = document.getElementsByTagName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        getByClass: function(query) {\r\n            var el;\r\n\r\n            if (el = document.getElementsByClassName(query)) {\r\n                return el[0];\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Checks whether the element has given classes\r\n         * @param {object} el jQuery element object\r\n         * @param {string} Classes string\r\n         * @returns {boolean}\r\n         */\r\n        hasClasses: function(el, classes) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            var classesArr = classes.split(\" \");\r\n\r\n            for (var i = 0; i < classesArr.length; i++) {\r\n                if (KTUtil.hasClass(el, KTUtil.trim(classesArr[i])) == false) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        hasClass: function(el, className) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            return el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\r\n        },\r\n\r\n        addClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    if (classNames[i] && classNames[i].length > 0) {\r\n                        el.classList.add(KTUtil.trim(classNames[i]));\r\n                    }\r\n                }\r\n            } else if (!KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className += ' ' + KTUtil.trim(classNames[x]);\r\n                }\r\n            }\r\n        },\r\n\r\n        removeClass: function(el, className) {\r\n            if (!el || typeof className === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            var classNames = className.split(' ');\r\n\r\n            if (el.classList) {\r\n                for (var i = 0; i < classNames.length; i++) {\r\n                    el.classList.remove(KTUtil.trim(classNames[i]));\r\n                }\r\n            } else if (KTUtil.hasClass(el, className)) {\r\n                for (var x = 0; x < classNames.length; x++) {\r\n                    el.className = el.className.replace(new RegExp('\\\\b' + KTUtil.trim(classNames[x]) + '\\\\b', 'g'), '');\r\n                }\r\n            }\r\n        },\r\n\r\n        triggerCustomEvent: function(el, eventName, data) {\r\n            var event;\r\n            if (window.CustomEvent) {\r\n                event = new CustomEvent(eventName, {\r\n                    detail: data\r\n                });\r\n            } else {\r\n                event = document.createEvent('CustomEvent');\r\n                event.initCustomEvent(eventName, true, true, data);\r\n            }\r\n\r\n            el.dispatchEvent(event);\r\n        },\r\n\r\n        triggerEvent: function(node, eventName) {\r\n            // Make sure we use the ownerDocument from the provided node to avoid cross-window problems\r\n            var doc;\r\n            if (node.ownerDocument) {\r\n                doc = node.ownerDocument;\r\n            } else if (node.nodeType == 9) {\r\n                // the node may be the document itself, nodeType 9 = DOCUMENT_NODE\r\n                doc = node;\r\n            } else {\r\n                throw new Error(\"Invalid node passed to fireEvent: \" + node.id);\r\n            }\r\n\r\n            if (node.dispatchEvent) {\r\n                // Gecko-style approach (now the standard) takes more work\r\n                var eventClass = \"\";\r\n\r\n                // Different events have different event classes.\r\n                // If this switch statement can't map an eventName to an eventClass,\r\n                // the event firing is going to fail.\r\n                switch (eventName) {\r\n                    case \"click\": // Dispatching of 'click' appears to not work correctly in Safari. Use 'mousedown' or 'mouseup' instead.\r\n                    case \"mouseenter\":\r\n                    case \"mouseleave\":\r\n                    case \"mousedown\":\r\n                    case \"mouseup\":\r\n                        eventClass = \"MouseEvents\";\r\n                        break;\r\n\r\n                    case \"focus\":\r\n                    case \"change\":\r\n                    case \"blur\":\r\n                    case \"select\":\r\n                        eventClass = \"HTMLEvents\";\r\n                        break;\r\n\r\n                    default:\r\n                        throw \"fireEvent: Couldn't find an event class for event '\" + eventName + \"'.\";\r\n                        break;\r\n                }\r\n                var event = doc.createEvent(eventClass);\r\n\r\n                var bubbles = eventName == \"change\" ? false : true;\r\n                event.initEvent(eventName, bubbles, true); // All events created as bubbling and cancelable.\r\n\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                // The second parameter says go ahead with the default action\r\n                node.dispatchEvent(event, true);\r\n            } else if (node.fireEvent) {\r\n                // IE-old school style\r\n                var event = doc.createEventObject();\r\n                event.synthetic = true; // allow detection of synthetic events\r\n                node.fireEvent(\"on\" + eventName, event);\r\n            }\r\n        },\r\n\r\n        index: function( elm ){\r\n            elm = KTUtil.get(elm);\r\n            var c = elm.parentNode.children, i = 0;\r\n            for(; i < c.length; i++ )\r\n                if( c[i] == elm ) return i;\r\n        },\r\n\r\n        trim: function(string) {\r\n            return string.trim();\r\n        },\r\n\r\n        eventTriggered: function(e) {\r\n            if (e.currentTarget.dataset.triggered) {\r\n                return true;\r\n            } else {\r\n                e.currentTarget.dataset.triggered = true;\r\n\r\n                return false;\r\n            }\r\n        },\r\n\r\n        remove: function(el) {\r\n            if (el && el.parentNode) {\r\n                el.parentNode.removeChild(el);\r\n            }\r\n        },\r\n\r\n        find: function(parent, query) {\r\n            parent = KTUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelector(query);\r\n            }\r\n        },\r\n\r\n        findAll: function(parent, query) {\r\n            parent = KTUtil.get(parent);\r\n            if (parent) {\r\n                return parent.querySelectorAll(query);\r\n            }\r\n        },\r\n\r\n        insertAfter: function(el, referenceNode) {\r\n            return referenceNode.parentNode.insertBefore(el, referenceNode.nextSibling);\r\n        },\r\n\r\n        parents: function(elem, selector) {\r\n            // Element.matches() polyfill\r\n            if (!Element.prototype.matches) {\r\n                Element.prototype.matches =\r\n                    Element.prototype.matchesSelector ||\r\n                    Element.prototype.mozMatchesSelector ||\r\n                    Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.oMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector ||\r\n                    function(s) {\r\n                        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\r\n                            i = matches.length;\r\n                        while (--i >= 0 && matches.item(i) !== this) {}\r\n                        return i > -1;\r\n                    };\r\n            }\r\n\r\n            // Set up a parent array\r\n            var parents = [];\r\n\r\n            // Push each parent element to the array\r\n            for ( ; elem && elem !== document; elem = elem.parentNode ) {\r\n                if (selector) {\r\n                    if (elem.matches(selector)) {\r\n                        parents.push(elem);\r\n                    }\r\n                    continue;\r\n                }\r\n                parents.push(elem);\r\n            }\r\n\r\n            // Return our parent array\r\n            return parents;\r\n        },\r\n\r\n        children: function(el, selector, log) {\r\n            if (!el || !el.childNodes) {\r\n                return;\r\n            }\r\n\r\n            var result = [],\r\n                i = 0,\r\n                l = el.childNodes.length;\r\n\r\n            for (var i; i < l; ++i) {\r\n                if (el.childNodes[i].nodeType == 1 && KTUtil.matches(el.childNodes[i], selector, log)) {\r\n                    result.push(el.childNodes[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        child: function(el, selector, log) {\r\n            var children = KTUtil.children(el, selector, log);\r\n\r\n            return children ? children[0] : null;\r\n        },\r\n\r\n        matches: function(el, selector, log) {\r\n            var p = Element.prototype;\r\n            var f = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.msMatchesSelector || function(s) {\r\n                return [].indexOf.call(document.querySelectorAll(s), this) !== -1;\r\n            };\r\n\r\n            if (el && el.tagName) {\r\n                return f.call(el, selector);\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        data: function(element) {\r\n            element = KTUtil.get(element);\r\n\r\n            return {\r\n                set: function(name, data) {\r\n                    if (element == null || element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element.customDataTag === undefined) {\r\n                        window.KTUtilElementDataStoreID++;\r\n                        element.customDataTag = window.KTUtilElementDataStoreID;\r\n                    }\r\n\r\n                    if (window.KTUtilElementDataStore[element.customDataTag] === undefined) {\r\n                        window.KTUtilElementDataStore[element.customDataTag] = {};\r\n                    }\r\n\r\n                    window.KTUtilElementDataStore[element.customDataTag][name] = data;\r\n                },\r\n\r\n                get: function(name) {\r\n                    if (element === undefined) {\r\n                        return;\r\n                    }\r\n\r\n                    if (element == null || element.customDataTag === undefined) {\r\n                        return null;\r\n                    }\r\n\r\n                    return this.has(name) ? window.KTUtilElementDataStore[element.customDataTag][name] : null;\r\n                },\r\n\r\n                has: function(name) {\r\n                    if (element === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    if (element == null || element.customDataTag === undefined) {\r\n                        return false;\r\n                    }\r\n\r\n                    return (window.KTUtilElementDataStore[element.customDataTag] && window.KTUtilElementDataStore[element.customDataTag][name]) ? true : false;\r\n                },\r\n\r\n                remove: function(name) {\r\n                    if (element && this.has(name)) {\r\n                        delete window.KTUtilElementDataStore[element.customDataTag][name];\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n        outerWidth: function(el, margin) {\r\n            var width;\r\n\r\n            if (margin === true) {\r\n                width = parseFloat(el.offsetWidth);\r\n                width += parseFloat(KTUtil.css(el, 'margin-left')) + parseFloat(KTUtil.css(el, 'margin-right'));\r\n\r\n                return parseFloat(width);\r\n            } else {\r\n                width = parseFloat(el.offsetWidth);\r\n\r\n                return width;\r\n            }\r\n        },\r\n\r\n        offset: function(elem) {\r\n            var rect, win;\r\n            elem = KTUtil.get(elem);\r\n\r\n            if ( !elem ) {\r\n                return;\r\n            }\r\n\r\n            // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n            // Support: IE <=11 only\r\n            // Running getBoundingClientRect on a\r\n            // disconnected node in IE throws an error\r\n\r\n            if ( !elem.getClientRects().length ) {\r\n                return { top: 0, left: 0 };\r\n            }\r\n\r\n            // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n            rect = elem.getBoundingClientRect();\r\n            win = elem.ownerDocument.defaultView;\r\n\r\n            return {\r\n                top: rect.top + win.pageYOffset,\r\n                left: rect.left + win.pageXOffset\r\n            };\r\n        },\r\n\r\n        height: function(el) {\r\n            return KTUtil.css(el, 'height');\r\n        },\r\n\r\n        visible: function(el) {\r\n            return !(el.offsetWidth === 0 && el.offsetHeight === 0);\r\n        },\r\n\r\n        attr: function(el, name, value) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.setAttribute(name, value);\r\n            } else {\r\n                return el.getAttribute(name);\r\n            }\r\n        },\r\n\r\n        hasAttr: function(el, name) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            return el.getAttribute(name) ? true : false;\r\n        },\r\n\r\n        removeAttr: function(el, name) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el == undefined) {\r\n                return;\r\n            }\r\n\r\n            el.removeAttribute(name);\r\n        },\r\n\r\n        animate: function(from, to, duration, update, easing, done) {\r\n            /**\r\n             * TinyAnimate.easings\r\n             *  Adapted from jQuery Easing\r\n             */\r\n            var easings = {};\r\n            var easing;\r\n\r\n            easings.linear = function(t, b, c, d) {\r\n                return c * t / d + b;\r\n            };\r\n\r\n            easing = easings.linear;\r\n\r\n            // Early bail out if called incorrectly\r\n            if (typeof from !== 'number' ||\r\n                typeof to !== 'number' ||\r\n                typeof duration !== 'number' ||\r\n                typeof update !== 'function') {\r\n                return;\r\n            }\r\n\r\n            // Create mock done() function if necessary\r\n            if (typeof done !== 'function') {\r\n                done = function() {};\r\n            }\r\n\r\n            // Pick implementation (requestAnimationFrame | setTimeout)\r\n            var rAF = window.requestAnimationFrame || function(callback) {\r\n                window.setTimeout(callback, 1000 / 50);\r\n            };\r\n\r\n            // Animation loop\r\n            var canceled = false;\r\n            var change = to - from;\r\n\r\n            function loop(timestamp) {\r\n                var time = (timestamp || +new Date()) - start;\r\n\r\n                if (time >= 0) {\r\n                    update(easing(time, from, change, duration));\r\n                }\r\n                if (time >= 0 && time >= duration) {\r\n                    update(to);\r\n                    done();\r\n                } else {\r\n                    rAF(loop);\r\n                }\r\n            }\r\n\r\n            update(from);\r\n\r\n            // Start animation loop\r\n            var start = window.performance && window.performance.now ? window.performance.now() : +new Date();\r\n\r\n            rAF(loop);\r\n        },\r\n\r\n        actualCss: function(el, prop, cache) {\r\n            el = KTUtil.get(el);\r\n            var css = '';\r\n\r\n            if (el instanceof HTMLElement === false) {\r\n                return;\r\n            }\r\n\r\n            if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\r\n                var value;\r\n\r\n                // the element is hidden so:\r\n                // making the el block so we can meassure its height but still be hidden\r\n                css = el.style.cssText;\r\n                el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\r\n\r\n                if (prop == 'width') {\r\n                    value = el.offsetWidth;\r\n                } else if (prop == 'height') {\r\n                    value = el.offsetHeight;\r\n                }\r\n\r\n                el.style.cssText = css;\r\n\r\n                // store it in cache\r\n                el.setAttribute('kt-hidden-' + prop, value);\r\n\r\n                return parseFloat(value);\r\n            } else {\r\n                // store it in cache\r\n                return parseFloat(el.getAttribute('kt-hidden-' + prop));\r\n            }\r\n        },\r\n\r\n        actualHeight: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'height', cache);\r\n        },\r\n\r\n        actualWidth: function(el, cache) {\r\n            return KTUtil.actualCss(el, 'width', cache);\r\n        },\r\n\r\n        getScroll: function(element, method) {\r\n            // The passed in `method` value should be 'Top' or 'Left'\r\n            method = 'scroll' + method;\r\n            return (element == window || element == document) ? (\r\n                self[(method == 'scrollTop') ? 'pageYOffset' : 'pageXOffset'] ||\r\n                (browserSupportsBoxModel && document.documentElement[method]) ||\r\n                document.body[method]\r\n            ) : element[method];\r\n        },\r\n\r\n        css: function(el, styleProp, value) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (!el) {\r\n                return;\r\n            }\r\n\r\n            if (value !== undefined) {\r\n                el.style[styleProp] = value;\r\n            } else {\r\n                var defaultView = (el.ownerDocument || document).defaultView;\r\n                // W3C standard way:\r\n                if (defaultView && defaultView.getComputedStyle) {\r\n                    // sanitize property name to css notation\r\n                    // (hyphen separated words eg. font-Size)\r\n                    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n                    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n                } else if (el.currentStyle) { // IE\r\n                    // sanitize property name to camelCase\r\n                    styleProp = styleProp.replace(/\\-(\\w)/g, function(str, letter) {\r\n                        return letter.toUpperCase();\r\n                    });\r\n                    value = el.currentStyle[styleProp];\r\n                    // convert other units to pixels on IE\r\n                    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) {\r\n                        return (function(value) {\r\n                            var oldLeft = el.style.left,\r\n                                oldRsLeft = el.runtimeStyle.left;\r\n                            el.runtimeStyle.left = el.currentStyle.left;\r\n                            el.style.left = value || 0;\r\n                            value = el.style.pixelLeft + \"px\";\r\n                            el.style.left = oldLeft;\r\n                            el.runtimeStyle.left = oldRsLeft;\r\n                            return value;\r\n                        })(value);\r\n                    }\r\n                    return value;\r\n                }\r\n            }\r\n        },\r\n\r\n        slide: function(el, dir, speed, callback, recalcMaxHeight) {\r\n            if (!el || (dir == 'up' && KTUtil.visible(el) === false) || (dir == 'down' && KTUtil.visible(el) === true)) {\r\n                return;\r\n            }\r\n\r\n            speed = (speed ? speed : 600);\r\n            var calcHeight = KTUtil.actualHeight(el);\r\n            var calcPaddingTop = false;\r\n            var calcPaddingBottom = false;\r\n\r\n            if (KTUtil.css(el, 'padding-top') && KTUtil.data(el).has('slide-padding-top') !== true) {\r\n                KTUtil.data(el).set('slide-padding-top', KTUtil.css(el, 'padding-top'));\r\n            }\r\n\r\n            if (KTUtil.css(el, 'padding-bottom') && KTUtil.data(el).has('slide-padding-bottom') !== true) {\r\n                KTUtil.data(el).set('slide-padding-bottom', KTUtil.css(el, 'padding-bottom'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-top')) {\r\n                calcPaddingTop = parseInt(KTUtil.data(el).get('slide-padding-top'));\r\n            }\r\n\r\n            if (KTUtil.data(el).has('slide-padding-bottom')) {\r\n                calcPaddingBottom = parseInt(KTUtil.data(el).get('slide-padding-bottom'));\r\n            }\r\n\r\n            if (dir == 'up') { // up\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = (calcPaddingTop - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = (calcPaddingBottom - value) + 'px';\r\n                    }, 'linear');\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = (calcHeight - value) + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = 'none';\r\n                });\r\n\r\n\r\n            } else if (dir == 'down') { // down\r\n                el.style.cssText = 'display: block; overflow: hidden;';\r\n\r\n                if (calcPaddingTop) {\r\n                    KTUtil.animate(0, calcPaddingTop, speed, function(value) {\r\n                        el.style.paddingTop = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingTop = '';\r\n                    });\r\n                }\r\n\r\n                if (calcPaddingBottom) {\r\n                    KTUtil.animate(0, calcPaddingBottom, speed, function(value) {\r\n                        el.style.paddingBottom = value + 'px';\r\n                    }, 'linear', function() {\r\n                        el.style.paddingBottom = '';\r\n                    });\r\n                }\r\n\r\n                KTUtil.animate(0, calcHeight, speed, function(value) {\r\n                    el.style.height = value + 'px';\r\n                }, 'linear', function() {\r\n                    callback();\r\n                    el.style.height = '';\r\n                    el.style.display = '';\r\n                    el.style.overflow = '';\r\n                });\r\n            }\r\n        },\r\n\r\n        slideUp: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'up', speed, callback);\r\n        },\r\n\r\n        slideDown: function(el, speed, callback) {\r\n            KTUtil.slide(el, 'down', speed, callback);\r\n        },\r\n\r\n        show: function(el, display) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = (display ? display : 'block');\r\n            }\r\n        },\r\n\r\n        hide: function(el) {\r\n            if (typeof el !== 'undefined') {\r\n                el.style.display = 'none';\r\n            }\r\n        },\r\n\r\n        addEvent: function(el, type, handler, one) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (typeof el !== 'undefined' && el !== null) {\r\n                el.addEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        removeEvent: function(el, type, handler) {\r\n            el = KTUtil.get(el);\r\n\r\n            if (el !== null) {\r\n                el.removeEventListener(type, handler);\r\n            }\r\n        },\r\n\r\n        on: function(element, selector, event, handler) {\r\n            if (!selector) {\r\n                return;\r\n            }\r\n\r\n            var eventId = KTUtil.getUniqueID('event');\r\n\r\n            window.KTUtilDelegatedEventHandlers[eventId] = function(e) {\r\n                var targets = element.querySelectorAll(selector);\r\n                var target = e.target;\r\n\r\n                while (target && target !== element) {\r\n                    for (var i = 0, j = targets.length; i < j; i++) {\r\n                        if (target === targets[i]) {\r\n                            handler.call(target, e);\r\n                        }\r\n                    }\r\n\r\n                    target = target.parentNode;\r\n                }\r\n            }\r\n\r\n            KTUtil.addEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            return eventId;\r\n        },\r\n\r\n        off: function(element, event, eventId) {\r\n            if (!element || !window.KTUtilDelegatedEventHandlers[eventId]) {\r\n                return;\r\n            }\r\n\r\n            KTUtil.removeEvent(element, event, window.KTUtilDelegatedEventHandlers[eventId]);\r\n\r\n            delete window.KTUtilDelegatedEventHandlers[eventId];\r\n        },\r\n\r\n        one: function onetime(el, type, callback) {\r\n            el = KTUtil.get(el);\r\n\r\n            el.addEventListener(type, function callee(e) {\r\n                // remove event\r\n                if (e.target && e.target.removeEventListener) {\r\n                    e.target.removeEventListener(e.type, callee);\r\n                }\r\n\r\n                // call handler\r\n                return callback(e);\r\n            });\r\n        },\r\n\r\n        hash: function(str) {\r\n            var hash = 0,\r\n                i, chr;\r\n\r\n            if (str.length === 0) return hash;\r\n            for (i = 0; i < str.length; i++) {\r\n                chr = str.charCodeAt(i);\r\n                hash = ((hash << 5) - hash) + chr;\r\n                hash |= 0; // Convert to 32bit integer\r\n            }\r\n\r\n            return hash;\r\n        },\r\n\r\n        animateClass: function(el, animationName, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd',\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.addClass(el, 'animated ' + animationName);\r\n\r\n            KTUtil.one(el, animation, function() {\r\n                KTUtil.removeClass(el, 'animated ' + animationName);\r\n            });\r\n\r\n            if (callback) {\r\n                KTUtil.one(el, animation, callback);\r\n            }\r\n        },\r\n\r\n        transitionEnd: function(el, callback) {\r\n            var transition;\r\n            var transitions = {\r\n                transition: 'transitionend',\r\n                OTransition: 'oTransitionEnd',\r\n                MozTransition: 'mozTransitionEnd',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                msTransition: 'msTransitionEnd'\r\n            };\r\n\r\n            for (var t in transitions) {\r\n                if (el.style[t] !== undefined) {\r\n                    transition = transitions[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, transition, callback);\r\n        },\r\n\r\n        animationEnd: function(el, callback) {\r\n            var animation;\r\n            var animations = {\r\n                animation: 'animationend',\r\n                OAnimation: 'oAnimationEnd',\r\n                MozAnimation: 'mozAnimationEnd',\r\n                WebkitAnimation: 'webkitAnimationEnd',\r\n                msAnimation: 'msAnimationEnd'\r\n            };\r\n\r\n            for (var t in animations) {\r\n                if (el.style[t] !== undefined) {\r\n                    animation = animations[t];\r\n                }\r\n            }\r\n\r\n            KTUtil.one(el, animation, callback);\r\n        },\r\n\r\n        animateDelay: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-delay', value);\r\n            }\r\n        },\r\n\r\n        animateDuration: function(el, value) {\r\n            var vendors = ['webkit-', 'moz-', 'ms-', 'o-', ''];\r\n            for (var i = 0; i < vendors.length; i++) {\r\n                KTUtil.css(el, vendors[i] + 'animation-duration', value);\r\n            }\r\n        },\r\n\r\n        scrollTo: function(target, offset, duration) {\r\n            duration = duration ? duration : 500;\r\n            target = KTUtil.get(target);\r\n            var targetPos = target ? KTUtil.offset(target).top : 0;\r\n            var scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\r\n            var from, to;\r\n\r\n            if (offset) {\r\n                scrollPos += offset;\r\n            }\r\n\r\n            from = scrollPos;\r\n            to = targetPos;\r\n\r\n            KTUtil.animate(from, to, duration, function(value) {\r\n                document.documentElement.scrollTop = value;\r\n                document.body.parentNode.scrollTop = value;\r\n                document.body.scrollTop = value;\r\n            }); //, easing, done\r\n        },\r\n\r\n        scrollTop: function(offset, duration) {\r\n            KTUtil.scrollTo(null, offset, duration);\r\n        },\r\n\r\n        isArray: function(obj) {\r\n            return obj && Array.isArray(obj);\r\n        },\r\n\r\n        ready: function(callback) {\r\n            if (document.attachEvent ? document.readyState === \"complete\" : document.readyState !== \"loading\") {\r\n                callback();\r\n            } else {\r\n                document.addEventListener('DOMContentLoaded', callback);\r\n            }\r\n        },\r\n\r\n        isEmpty: function(obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        numberString: function(nStr) {\r\n            nStr += '';\r\n            var x = nStr.split('.');\r\n            var x1 = x[0];\r\n            var x2 = x.length > 1 ? '.' + x[1] : '';\r\n            var rgx = /(\\d+)(\\d{3})/;\r\n            while (rgx.test(x1)) {\r\n                x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n            }\r\n            return x1 + x2;\r\n        },\r\n\r\n        detectIE: function() {\r\n            var ua = window.navigator.userAgent;\r\n\r\n            // Test values; Uncomment to check result …\r\n\r\n            // IE 10\r\n            // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\r\n\r\n            // IE 11\r\n            // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\r\n\r\n            // Edge 12 (Spartan)\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\r\n\r\n            // Edge 13\r\n            // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\r\n\r\n            var msie = ua.indexOf('MSIE ');\r\n            if (msie > 0) {\r\n                // IE 10 or older => return version number\r\n                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n            }\r\n\r\n            var trident = ua.indexOf('Trident/');\r\n            if (trident > 0) {\r\n                // IE 11 => return version number\r\n                var rv = ua.indexOf('rv:');\r\n                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n            }\r\n\r\n            var edge = ua.indexOf('Edge/');\r\n            if (edge > 0) {\r\n                // Edge (IE 12+) => return version number\r\n                return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n            }\r\n\r\n            // other browser\r\n            return false;\r\n        },\r\n\r\n        isRTL: function() {\r\n            return (KTUtil.attr(KTUtil.get('html'), 'direction') == 'rtl');\r\n        },\r\n\r\n        //\r\n\r\n        // Scroller\r\n        scrollInit: function(element, options) {\r\n            if(!element) return;\r\n            // Define init function\r\n            function init() {\r\n                var ps;\r\n                var height;\r\n\r\n                if (options.height instanceof Function) {\r\n                    height = parseInt(options.height.call());\r\n                } else {\r\n                    height = parseInt(options.height);\r\n                }\r\n\r\n                // Destroy scroll on table and mobile modes\r\n                if ((options.mobileNativeScroll || options.disableForMobile) && KTUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n                    ps = KTUtil.data(element).get('ps');\r\n                    if (ps) {\r\n                        if (options.resetHeightOnDestroy) {\r\n                            KTUtil.css(element, 'height', 'auto');\r\n                        } else {\r\n                            KTUtil.css(element, 'overflow', 'auto');\r\n                            if (height > 0) {\r\n                                KTUtil.css(element, 'height', height + 'px');\r\n                            }\r\n                        }\r\n\r\n                        ps.destroy();\r\n                        ps = KTUtil.data(element).remove('ps');\r\n                    } else if (height > 0){\r\n                        KTUtil.css(element, 'overflow', 'auto');\r\n                        KTUtil.css(element, 'height', height + 'px');\r\n                    }\r\n\r\n                    return;\r\n                }\r\n\r\n                if (height > 0) {\r\n                    KTUtil.css(element, 'height', height + 'px');\r\n                }\r\n\r\n                if (options.desktopNativeScroll) {\r\n                    KTUtil.css(element, 'overflow', 'auto');\r\n                    return;\r\n                }\r\n\r\n                // Init scroll\r\n                KTUtil.css(element, 'overflow', 'hidden');\r\n\r\n                ps = KTUtil.data(element).get('ps');\r\n                if (ps) {\r\n                    ps.update();\r\n                } else {\r\n                    KTUtil.addClass(element, 'kt-scroll');\r\n                    ps = new PerfectScrollbar(element, {\r\n                        wheelSpeed: 0.5,\r\n                        swipeEasing: true,\r\n                        wheelPropagation: (options.windowScroll === false ? false : true),\r\n                        minScrollbarLength: 40,\r\n                        maxScrollbarLength: 300,\r\n                        suppressScrollX: KTUtil.attr(element, 'data-scroll-x') != 'true' ? true : false\r\n                    });\r\n\r\n                    KTUtil.data(element).set('ps', ps);\r\n                }\r\n\r\n                // Remember scroll position in cookie\r\n                var uid = KTUtil.attr(element, 'id');\r\n\r\n                if (options.rememberPosition === true && Cookies && uid) {\r\n                    if (Cookies.get(uid)) {\r\n                        var pos = parseInt(Cookies.get(uid));\r\n\r\n                        if (pos > 0) {\r\n                            element.scrollTop = pos;\r\n                        }\r\n                    }\r\n\r\n                    element.addEventListener('ps-scroll-y', function() {\r\n                        Cookies.set(uid, element.scrollTop);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Init\r\n            init();\r\n\r\n            // Handle window resize\r\n            if (options.handleWindowResize) {\r\n                KTUtil.addResizeHandler(function() {\r\n                    init();\r\n                });\r\n            }\r\n        },\r\n\r\n        scrollUpdate: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.update();\r\n            }\r\n        },\r\n\r\n        scrollUpdateAll: function(parent) {\r\n            var scrollers = KTUtil.findAll(parent, '.ps');\r\n            for (var i = 0, len = scrollers.length; i < len; i++) {\r\n                KTUtil.scrollUpdate(scrollers[i]);\r\n            }\r\n        },\r\n\r\n        scrollDestroy: function(element) {\r\n            var ps = KTUtil.data(element).get('ps');\r\n            if (ps) {\r\n                ps.destroy();\r\n                ps = KTUtil.data(element).remove('ps');\r\n            }\r\n        },\r\n\r\n        setHTML: function(el, html) {\r\n            if (KTUtil.get(el)) {\r\n                KTUtil.get(el).innerHTML = html;\r\n            }\r\n        },\r\n\r\n        getHTML: function(el) {\r\n            if (KTUtil.get(el)) {\r\n                return KTUtil.get(el).innerHTML;\r\n            }\r\n        },\r\n\r\n        getDocumentHeight: function() {\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n\r\n            return Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n        },\r\n\r\n        getScrollTop: function() {\r\n            return  (document.scrollingElement || document.documentElement).scrollTop;\r\n        }\r\n    }\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTUtil;\r\n}\r\n\r\n// Initialize KTUtil class on document ready\r\nKTUtil.ready(function() {\r\n    KTUtil.init();\r\n});\r\n\r\n// CSS3 Transitions only after page load(.kt-page-loading class added to body tag and remove with JS on page load)\r\nwindow.onload = function() {\r\n    KTUtil.removeClass(KTUtil.get('body'), 'kt-page--loading');\r\n}\r\n\n// plugin setup\r\nvar KTWizard = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.get(elementId);\r\n    var body = KTUtil.get('body');\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        startStep: 1,\r\n        clickableSteps: true\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Construct\r\n         */\r\n\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('wizard')) {\r\n                the = KTUtil.data(element).get('wizard');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('wizard', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Init wizard\r\n         */\r\n        init: function(options) {\r\n            the.element = element;\r\n            the.events = [];\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // Elements\r\n            the.steps = KTUtil.findAll(element, '[data-ktwizard-type=\"step\"]');\r\n\r\n            the.btnSubmit = KTUtil.find(element, '[data-ktwizard-type=\"action-submit\"]');\r\n            the.btnNext = KTUtil.find(element, '[data-ktwizard-type=\"action-next\"]');\r\n            the.btnPrev = KTUtil.find(element, '[data-ktwizard-type=\"action-prev\"]');\r\n            the.btnLast = KTUtil.find(element, '[data-ktwizard-type=\"action-last\"]');\r\n            the.btnFirst = KTUtil.find(element, '[data-ktwizard-type=\"action-first\"]');\r\n\r\n            // Variables\r\n            the.events = [];\r\n            the.currentStep = 1;\r\n            the.stopped = false;\r\n            the.totalSteps = the.steps.length;\r\n\r\n            // Init current step\r\n            if (the.options.startStep > 1) {\r\n                Plugin.goTo(the.options.startStep);\r\n            }\r\n\r\n            // Init UI\r\n            Plugin.updateUI();\r\n        },\r\n\r\n        /**\r\n         * Build Form Wizard\r\n         */\r\n        build: function() {\r\n            // Next button event handler\r\n            KTUtil.addEvent(the.btnNext, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getNextStep(), true);\r\n            });\r\n\r\n            // Prev button event handler\r\n            KTUtil.addEvent(the.btnPrev, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(Plugin.getPrevStep(), true);\r\n            });\r\n\r\n            // First button event handler\r\n            KTUtil.addEvent(the.btnFirst, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(1, true);\r\n            });\r\n\r\n            // Last button event handler\r\n            KTUtil.addEvent(the.btnLast, 'click', function(e) {\r\n                e.preventDefault();\r\n                Plugin.goTo(the.totalSteps, true);\r\n            });\r\n\r\n            if (the.options.clickableSteps === true) {\r\n                KTUtil.on(element, '[data-ktwizard-type=\"step\"]', 'click', function() {\r\n                    var index = Array.prototype.indexOf.call(the.steps, this) + 1;\r\n                    if (index !== the.currentStep) {\r\n                        Plugin.goTo(index, true);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles wizard click wizard\r\n         */\r\n        goTo: function(number, eventHandle) {\r\n            // Skip if this step is already shown\r\n            if (number === the.currentStep || number > the.totalSteps || number < 0) {\r\n                return;\r\n            }\r\n\r\n            // Validate step number\r\n            if (number) {\r\n                number = parseInt(number);\r\n            } else {\r\n                number = Plugin.getNextStep();\r\n            }\r\n\r\n            // Before next and prev events\r\n            var callback;\r\n\r\n            if (eventHandle === true) {\r\n                if (number > the.currentStep) {\r\n                    callback = Plugin.eventTrigger('beforeNext');\r\n                } else {\r\n                    callback = Plugin.eventTrigger('beforePrev');\r\n                }\r\n            }\r\n\r\n            // Skip if stopped\r\n            if (the.stopped === true) {\r\n                the.stopped = false;\r\n                return;\r\n            }\r\n\r\n            // Continue if no exit\r\n            if (callback !== false) {\r\n                // Before change\r\n                if (eventHandle === true) {\r\n                    Plugin.eventTrigger('beforeChange');\r\n                }\r\n\r\n                // Set current step\r\n                the.currentStep = number;\r\n\r\n                Plugin.updateUI();\r\n\r\n                // Trigger change event\r\n                if (eventHandle === true) {\r\n                    Plugin.eventTrigger('change');\r\n                }\r\n            }\r\n\r\n            // After next and prev events\r\n            if (eventHandle === true) {\r\n                if (number > the.startStep) {\r\n                    Plugin.eventTrigger('afterNext');\r\n                } else {\r\n                    Plugin.eventTrigger('afterPrev');\r\n                }\r\n            } else {\r\n                // this function called by method, stop for the next call\r\n                the.stopped = true;\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Cancel\r\n         */\r\n        stop: function() {\r\n            the.stopped = true;\r\n        },\r\n\r\n        /**\r\n         * Resume\r\n         */\r\n        start: function() {\r\n            the.stopped = false;\r\n        },\r\n\r\n        /**\r\n         * Check last step\r\n         */\r\n        isLastStep: function() {\r\n            return the.currentStep === the.totalSteps;\r\n        },\r\n\r\n        /**\r\n         * Check first step\r\n         */\r\n        isFirstStep: function() {\r\n            return the.currentStep === 1;\r\n        },\r\n\r\n        /**\r\n         * Check between step\r\n         */\r\n        isBetweenStep: function() {\r\n            return Plugin.isLastStep() === false && Plugin.isFirstStep() === false;\r\n        },\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        updateUI: function() {\r\n            var stepType = '';\r\n            var index = the.currentStep - 1;\r\n\r\n            if (Plugin.isLastStep()) {\r\n                stepType = 'last';\r\n            } else if (Plugin.isFirstStep()) {\r\n                stepType = 'first';\r\n            } else {\r\n                stepType = 'between';\r\n            }\r\n\r\n            KTUtil.attr(the.element, 'data-ktwizard-state', stepType);\r\n\r\n            // Steps\r\n            var steps = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step\"]');\r\n\r\n            if (steps && steps.length > 0) {\r\n                for (var i = 0, len = steps.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(steps[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        if (i < index) {\r\n                            KTUtil.attr(steps[i], 'data-ktwizard-state', 'done');\r\n                        } else {\r\n                            KTUtil.attr(steps[i], 'data-ktwizard-state', 'pending');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Steps Info\r\n            var stepsInfo = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step-info\"]');\r\n            if (stepsInfo &&stepsInfo.length > 0) {\r\n                for (var i = 0, len = stepsInfo.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(stepsInfo[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        KTUtil.removeAttr(stepsInfo[i], 'data-ktwizard-state');\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Steps Content\r\n            var stepsContent = KTUtil.findAll(the.element, '[data-ktwizard-type=\"step-content\"]');\r\n            if (stepsContent&& stepsContent.length > 0) {\r\n                for (var i = 0, len = stepsContent.length; i < len; i++) {\r\n                    if (i == index) {\r\n                        KTUtil.attr(stepsContent[i], 'data-ktwizard-state', 'current');\r\n                    } else {\r\n                        KTUtil.removeAttr(stepsContent[i], 'data-ktwizard-state');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get next step\r\n         */\r\n        getNextStep: function() {\r\n            if (the.totalSteps >= (the.currentStep + 1)) {\r\n                return the.currentStep + 1;\r\n            } else {\r\n                return the.totalSteps;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get prev step\r\n         */\r\n        getPrevStep: function() {\r\n            if ((the.currentStep - 1) >= 1) {\r\n                return the.currentStep - 1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, nested) {\r\n            //KTUtil.triggerCustomEvent(name);\r\n            for (var i = 0; i < the.events.length; i++) {\r\n                var event = the.events[i];\r\n                if (event.name == name) {\r\n                    if (event.one == true) {\r\n                        if (event.fired == false) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, the);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, the);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n\r\n            return the;\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Go to the next step\r\n     */\r\n    the.goNext = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getNextStep(), eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the prev step\r\n     */\r\n    the.goPrev = function(eventHandle) {\r\n        return Plugin.goTo(Plugin.getPrevStep(),eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the last step\r\n     */\r\n    the.goLast = function(eventHandle) {\r\n        return Plugin.goTo(the.totalSteps, eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to the first step\r\n     */\r\n    the.goFirst = function(eventHandle) {\r\n        return Plugin.goTo(1, eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Go to a step\r\n     */\r\n    the.goTo = function(number, eventHandle) {\r\n        return Plugin.goTo(number, eventHandle);\r\n    };\r\n\r\n    /**\r\n     * Cancel step\r\n     */\r\n    the.stop = function() {\r\n        return Plugin.stop();\r\n    };\r\n\r\n    /**\r\n     * Resume step\r\n     */\r\n    the.start = function() {\r\n        return Plugin.start();\r\n    };\r\n\r\n    /**\r\n     * Get current step number\r\n     */\r\n    the.getStep = function() {\r\n        return the.currentStep;\r\n    };\r\n\r\n    /**\r\n     * Check last step\r\n     */\r\n    the.isLastStep = function() {\r\n        return Plugin.isLastStep();\r\n    };\r\n\r\n    /**\r\n     * Check first step\r\n     */\r\n    the.isFirstStep = function() {\r\n        return Plugin.isFirstStep();\r\n    };\r\n\r\n    /**\r\n     * Attach event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    /**\r\n     * Attach event that will be fired once\r\n     */\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    // Construct plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    module.exports = KTWizard;\r\n}\r\n\n'use strict';\r\n(function($) {\r\n\r\n\tvar pluginName = 'KTDatatable';\r\n\tvar pfx = 'kt-';\r\n\tvar util = KTUtil;\r\n\tvar app = KTApp;\r\n\r\n\tif (typeof util === 'undefined') throw new Error('Util class is required and must be included before ' + pluginName);\r\n\r\n\t// plugin setup\r\n\t$.fn[pluginName] = function(options) {\r\n\t\tif ($(this).length === 0) {\r\n\t\t\tconsole.warn('No ' + pluginName + ' element exist.');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// global variables\r\n\t\tvar datatable = this;\r\n\r\n\t\t// debug enabled?\r\n\t\t// 1) state will be cleared on each refresh\r\n\t\t// 2) enable some logs\r\n\t\t// 3) etc.\r\n\t\tdatatable.debug = false;\r\n\r\n\t\tdatatable.API = {\r\n\t\t\trecord: null,\r\n\t\t\tvalue: null,\r\n\t\t\tparams: null,\r\n\t\t};\r\n\r\n\t\tvar Plugin = {\r\n\t\t\t/********************\r\n\t\t\t ** PRIVATE METHODS\r\n\t\t\t ********************/\r\n\t\t\tisInit: false,\r\n\t\t\tcellOffset: 110,\r\n\t\t\ticonOffset: 15,\r\n\t\t\tstateId: 'meta',\r\n\t\t\tajaxParams: {},\r\n\t\t\tpagingObject: {},\r\n\r\n\t\t\tinit: function(options) {\r\n\t\t\t\tvar isHtmlTable = false;\r\n\t\t\t\t// data source option empty is normal table\r\n\t\t\t\tif (options.data.source === null) {\r\n\t\t\t\t\tPlugin.extractTable();\r\n\t\t\t\t\tisHtmlTable = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.setupBaseDOM.call();\r\n\t\t\t\tPlugin.setupDOM(datatable.table);\r\n\r\n\t\t\t\t// set custom query from options\r\n\t\t\t\tPlugin.setDataSourceQuery(Plugin.getOption('data.source.read.params.query'));\r\n\r\n\t\t\t\t// on event after layout had done setup, show datatable\r\n\t\t\t\t$(datatable).on(pfx + 'datatable--on-layout-updated', Plugin.afterRender);\r\n\r\n\t\t\t\tif (datatable.debug) {\r\n\t\t\t\t\tPlugin.stateRemove(Plugin.stateId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// initialize extensions\r\n\t\t\t\t$.each(Plugin.getOption('extensions'), function(extName, extOptions) {\r\n\t\t\t\t\tif (typeof $.fn[pluginName][extName] === 'function') {\r\n\t\t\t\t\t\tnew $.fn[pluginName][extName](datatable, extOptions);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tPlugin.spinnerCallback(true);\r\n\t\t\t\t// get data\r\n\t\t\t\tif (options.data.type === 'remote' || options.data.type === 'local') {\r\n\t\t\t\t\tif (options.data.saveState === false\r\n\t\t\t\t\t\t|| options.data.saveState.cookie === false\r\n\t\t\t\t\t\t&& options.data.saveState.webstorage === false) {\r\n\t\t\t\t\t\tPlugin.stateRemove(Plugin.stateId);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// get data for local datatable and local table\r\n\t\t\t\t\tif (options.data.type === 'local' && typeof options.data.source === 'object') {\r\n\t\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet = Plugin.dataMapCallback(options.data.source);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t}\r\n\r\n                // if html table, remove and setup a new header\r\n                if (isHtmlTable) {\r\n                  $(datatable.tableHead).find('tr').remove();\r\n                  $(datatable.tableFoot).find('tr').remove();\r\n                }\r\n\r\n                Plugin.setHeadTitle();\r\n                if (Plugin.getOption('layout.footer')) {\r\n                  Plugin.setHeadTitle(datatable.tableFoot);\r\n                }\r\n\r\n\t\t\t\t// hide header\r\n\t\t\t\tif (typeof options.layout.header !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.header === false) {\r\n\t\t\t\t\t$(datatable.table).find('thead').remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// hide footer\r\n\t\t\t\tif (typeof options.layout.footer !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.footer === false) {\r\n\t\t\t\t\t$(datatable.table).find('tfoot').remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// for normal and local data type, run layoutUpdate\r\n\t\t\t\tif (options.data.type === null ||\r\n\t\t\t\t\toptions.data.type === 'local') {\r\n\t\t\t\t\tPlugin.setupCellField.call();\r\n\t\t\t\t\tPlugin.setupTemplateCell.call();\r\n\r\n\t\t\t\t\t// setup nested datatable, if option enabled\r\n\t\t\t\t\tPlugin.setupSubDatatable.call();\r\n\r\n\t\t\t\t\t// setup extra system column properties\r\n\t\t\t\t\tPlugin.setupSystemColumn.call();\r\n\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar width;\r\n\t\t\t\tvar initialWidth = false;\r\n\t\t\t\t$(window).resize(function() {\r\n\t\t\t\t\t// issue: URL Bar Resizing on mobile, https://developers.google.com/web/updates/2016/12/url-bar-resizing\r\n\t\t\t\t\t// trigger datatable resize on width change only\r\n\t\t\t\t\tif ($(this).width() !== width) {\r\n\t\t\t\t\t\twidth = $(this).width();\r\n\t\t\t\t\t\tPlugin.fullRender();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// get initial width\r\n\t\t\t\t\tif (!initialWidth) {\r\n\t\t\t\t\t\twidth = $(this).width();\r\n\t\t\t\t\t\tinitialWidth = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).height('');\r\n\r\n\t\t\t\tvar prevKeyword = '';\r\n\t\t\t\t$(Plugin.getOption('search.input')).on('keyup', function(e) {\r\n\t\t\t\t\tif (Plugin.getOption('search.onEnter') && e.which !== 13) return;\r\n\t\t\t\t\tvar keyword = $(this).val();\r\n\t\t\t\t\t// prevent multiple search request on every button keyup\r\n\t\t\t\t\tif (prevKeyword !== keyword) {\r\n\t\t\t\t\t\tPlugin.search(keyword);\r\n\t\t\t\t\t\tprevKeyword = keyword;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Extract static HTML table content into datasource\r\n\t\t\t */\r\n\t\t\textractTable: function() {\r\n\t\t\t\tvar columns = [];\r\n\t\t\t\tvar headers = $(datatable).find('tr:first-child th').get().map(function(cell, i) {\r\n\t\t\t\t\tvar field = $(cell).data('field');\r\n\t\t\t\t\tif (typeof field === 'undefined') {\r\n\t\t\t\t\t\tfield = $(cell).text().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar column = {field: field, title: field};\r\n\t\t\t\t\tfor (var ii in options.columns) {\r\n\t\t\t\t\t\tif (options.columns[ii].field === field) {\r\n\t\t\t\t\t\t\tcolumn = $.extend(true, {}, options.columns[ii], column);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcolumns.push(column);\r\n\t\t\t\t\treturn field;\r\n\t\t\t\t});\r\n\t\t\t\t// auto create columns config\r\n\t\t\t\toptions.columns = columns;\r\n\r\n\t\t\t\tvar rowProp = [];\r\n\t\t\t\tvar source = [];\r\n\r\n\t\t\t\t$(datatable).find('tr').each(function() {\r\n\t\t\t\t\tif ($(this).find('td').length) {\r\n\t\t\t\t\t\trowProp.push($(this).prop('attributes'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar td = {};\r\n\t\t\t\t\t$(this).find('td').each(function(i, cell) {\r\n\t\t\t\t\t\ttd[headers[i]] = cell.innerHTML.trim();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!util.isEmpty(td)) {\r\n\t\t\t\t\t\tsource.push(td);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\toptions.data.attr.rowProps = rowProp;\r\n\t\t\t\toptions.data.source = source;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * One time layout update on init\r\n\t\t\t */\r\n\t\t\tlayoutUpdate: function() {\r\n\t\t\t\t// setup nested datatable, if option enabled\r\n\t\t\t\tPlugin.setupSubDatatable.call();\r\n\r\n\t\t\t\t// setup extra system column properties\r\n\t\t\t\tPlugin.setupSystemColumn.call();\r\n\r\n\t\t\t\t// setup cell hover event\r\n\t\t\t\tPlugin.setupHover.call();\r\n\r\n\t\t\t\tif (typeof options.detail === 'undefined'\r\n\t\t\t\t\t// temporary disable lock column in subtable\r\n\t\t\t\t\t&& Plugin.getDepth() === 1) {\r\n\t\t\t\t\t// lock columns handler\r\n\t\t\t\t\tPlugin.lockTable.call();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.resetScroll();\r\n\r\n\t\t\t\t// check if not is a locked column\r\n\t\t\t\tif (!Plugin.isLocked()) {\r\n\t\t\t\t\tPlugin.redraw.call();\r\n\t\t\t\t\t// check if its not a subtable and has autoHide option enabled\r\n\t\t\t\t\tif (!Plugin.isSubtable() && Plugin.getOption('rows.autoHide') === true) {\r\n\t\t\t\t\t\tPlugin.autoHide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// reset row\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').css('height', '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.columnHide.call();\r\n\r\n\t\t\t\tPlugin.rowEvenOdd.call();\r\n\r\n\t\t\t\tPlugin.sorting.call();\r\n\r\n\t\t\t\tPlugin.scrollbar.call();\r\n\r\n\t\t\t\tif (!Plugin.isInit) {\r\n\t\t\t\t\t// run once dropdown inside datatable\r\n\t\t\t\t\tPlugin.dropdownFix();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-init', {table: $(datatable.wrap).attr('id'), options: options});\r\n\t\t\t\t\tPlugin.isInit = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-layout-updated', {table: $(datatable.wrap).attr('id')});\r\n\t\t\t},\r\n\r\n\t\t\tdropdownFix: function() {\r\n\t\t\t\tvar dropdownMenu;\r\n\t\t\t\t$('body').on('show.bs.dropdown', '.' + pfx + 'datatable .' + pfx + 'datatable__body', function(e) {\r\n\t\t\t\t\tdropdownMenu = $(e.target).find('.dropdown-menu');\r\n\t\t\t\t\t$('body').append(dropdownMenu.detach());\r\n\t\t\t\t\tdropdownMenu.css('display', 'block');\r\n\t\t\t\t\tdropdownMenu.position({\r\n\t\t\t\t\t\t'my': 'right top',\r\n\t\t\t\t\t\t'at': 'right bottom',\r\n\t\t\t\t\t\t'of': $(e.relatedTarget),\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// if datatable is inside modal\r\n\t\t\t\t\tif (datatable.closest('.modal').length) {\r\n\t\t\t\t\t\t// increase dropdown z-index\r\n\t\t\t\t\t\tdropdownMenu.css('z-index', '2000');\r\n\t\t\t\t\t}\r\n\t\t\t\t}).on('hide.bs.dropdown', '.' + pfx + 'datatable .' + pfx + 'datatable__body', function(e) {\r\n\t\t\t\t\t$(e.target).append(dropdownMenu.detach());\r\n\t\t\t\t\tdropdownMenu.hide();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// remove dropdown if window resize\r\n\t\t\t\t$(window).on('resize', function(e) {\r\n\t\t\t\t\tif (typeof dropdownMenu !== 'undefined') {\r\n\t\t\t\t\t\tdropdownMenu.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tlockTable: function() {\r\n\t\t\t\tvar lock = {\r\n\t\t\t\t\tlockEnabled: false,\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\t// check if table should be locked columns\r\n\t\t\t\t\t\tlock.lockEnabled = Plugin.lockEnabledColumns();\r\n\t\t\t\t\t\tif (lock.lockEnabled.left.length === 0 &&\r\n\t\t\t\t\t\t\tlock.lockEnabled.right.length === 0) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlock.enable();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tenable: function() {\r\n\t\t\t\t\t\tvar enableLock = function(tablePart) {\r\n\t\t\t\t\t\t\t// check if already has lock column\r\n\t\t\t\t\t\t\tif ($(tablePart).find('.' + pfx + 'datatable__lock').length > 0) {\r\n\t\t\t\t\t\t\t\tPlugin.log('Locked container already exist in: ', tablePart);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// check if no rows exists\r\n\t\t\t\t\t\t\tif ($(tablePart).find('.' + pfx + 'datatable__row').length === 0) {\r\n\t\t\t\t\t\t\t\tPlugin.log('No row exist in: ', tablePart);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// locked div container\r\n\t\t\t\t\t\t\tvar lockLeft = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--left');\r\n\t\t\t\t\t\t\tvar lockScroll = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--scroll');\r\n\t\t\t\t\t\t\tvar lockRight = $('<div/>').addClass(pfx + 'datatable__lock ' + pfx + 'datatable__lock--right');\r\n\r\n\t\t\t\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function() {\r\n\t\t\t\t\t\t\t\t// create new row for lock columns and pass the data\r\n\t\t\t\t\t\t\t\tvar rowLeft = $('<tr/>').addClass(pfx + 'datatable__row').data('obj', $(this).data('obj')).appendTo(lockLeft);\r\n\t\t\t\t\t\t\t\tvar rowScroll = $('<tr/>').addClass(pfx + 'datatable__row').data('obj', $(this).data('obj')).appendTo(lockScroll);\r\n\t\t\t\t\t\t\t\tvar rowRight = $('<tr/>').addClass(pfx + 'datatable__row').data('obj', $(this).data('obj')).appendTo(lockRight);\r\n\t\t\t\t\t\t\t\t$(this).find('.' + pfx + 'datatable__cell').each(function() {\r\n\t\t\t\t\t\t\t\t\tvar locked = $(this).data('locked');\r\n\t\t\t\t\t\t\t\t\tif (typeof locked !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t\tif (typeof locked.left !== 'undefined' || locked === true) {\r\n\t\t\t\t\t\t\t\t\t\t\t// default locked to left\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowLeft);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (typeof locked.right !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowRight);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t$(this).appendTo(rowScroll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// remove old row\r\n\t\t\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.left.length > 0) {\r\n\t\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--lock');\r\n\t\t\t\t\t\t\t\t$(lockLeft).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.left.length > 0 || lock.lockEnabled.right.length > 0) {\r\n\t\t\t\t\t\t\t\t$(lockScroll).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (lock.lockEnabled.right.length > 0) {\r\n\t\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--lock');\r\n\t\t\t\t\t\t\t\t$(lockRight).appendTo(tablePart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t$(datatable.table).find('thead,tbody,tfoot').each(function() {\r\n\t\t\t\t\t\t\tvar tablePart = this;\r\n\t\t\t\t\t\t\tif ($(this).find('.' + pfx + 'datatable__lock').length === 0) {\r\n\t\t\t\t\t\t\t\t$(this).ready(function() {\r\n\t\t\t\t\t\t\t\t\tenableLock(tablePart);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tlock.init();\r\n\t\t\t\treturn lock;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Render everything for resize\r\n\t\t\t */\r\n\t\t\tfullRender: function() {\r\n\t\t\t\t$(datatable.tableHead).empty();\r\n\t\t\t\tPlugin.setHeadTitle();\r\n\t\t\t\tif (Plugin.getOption('layout.footer')) {\r\n\t\t\t\t\t$(datatable.tableFoot).empty();\r\n\t\t\t\t\tPlugin.setHeadTitle(datatable.tableFoot);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPlugin.spinnerCallback(true);\r\n\t\t\t\t$(datatable.wrap).removeClass(pfx + 'datatable--loaded');\r\n\r\n\t\t\t\tPlugin.insertData();\r\n\t\t\t},\r\n\r\n\t\t\tlockEnabledColumns: function() {\r\n\t\t\t\tvar screen = $(window).width();\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\tvar enabled = {left: [], right: []};\r\n\t\t\t\t$.each(columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.locked !== 'undefined') {\r\n\t\t\t\t\t\tif (typeof column.locked.left !== 'undefined') {\r\n\t\t\t\t\t\t\tif (util.getBreakpoint(column.locked.left) <= screen) {\r\n\t\t\t\t\t\t\t\tenabled['left'].push(column.locked.left);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (typeof column.locked.right !== 'undefined') {\r\n\t\t\t\t\t\t\tif (util.getBreakpoint(column.locked.right) <= screen) {\r\n\t\t\t\t\t\t\t\tenabled['right'].push(column.locked.right);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn enabled;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * After render event, called by\r\n\t\t\t * '+pfx+'-datatable--on-layout-updated\r\n\t\t\t * @param e\r\n\t\t\t * @param args\r\n\t\t\t */\r\n\t\t\tafterRender: function(e, args) {\r\n\t\t\t\t$(datatable).ready(function() {\r\n\t\t\t\t\t// redraw locked columns table\r\n\t\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(datatable.tableBody).css('visibility', '');\r\n\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--loaded');\r\n\r\n\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\thoverTimer: 0,\r\n\t\t\tisScrolling: false,\r\n\t\t\tsetupHover: function() {\r\n\t\t\t\t$(window).scroll(function(e) {\r\n\t\t\t\t\t// stop hover when scrolling\r\n\t\t\t\t\tclearTimeout(Plugin.hoverTimer);\r\n\t\t\t\t\tPlugin.isScrolling = true;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__cell').off('mouseenter', 'mouseleave').on('mouseenter', function() {\r\n\t\t\t\t\t// reset scroll timer to hover class\r\n\t\t\t\t\tPlugin.hoverTimer = setTimeout(function() {\r\n\t\t\t\t\t\tPlugin.isScrolling = false;\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t\tif (Plugin.isScrolling) return;\r\n\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row').addClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t\tvar index = $(row).index() + 1;\r\n\r\n\t\t\t\t\t// lock table\r\n\t\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').addClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t}).on('mouseleave', function() {\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row').removeClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t\tvar index = $(row).index() + 1;\r\n\r\n\t\t\t\t\t// look table\r\n\t\t\t\t\t$(row).closest('.' + pfx + 'datatable__lock').parent().find('.' + pfx + 'datatable__row:nth-child(' + index + ')').removeClass(pfx + 'datatable__row--hover');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust width of locked table containers by resize handler\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tadjustLockContainer: function() {\r\n\t\t\t\tif (!Plugin.isLocked()) return 0;\r\n\r\n\t\t\t\t// refer to head dimension\r\n\t\t\t\tvar containerWidth = $(datatable.tableHead).width();\r\n\t\t\t\tvar lockLeft = $(datatable.tableHead).find('.' + pfx + 'datatable__lock--left').width();\r\n\t\t\t\tvar lockRight = $(datatable.tableHead).find('.' + pfx + 'datatable__lock--right').width();\r\n\r\n\t\t\t\tif (typeof lockLeft === 'undefined') lockLeft = 0;\r\n\t\t\t\tif (typeof lockRight === 'undefined') lockRight = 0;\r\n\r\n\t\t\t\tvar lockScroll = Math.floor(containerWidth - lockLeft - lockRight);\r\n\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__lock--scroll').css('width', lockScroll);\r\n\r\n\t\t\t\treturn lockScroll;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * todo; not in use\r\n\t\t\t */\r\n\t\t\tdragResize: function() {\r\n\t\t\t\tvar pressed = false;\r\n\t\t\t\tvar start = undefined;\r\n\t\t\t\tvar startX, startWidth;\r\n\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell').mousedown(function(e) {\r\n\t\t\t\t\tstart = $(this);\r\n\t\t\t\t\tpressed = true;\r\n\t\t\t\t\tstartX = e.pageX;\r\n\t\t\t\t\tstartWidth = $(this).width();\r\n\t\t\t\t\t$(start).addClass(pfx + 'datatable__cell--resizing');\r\n\r\n\t\t\t\t}).mousemove(function(e) {\r\n\t\t\t\t\tif (pressed) {\r\n\t\t\t\t\t\tvar i = $(start).index();\r\n\t\t\t\t\t\tvar tableBody = $(datatable.tableBody);\r\n\t\t\t\t\t\tvar ifLocked = $(start).closest('.' + pfx + 'datatable__lock');\r\n\r\n\t\t\t\t\t\tif (ifLocked) {\r\n\t\t\t\t\t\t\tvar lockedIndex = $(ifLocked).index();\r\n\t\t\t\t\t\t\ttableBody = $(datatable.tableBody).find('.' + pfx + 'datatable__lock').eq(lockedIndex);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$(tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').eq(i).width(startWidth + (e.pageX - startX)).children().width(startWidth + (e.pageX - startX));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t$(start).children().css('width', startWidth + (e.pageX - startX));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).mouseup(function() {\r\n\t\t\t\t\t$(start).removeClass(pfx + 'datatable__cell--resizing');\r\n\t\t\t\t\tpressed = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(document).mouseup(function() {\r\n\t\t\t\t\t$(start).removeClass(pfx + 'datatable__cell--resizing');\r\n\t\t\t\t\tpressed = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * To prepare placeholder for table before content is loading\r\n\t\t\t */\r\n\t\t\tinitHeight: function() {\r\n\t\t\t\tif (options.layout.height && options.layout.scroll) {\r\n\t\t\t\t\tvar theadHeight = $(datatable.tableHead).find('.' + pfx + 'datatable__row').outerHeight();\r\n\t\t\t\t\tvar tfootHeight = $(datatable.tableFoot).find('.' + pfx + 'datatable__row').outerHeight();\r\n\t\t\t\t\tvar bodyHeight = options.layout.height;\r\n\t\t\t\t\tif (theadHeight > 0) {\r\n\t\t\t\t\t\tbodyHeight -= theadHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (tfootHeight > 0) {\r\n\t\t\t\t\t\tbodyHeight -= tfootHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// scrollbar offset\r\n\t\t\t\t\tbodyHeight -= 2;\r\n\r\n\t\t\t\t\t$(datatable.tableBody).css('max-height', Math.floor(parseFloat(bodyHeight)));\r\n\r\n\t\t\t\t\t// set scrollable area fixed height\r\n\t\t\t\t\t// $(datatable.tableBody).find('.' + pfx + 'datatable__lock--scroll').css('height', Math.floor(parseFloat(bodyHeight)));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup base DOM (table, thead, tbody, tfoot) and create if not\r\n\t\t\t * exist.\r\n\t\t\t */\r\n\t\t\tsetupBaseDOM: function() {\r\n\t\t\t\t// keep original state before datatable initialize\r\n\t\t\t\tdatatable.initialDatatable = $(datatable).clone();\r\n\r\n\t\t\t\t// main element\r\n\t\t\t\tif ($(datatable).prop('tagName') === 'TABLE') {\r\n\t\t\t\t\t// if main init element is <table>, wrap with div\r\n\t\t\t\t\tdatatable.table = $(datatable).removeClass(pfx + 'datatable').addClass(pfx + 'datatable__table');\r\n\t\t\t\t\tif ($(datatable.table).parents('.' + pfx + 'datatable').length === 0) {\r\n\t\t\t\t\t\tdatatable.table.wrap($('<div/>').addClass(pfx + 'datatable').addClass(pfx + 'datatable--' + options.layout.theme));\r\n\t\t\t\t\t\tdatatable.wrap = $(datatable.table).parent();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// create table\r\n\t\t\t\t\tdatatable.wrap = $(datatable).addClass(pfx + 'datatable').addClass(pfx + 'datatable--' + options.layout.theme);\r\n\t\t\t\t\tdatatable.table = $('<table/>').addClass(pfx + 'datatable__table').appendTo(datatable);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof options.layout.class !== 'undefined') {\r\n\t\t\t\t\t$(datatable.wrap).addClass(options.layout.class);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(datatable.table).removeClass(pfx + 'datatable--destroyed').css('display', 'block');\r\n\r\n\t\t\t\t// force disable save state\r\n\t\t\t\tif (typeof $(datatable).attr('id') === 'undefined') {\r\n\t\t\t\t\tPlugin.setOption('data.saveState', false);\r\n\t\t\t\t\t$(datatable.table).attr('id', util.getUniqueID(pfx + 'datatable--'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// predefine table height\r\n\t\t\t\tif (Plugin.getOption('layout.minHeight'))\r\n\t\t\t\t\t$(datatable.table).css('min-height', Plugin.getOption('layout.minHeight'));\r\n\r\n\t\t\t\tif (Plugin.getOption('layout.height'))\r\n\t\t\t\t\t$(datatable.table).css('max-height', Plugin.getOption('layout.height'));\r\n\r\n\t\t\t\t// for normal table load\r\n\t\t\t\tif (options.data.type === null) {\r\n\t\t\t\t\t$(datatable.table).css('width', '').css('display', '');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create table head element\r\n\t\t\t\tdatatable.tableHead = $(datatable.table).find('thead');\r\n\t\t\t\tif ($(datatable.tableHead).length === 0) {\r\n\t\t\t\t\tdatatable.tableHead = $('<thead/>').prependTo(datatable.table);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// create table head element\r\n\t\t\t\tdatatable.tableBody = $(datatable.table).find('tbody');\r\n\t\t\t\tif ($(datatable.tableBody).length === 0) {\r\n\t\t\t\t\tdatatable.tableBody = $('<tbody/>').appendTo(datatable.table);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof options.layout.footer !== 'undefined' &&\r\n\t\t\t\t\toptions.layout.footer) {\r\n\t\t\t\t\t// create table foot element\r\n\t\t\t\t\tdatatable.tableFoot = $(datatable.table).find('tfoot');\r\n\t\t\t\t\tif ($(datatable.tableFoot).length === 0) {\r\n\t\t\t\t\t\tdatatable.tableFoot = $('<tfoot/>').appendTo(datatable.table);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column data before table manipulation.\r\n\t\t\t */\r\n\t\t\tsetupCellField: function(tableParts) {\r\n\t\t\t\tif (typeof tableParts === 'undefined') tableParts = $(datatable.table).children();\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$.each(tableParts, function(part, tablePart) {\r\n\t\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t\t// prepare data\r\n\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t\tif (typeof columns[tdi] !== 'undefined') {\r\n\t\t\t\t\t\t\t\t$(td).data(columns[tdi]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column template callback\r\n\t\t\t * @param tablePart\r\n\t\t\t */\r\n\t\t\tsetupTemplateCell: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableBody;\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(tablePart).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t// row data object, if any\r\n\t\t\t\t\tvar obj = $(tr).data('obj');\r\n\t\t\t\t\tif (typeof obj === 'undefined') {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\t// obj['getIndex'] = function() {\r\n\t\t\t\t\t// \treturn tri;\r\n\t\t\t\t\t// };\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\t// obj['getDatatable'] = function() {\r\n\t\t\t\t\t// \treturn datatable;\r\n\t\t\t\t\t// };\r\n\r\n\t\t\t\t\t// @deprecated in v5.0.6\r\n\t\t\t\t\tvar rowCallback = Plugin.getOption('rows.callback');\r\n\t\t\t\t\tif (typeof rowCallback === 'function') {\r\n\t\t\t\t\t\trowCallback($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// before template row callback\r\n\t\t\t\t\tvar beforeTemplate = Plugin.getOption('rows.beforeTemplate');\r\n\t\t\t\t\tif (typeof beforeTemplate === 'function') {\r\n\t\t\t\t\t\tbeforeTemplate($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if data object is undefined, collect from table\r\n\t\t\t\t\tif (typeof obj === 'undefined') {\r\n\t\t\t\t\t\tobj = {};\r\n\t\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\t\tobj[column['field']] = $(td).text();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\t// column template\r\n\t\t\t\t\t\t\tif (typeof column.template !== 'undefined') {\r\n\t\t\t\t\t\t\t\tvar finalValue = '';\r\n\t\t\t\t\t\t\t\t// template string\r\n\t\t\t\t\t\t\t\tif (typeof column.template === 'string') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = Plugin.dataPlaceholder(column.template, obj);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// template callback function\r\n\t\t\t\t\t\t\t\tif (typeof column.template === 'function') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = column.template(obj, tri, datatable);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// sanitize using DOMPurify if installed\r\n\t\t\t\t\t\t\t\tif (typeof DOMPurify !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\tfinalValue = DOMPurify.sanitize(finalValue);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar span = document.createElement('span');\r\n\t\t\t\t\t\t\t\tspan.innerHTML = finalValue;\r\n\r\n\t\t\t\t\t\t\t\t// insert to cell, wrap with span\r\n\t\t\t\t\t\t\t\t$(td).html(span);\r\n\r\n\t\t\t\t\t\t\t\t// set span overflow\r\n\t\t\t\t\t\t\t\tif (typeof column.overflow !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t$(span).css('overflow', column.overflow);\r\n\t\t\t\t\t\t\t\t\t$(span).css('position', 'relative');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// after template row callback\r\n\t\t\t\t\tvar afterTemplate = Plugin.getOption('rows.afterTemplate');\r\n\t\t\t\t\tif (typeof afterTemplate === 'function') {\r\n\t\t\t\t\t\tafterTemplate($(tr), obj, tri);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup extra system column properties\r\n\t\t\t * Note: selector checkbox, subtable toggle\r\n\t\t\t */\r\n\t\t\tsetupSystemColumn: function() {\r\n\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\t// no records available\r\n\t\t\t\tif (datatable.dataSet.length === 0) return;\r\n\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\tvar value = $(td).text();\r\n\r\n\t\t\t\t\t\t\t// enable column selector\r\n\t\t\t\t\t\t\tif (typeof column.selector !== 'undefined' && column.selector !== false) {\r\n\t\t\t\t\t\t\t\t// check if checkbox exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'checkbox [type=\"checkbox\"]').length > 0) return;\r\n\r\n\t\t\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--check');\r\n\r\n\t\t\t\t\t\t\t\t// append checkbox\r\n\t\t\t\t\t\t\t\tvar chk = $('<label/>').\r\n\t\t\t\t\t\t\t\t\taddClass(pfx + 'checkbox ' + pfx + 'checkbox--single').\r\n\t\t\t\t\t\t\t\t\tappend($('<input/>').attr('type', 'checkbox').attr('value', value).on('click', function() {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\t\t\t\t\t// add checkbox active row class\r\n\t\t\t\t\t\t\t\t\t\t\tPlugin.setActive(this);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t// add checkbox active row class\r\n\t\t\t\t\t\t\t\t\t\t\tPlugin.setInactive(this);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})).\r\n\t\t\t\t\t\t\t\t\tappend('&nbsp;<span></span>');\r\n\r\n\t\t\t\t\t\t\t\t// checkbox selector has outline style\r\n\t\t\t\t\t\t\t\tif (typeof column.selector.class !== 'undefined') {\r\n\t\t\t\t\t\t\t\t\t$(chk).addClass(column.selector.class);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t$(td).children().html(chk);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// enable column subtable toggle\r\n\t\t\t\t\t\t\tif (typeof column.subtable !== 'undefined' && column.subtable) {\r\n\t\t\t\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'datatable__toggle-subtable').length > 0) return;\r\n\t\t\t\t\t\t\t\t// append subtable toggle\r\n\t\t\t\t\t\t\t\t$(td).\r\n\t\t\t\t\t\t\t\t\tchildren().\r\n\t\t\t\t\t\t\t\t\thtml($('<a/>').\r\n\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-subtable').\r\n\t\t\t\t\t\t\t\t\t\tattr('href', '#').\r\n\t\t\t\t\t\t\t\t\t\tattr('data-value', value).\r\n\t\t\t\t\t\t\t\t\t\tappend($('<i/>').addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// init checkbox for header/footer\r\n\t\t\t\tvar initCheckbox = function(tr) {\r\n\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\treturn typeof n.selector !== 'undefined' && n.selector !== false;\r\n\t\t\t\t\t})[0];\r\n\r\n\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t// enable column selector\r\n\t\t\t\t\t\tif (typeof column.selector !== 'undefined' && column.selector !== false) {\r\n\t\t\t\t\t\t\tvar td = $(tr).find('[data-field=\"' + column.field + '\"]');\r\n\t\t\t\t\t\t\t// check if checkbox exist\r\n\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'checkbox [type=\"checkbox\"]').length > 0) return;\r\n\r\n\t\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--check');\r\n\r\n\t\t\t\t\t\t\t// append checkbox\r\n\t\t\t\t\t\t\tvar chk = $('<label/>').\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'checkbox ' + pfx + 'checkbox--single ' + pfx + 'checkbox--all').\r\n\t\t\t\t\t\t\t\tappend($('<input/>').attr('type', 'checkbox').on('click', function() {\r\n\t\t\t\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\t\t\t\tPlugin.setActiveAll(true);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tPlugin.setActiveAll(false);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})).\r\n\t\t\t\t\t\t\t\tappend('&nbsp;<span></span>');\r\n\r\n\t\t\t\t\t\t\t// checkbox selector has outline style\r\n\t\t\t\t\t\t\tif (typeof column.selector.class !== 'undefined') {\r\n\t\t\t\t\t\t\t\t$(chk).addClass(column.selector.class);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$(td).children().html(chk);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (options.layout.header) {\r\n\t\t\t\t\tinitCheckbox($(datatable.tableHead).find('.' + pfx + 'datatable__row').first());\r\n\t\t\t\t}\r\n\t\t\t\tif (options.layout.footer) {\r\n\t\t\t\t\tinitCheckbox($(datatable.tableFoot).find('.' + pfx + 'datatable__row').first());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n            maxWidthList: {},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust width to match container size\r\n\t\t\t */\r\n\t\t\tadjustCellsWidth: function() {\r\n\t\t\t\t// get table width\r\n\t\t\t\tvar containerWidth = $(datatable.tableBody).innerWidth() - Plugin.iconOffset;\r\n\r\n\t\t\t\t// get total number of columns\r\n\t\t\t\tvar columns = $(datatable.tableBody).\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__row:first-child').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__cell').\r\n\t\t\t\t\t// exclude expand icon\r\n\t\t\t\t\tnot('.' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\tnot(':hidden').length;\r\n\r\n\t\t\t\tif (columns > 0) {\r\n\t\t\t\t\t//  remove reserved sort icon width\r\n\t\t\t\t\tcontainerWidth = containerWidth - (Plugin.iconOffset * columns);\r\n\t\t\t\t\tvar minWidth = Math.floor(containerWidth / columns);\r\n\r\n\t\t\t\t\t// minimum width\r\n\t\t\t\t\tif (minWidth <= Plugin.cellOffset) {\r\n\t\t\t\t\t\tminWidth = Plugin.cellOffset;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__cell').\r\n\t\t\t\t\t\t\t// exclude expand icon\r\n\t\t\t\t\t\t\tnot('.' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\t\tnot(':hidden').each(function(tdi, td) {\r\n\r\n\t\t\t\t\t\tvar width = minWidth;\r\n\t\t\t\t\t\tvar dataWidth = $(td).data('width');\r\n\r\n\t\t\t\t\t\tif (typeof dataWidth !== 'undefined') {\r\n\t\t\t\t\t\t\tif (dataWidth === 'auto') {\r\n\t\t\t\t\t\t\t\tvar field = $(td).data('field');\r\n\t\t\t\t\t\t\t\tif (Plugin.maxWidthList[field]) {\r\n\t\t\t\t\t\t\t\t\twidth = Plugin.maxWidthList[field];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tvar cells = $(datatable.table).find('.' + pfx + 'datatable__cell[data-field=\"' + field + '\"]');\r\n\t\t\t\t\t\t\t\t\twidth = Plugin.maxWidthList[field] = Math.max.apply(null,\r\n\t\t\t\t\t\t\t\t\t\t\t$(cells).map(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn $(this).outerWidth();\r\n\t\t\t\t\t\t\t\t\t\t\t}).get());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\twidth = dataWidth;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(td).children().css('width', Math.ceil(width));\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Adjust height to match container size\r\n\t\t\t */\r\n\t\t\tadjustCellsHeight: function() {\r\n\t\t\t\t$.each($(datatable.table).children(), function(part, tablePart) {\r\n\t\t\t\t\tvar totalRows = $(tablePart).find('.' + pfx + 'datatable__row').first().parent().find('.' + pfx + 'datatable__row').length;\r\n\t\t\t\t\tfor (var i = 1; i <= totalRows; i++) {\r\n\t\t\t\t\t\tvar rows = $(tablePart).find('.' + pfx + 'datatable__row:nth-child(' + i + ')');\r\n\t\t\t\t\t\tif ($(rows).length > 0) {\r\n\t\t\t\t\t\t\tvar maxHeight = Math.max.apply(null, $(rows).map(function() {\r\n\t\t\t\t\t\t\t\treturn $(this).outerHeight();\r\n\t\t\t\t\t\t\t}).get());\r\n\t\t\t\t\t\t\t$(rows).css('height', Math.ceil(maxHeight));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup table DOM and classes\r\n\t\t\t */\r\n\t\t\tsetupDOM: function(table) {\r\n\t\t\t\t// set table classes\r\n\t\t\t\t$(table).find('> thead').addClass(pfx + 'datatable__head');\r\n\t\t\t\t$(table).find('> tbody').addClass(pfx + 'datatable__body');\r\n\t\t\t\t$(table).find('> tfoot').addClass(pfx + 'datatable__foot');\r\n\t\t\t\t$(table).find('tr').addClass(pfx + 'datatable__row');\r\n\t\t\t\t$(table).find('tr > th, tr > td').addClass(pfx + 'datatable__cell');\r\n\t\t\t\t$(table).find('tr > th, tr > td').each(function(i, td) {\r\n\t\t\t\t\tif ($(td).find('span').length === 0) {\r\n\t\t\t\t\t\t$(td).wrapInner($('<span/>').css('width', Plugin.cellOffset));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Default scrollbar\r\n\t\t\t * @returns {{tableLocked: null, init: init, onScrolling:\r\n\t\t\t *     onScrolling}}\r\n\t\t\t */\r\n\t\t\tscrollbar: function() {\r\n\t\t\t\tvar scroll = {\r\n\t\t\t\t\tscrollable: null,\r\n\t\t\t\t\ttableLocked: null,\r\n\t\t\t\t\tinitPosition: null,\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\tvar screen = util.getViewPort().width;\r\n\t\t\t\t\t\t// setup scrollable datatable\r\n\t\t\t\t\t\tif (options.layout.scroll) {\r\n\t\t\t\t\t\t\t// add scrollable datatable class\r\n\t\t\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--scroll');\r\n\r\n\t\t\t\t\t\t\tvar scrollable = $(datatable.tableBody).find('.' + pfx + 'datatable__lock--scroll');\r\n\r\n\t\t\t\t\t\t\t// check if scrollable area have rows\r\n\t\t\t\t\t\t\tif ($(scrollable).find('.' + pfx + 'datatable__row').length > 0 && $(scrollable).length > 0) {\r\n\t\t\t\t\t\t\t\tscroll.scrollHead = $(datatable.tableHead).find('> .' + pfx + 'datatable__lock--scroll > .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.scrollFoot = $(datatable.tableFoot).find('> .' + pfx + 'datatable__lock--scroll > .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.tableLocked = $(datatable.tableBody).find('.' + pfx + 'datatable__lock:not(.' + pfx + 'datatable__lock--scroll)');\r\n\t\t\t\t\t\t\t\tif (Plugin.getOption('layout.customScrollbar') && util.detectIE() != 10 && screen > util.getBreakpoint('lg')) {\r\n\t\t\t\t\t\t\t\t\tscroll.initCustomScrollbar(scrollable[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tscroll.initDefaultScrollbar(scrollable);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ($(datatable.tableBody).find('.' + pfx + 'datatable__row').length > 0) {\r\n\t\t\t\t\t\t\t\tscroll.scrollHead = $(datatable.tableHead).find('> .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tscroll.scrollFoot = $(datatable.tableFoot).find('> .' + pfx + 'datatable__row');\r\n\t\t\t\t\t\t\t\tif (Plugin.getOption('layout.customScrollbar') && util.detectIE() != 10 && screen > util.getBreakpoint('lg')) {\r\n\t\t\t\t\t\t\t\t\tscroll.initCustomScrollbar(datatable.tableBody);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tscroll.initDefaultScrollbar(datatable.tableBody);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitDefaultScrollbar: function(scrollable) {\r\n\t\t\t\t\t\t// get initial scroll position\r\n\t\t\t\t\t\tscroll.initPosition = $(scrollable).scrollLeft();\r\n\t\t\t\t\t\t$(scrollable).css('overflow-y', 'auto').off().on('scroll', scroll.onScrolling);\r\n\t\t\t\t\t\t$(scrollable).css('overflow-x', 'auto');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonScrolling: function(e) {\r\n\t\t\t\t\t\tvar left = $(this).scrollLeft();\r\n\t\t\t\t\t\tvar top = $(this).scrollTop();\r\n\t\t\t\t\t\tif (util.isRTL()) {\r\n\t\t\t\t\t\t\t// deduct initial position for RTL\r\n\t\t\t\t\t\t\tleft = left - scroll.initPosition;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(scroll.scrollHead).css('left', -left);\r\n\t\t\t\t\t\t$(scroll.scrollFoot).css('left', -left);\r\n\t\t\t\t\t\t$(scroll.tableLocked).each(function(i, table) {\r\n\t\t\t\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t\t\t\t// scrollbar offset\r\n\t\t\t\t\t\t\t\ttop -= 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t$(table).css('top', -top);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitCustomScrollbar: function(scrollable) {\r\n\t\t\t\t\t\tscroll.scrollable = scrollable;\r\n\t\t\t\t\t\t// create a new instance for table body with scrollbar\r\n\t\t\t\t\t\tPlugin.initScrollbar(scrollable);\r\n\t\t\t\t\t\t// get initial scroll position\r\n\t\t\t\t\t\tscroll.initPosition = $(scrollable).scrollLeft();\r\n\t\t\t\t\t\t$(scrollable).off().on('scroll', scroll.onScrolling);\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tscroll.init();\r\n\t\t\t\treturn scroll;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Init custom scrollbar and reset position\r\n\t\t\t * @param element\r\n\t\t\t * @param options\r\n\t\t\t */\r\n\t\t\tinitScrollbar: function(element, options) {\r\n\t\t\t\tif (!element || !element.nodeName) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$(datatable.tableBody).css('overflow', '');\r\n\t\t\t\tvar ps = $(element).data('ps');\r\n\t\t\t\tif (util.hasClass(element, 'ps') && typeof ps !== 'undefined') {\r\n\t\t\t\t\tps.update();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tps = new PerfectScrollbar(element, Object.assign({}, {\r\n\t\t\t\t\t\twheelSpeed: 0.5,\r\n\t\t\t\t\t\tswipeEasing: true,\r\n\t\t\t\t\t\t// wheelPropagation: false,\r\n\t\t\t\t\t\tminScrollbarLength: 40,\r\n\t\t\t\t\t\tmaxScrollbarLength: 300,\r\n\t\t\t\t\t\tsuppressScrollX: Plugin.getOption('rows.autoHide') && !Plugin.isLocked()\r\n\t\t\t\t\t}, options));\r\n\t\t\t\t\t$(element).data('ps', ps);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// reset perfect scrollbar on resize\r\n\t\t\t\t$(window).resize(function() {\r\n\t\t\t\t\tps.update();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set column title from options.columns settings\r\n\t\t\t */\r\n\t\t\tsetHeadTitle: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableHead;\r\n\t\t\t\ttablePart = $(tablePart)[0];\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\tvar row = tablePart.getElementsByTagName('tr')[0];\r\n\t\t\t\tvar ths = tablePart.getElementsByTagName('td');\r\n\r\n\t\t\t\tif (typeof row === 'undefined') {\r\n\t\t\t\t\trow = document.createElement('tr');\r\n\t\t\t\t\ttablePart.appendChild(row);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.each(columns, function(i, column) {\r\n\t\t\t\t\tvar th = ths[i];\r\n\t\t\t\t\tif (typeof th === 'undefined') {\r\n\t\t\t\t\t\tth = document.createElement('th');\r\n\t\t\t\t\t\trow.appendChild(th);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set column title\r\n\t\t\t\t\tif (typeof column['title'] !== 'undefined') {\r\n\t\t\t\t\t\tth.innerHTML = column.title;\r\n\t\t\t\t\t\tth.setAttribute('data-field', column.field);\r\n\t\t\t\t\t\tutil.addClass(th, column.class);\r\n\t\t\t\t\t\t// set disable autoHide or force enable\r\n\t\t\t\t\t\tif (typeof column.autoHide !== 'undefined') {\r\n\t\t\t\t\t\t\tif (column.autoHide !== true) {\r\n\t\t\t\t\t\t\t\tth.setAttribute('data-autohide-disabled', column.autoHide);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tth.setAttribute('data-autohide-enabled', column.autoHide);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(th).data(column);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set header attr option\r\n\t\t\t\t\tif (typeof column.attr !== 'undefined') {\r\n\t\t\t\t\t\t$.each(column.attr, function(key, val) {\r\n\t\t\t\t\t\t\tth.setAttribute(key, val);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// apply text align to thead/tfoot\r\n\t\t\t\t\tif (typeof column.textAlign !== 'undefined') {\r\n\t\t\t\t\t\tvar align = typeof datatable.textAlign[column.textAlign] !== 'undefined' ? datatable.textAlign[column.textAlign] : '';\r\n\t\t\t\t\t\tutil.addClass(th, align);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tPlugin.setupDOM(tablePart);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Initiate to get remote or local data via ajax\r\n\t\t\t */\r\n\t\t\tdataRender: function(action) {\r\n\t\t\t\t$(datatable.table).siblings('.' + pfx + 'datatable__pager').removeClass(pfx + 'datatable--paging-loaded');\r\n\r\n\t\t\t\tvar buildMeta = function() {\r\n\t\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t// local pagination meta\r\n\t\t\t\t\tvar meta = Plugin.getDataSourceParam('pagination');\r\n\t\t\t\t\tif (meta.perpage === 0) {\r\n\t\t\t\t\t\tmeta.perpage = options.data.pageSize || 10;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmeta.total = datatable.dataSet.length;\r\n\t\t\t\t\tvar start = Math.max(meta.perpage * (meta.page - 1), 0);\r\n\t\t\t\t\tvar end = Math.min(start + meta.perpage, meta.total);\r\n\t\t\t\t\tdatatable.dataSet = $(datatable.dataSet).slice(start, end);\r\n\t\t\t\t\treturn meta;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar afterGetData = function(result) {\r\n\t\t\t\t\tvar localPagingCallback = function(ctx, meta) {\r\n\t\t\t\t\t\tif (!$(ctx.pager).hasClass(pfx + 'datatable--paging-loaded')) {\r\n\t\t\t\t\t\t\t$(ctx.pager).remove();\r\n\t\t\t\t\t\t\tctx.init(meta);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(ctx.pager).off().on(pfx + 'datatable--on-goto-page', function(e) {\r\n\t\t\t\t\t\t\t$(ctx.pager).remove();\r\n\t\t\t\t\t\t\tctx.init(meta);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar start = Math.max(meta.perpage * (meta.page - 1), 0);\r\n\t\t\t\t\t\tvar end = Math.min(start + meta.perpage, meta.total);\r\n\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t\tdatatable.dataSet = $(datatable.dataSet).slice(start, end);\r\n\r\n\t\t\t\t\t\t// insert data into table content\r\n\t\t\t\t\t\tPlugin.insertData();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t$(datatable.wrap).removeClass(pfx + 'datatable--error');\r\n\t\t\t\t\t// pagination enabled\r\n\t\t\t\t\tif (options.pagination) {\r\n\t\t\t\t\t\tif (options.data.serverPaging && options.data.type !== 'local') {\r\n\t\t\t\t\t\t\t// server pagination\r\n\t\t\t\t\t\t\tvar serverMeta = Plugin.getObject('meta', result || null);\r\n\t\t\t\t\t\t\tif (serverMeta !== null) {\r\n\t\t\t\t\t\t\t\tPlugin.pagingObject = Plugin.paging(serverMeta);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// no meta object from server response, fallback to local pagination\r\n\t\t\t\t\t\t\t\tPlugin.pagingObject = Plugin.paging(buildMeta(), localPagingCallback);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// local pagination can be used by remote data also\r\n\t\t\t\t\t\t\tPlugin.pagingObject = Plugin.paging(buildMeta(), localPagingCallback);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// pagination is disabled\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// insert data into table content\r\n\t\t\t\t\tPlugin.insertData();\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// get local datasource\r\n\t\t\t\tif (options.data.type === 'local'\r\n\t\t\t\t\t// for remote json datasource\r\n\t\t\t\t\t// || typeof options.data.source.read === 'undefined' && datatable.dataSet !== null\r\n\t\t\t\t\t// for remote datasource, server sorting is disabled and data already received from remote\r\n\t\t\t\t\t|| options.data.serverSorting === false && action === 'sort'\r\n\t\t\t\t\t|| options.data.serverFiltering === false && action === 'search'\r\n\t\t\t\t) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tafterGetData();\r\n\t\t\t\t\t\tPlugin.setAutoColumns();\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// getting data from remote only\r\n\t\t\t\tPlugin.getData().done(afterGetData);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Process ajax data\r\n\t\t\t */\r\n\t\t\tinsertData: function() {\r\n\t\t\t\tdatatable.dataSet = datatable.dataSet || [];\r\n\t\t\t\tvar params = Plugin.getDataSourceParam();\r\n\r\n\t\t\t\t// get row attributes\r\n\t\t\t\tvar pagination = params.pagination;\r\n\t\t\t\tvar start = (Math.max(pagination.page, 1) - 1) * pagination.perpage;\r\n\t\t\t\tvar end = Math.min(pagination.page, pagination.pages) * pagination.perpage;\r\n\t\t\t\tvar rowProps = {};\r\n\t\t\t\tif (typeof options.data.attr.rowProps !== 'undefined' && options.data.attr.rowProps.length) {\r\n\t\t\t\t\trowProps = options.data.attr.rowProps.slice(start, end);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar tableBody = document.createElement('tbody');\r\n\t\t\t\ttableBody.style.visibility = 'hidden';\r\n\t\t\t\tvar colLength = options.columns.length;\r\n\r\n\t\t\t\t$.each(datatable.dataSet, function(rowIndex, row) {\r\n\t\t\t\t\tvar tr = document.createElement('tr');\r\n\t\t\t\t\ttr.setAttribute('data-row', rowIndex);\r\n\t\t\t\t\t// keep data object to row\r\n\t\t\t\t\t$(tr).data('obj', row);\r\n\r\n\t\t\t\t\tif (typeof rowProps[rowIndex] !== 'undefined') {\r\n\t\t\t\t\t\t$.each(rowProps[rowIndex], function() {\r\n\t\t\t\t\t\t\ttr.setAttribute(this.name, this.value);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar cellIndex = 0;\r\n\t\t\t\t\tvar tds = [];\r\n\t\t\t\t\tfor (var a = 0; a < colLength; a += 1) {\r\n\t\t\t\t\t\tvar column = options.columns[a];\r\n\t\t\t\t\t\tvar classes = [];\r\n\t\t\t\t\t\t// add sorted class to cells\r\n\t\t\t\t\t\tif (Plugin.getObject('sort.field', params) === column.field) {\r\n\t\t\t\t\t\t\tclasses.push(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// apply text align\r\n\t\t\t\t\t\tif (typeof column.textAlign !== 'undefined') {\r\n\t\t\t\t\t\t\tvar align = typeof datatable.textAlign[column.textAlign] !== 'undefined' ? datatable.textAlign[column.textAlign] : '';\r\n\t\t\t\t\t\t\tclasses.push(align);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// var classAttr = '';\r\n\t\t\t\t\t\tif (typeof column.class !== 'undefined') {\r\n\t\t\t\t\t\t\tclasses.push(column.class);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar td = document.createElement('td');\r\n\t\t\t\t\t\tutil.addClass(td, classes.join(' '));\r\n\t\t\t\t\t\ttd.setAttribute('data-field', column.field);\r\n\t\t\t\t\t\t// set disable autoHide or force enable\r\n\t\t\t\t\t\tif (typeof column.autoHide !== 'undefined') {\r\n\t\t\t\t\t\t\tif (column.autoHide !== true) {\r\n\t\t\t\t\t\t\t\ttd.setAttribute('data-autohide-disabled', column.autoHide);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttd.setAttribute('data-autohide-enabled', column.autoHide);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttd.innerHTML = Plugin.getObject(column.field, row);\r\n\t\t\t\t\t\ttr.appendChild(td);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttableBody.appendChild(tr);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// display no records message\r\n\t\t\t\tif (datatable.dataSet.length === 0) {\r\n\t\t\t\t\tvar errorSpan = document.createElement('span');\r\n\t\t\t\t\tutil.addClass(errorSpan, pfx + 'datatable--error');\r\n\t\t\t\t\terrorSpan.innerHTML = Plugin.getOption('translate.records.noRecords');\r\n\t\t\t\t\ttableBody.appendChild(errorSpan);\r\n\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--error ' + pfx + 'datatable--loaded');\r\n\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// replace existing table body\r\n\t\t\t\t$(datatable.tableBody).replaceWith(tableBody);\r\n\t\t\t\tdatatable.tableBody = tableBody;\r\n\r\n\t\t\t\t// layout update\r\n\t\t\t\tPlugin.setupDOM(datatable.table);\r\n\t\t\t\tPlugin.setupCellField([datatable.tableBody]);\r\n\t\t\t\tPlugin.setupTemplateCell(datatable.tableBody);\r\n\t\t\t\tPlugin.layoutUpdate();\r\n\t\t\t},\r\n\r\n\t\t\tupdateTableComponents: function() {\r\n\t\t\t\tdatatable.tableHead = $(datatable.table).children('thead').get(0);\r\n\t\t\t\tdatatable.tableBody = $(datatable.table).children('tbody').get(0);\r\n\t\t\t\tdatatable.tableFoot = $(datatable.table).children('tfoot').get(0);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Call ajax for raw JSON data\r\n\t\t\t */\r\n\t\t\tgetData: function() {\r\n\t\t\t\t// Plugin.spinnerCallback(true);\r\n\r\n\t\t\t\tvar ajaxParams = {\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {},\r\n\t\t\t\t\ttimeout: Plugin.getOption('data.source.read.timeout') || 30000,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (options.data.type === 'local') {\r\n\t\t\t\t\tajaxParams.url = options.data.source;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (options.data.type === 'remote') {\r\n\t\t\t\t\tvar data = Plugin.getDataSourceParam();\r\n\t\t\t\t\t// remove if server params is not enabled\r\n\t\t\t\t\tif (!Plugin.getOption('data.serverPaging')) {\r\n\t\t\t\t\t\tdelete data['pagination'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!Plugin.getOption('data.serverSorting')) {\r\n\t\t\t\t\t\tdelete data['sort'];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajaxParams.data = $.extend({}, ajaxParams.data, Plugin.getOption('data.source.read.params'), data);\r\n\t\t\t\t\tajaxParams = $.extend({}, ajaxParams, Plugin.getOption('data.source.read'));\r\n\r\n\t\t\t\t\tif (typeof ajaxParams.url !== 'string') ajaxParams.url = Plugin.getOption('data.source.read');\r\n\t\t\t\t\tif (typeof ajaxParams.url !== 'string') ajaxParams.url = Plugin.getOption('data.source');\r\n\t\t\t\t\t// ajaxParams.data = $.extend(ajaxParams.data, data.pagination);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $.ajax(ajaxParams).done(function(response, textStatus, jqXHR) {\r\n\t\t\t\t\tdatatable.lastResponse = response;\r\n\t\t\t\t\t// extendible data map callback for custom datasource\r\n\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet = Plugin.dataMapCallback(response);\r\n\t\t\t\t\tPlugin.setAutoColumns();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-ajax-done', [datatable.dataSet]);\r\n\t\t\t\t}).fail(function(jqXHR, textStatus, errorThrown) {\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-ajax-fail', [jqXHR]);\r\n\t\t\t\t\t$(datatable.tableBody).html($('<span/>').addClass(pfx + 'datatable--error').html(Plugin.getOption('translate.records.noRecords')));\r\n\t\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--error ' + pfx + 'datatable--loaded');\r\n\t\t\t\t\tPlugin.spinnerCallback(false);\r\n\t\t\t\t}).always(function() {\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Pagination object\r\n\t\t\t * @param meta if null, local pagination, otherwise remote\r\n\t\t\t *     pagination\r\n\t\t\t * @param callback for update data when navigating page\r\n\t\t\t */\r\n\t\t\tpaging: function(meta, callback) {\r\n\t\t\t\tvar pg = {\r\n\t\t\t\t\tmeta: null,\r\n\t\t\t\t\tpager: null,\r\n\t\t\t\t\tpaginateEvent: null,\r\n\t\t\t\t\tpagerLayout: {pagination: null, info: null},\r\n\t\t\t\t\tcallback: null,\r\n\t\t\t\t\tinit: function(meta) {\r\n\t\t\t\t\t\tpg.meta = meta;\r\n\r\n\t\t\t\t\t\t// parse pagination meta to integer\r\n\t\t\t\t\t\tpg.meta.page = parseInt(pg.meta.page);\r\n\t\t\t\t\t\tpg.meta.pages = parseInt(pg.meta.pages);\r\n\t\t\t\t\t\tpg.meta.perpage = parseInt(pg.meta.perpage);\r\n\t\t\t\t\t\tpg.meta.total = parseInt(pg.meta.total);\r\n\r\n\t\t\t\t\t\t// always recount total pages\r\n\t\t\t\t\t\tpg.meta.pages = Math.max(Math.ceil(pg.meta.total / pg.meta.perpage), 1);\r\n\r\n\t\t\t\t\t\t// current page must be not over than total pages\r\n\t\t\t\t\t\tif (pg.meta.page > pg.meta.pages) pg.meta.page = pg.meta.pages;\r\n\r\n\t\t\t\t\t\t// set unique event name between tables\r\n\t\t\t\t\t\tpg.paginateEvent = Plugin.getTablePrefix('paging');\r\n\r\n\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager');\r\n\t\t\t\t\t\tif ($(pg.pager).hasClass(pfx + 'datatable--paging-loaded')) return;\r\n\r\n\t\t\t\t\t\t// if class .'+pfx+'datatable--paging-loaded not exist, recreate pagination\r\n\t\t\t\t\t\t$(pg.pager).remove();\r\n\r\n\t\t\t\t\t\t// if no pages available\r\n\t\t\t\t\t\tif (pg.meta.pages === 0) return;\r\n\r\n\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// default callback function, contains remote pagination handler\r\n\t\t\t\t\t\tpg.callback = pg.serverCallback;\r\n\t\t\t\t\t\t// custom callback function\r\n\t\t\t\t\t\tif (typeof callback === 'function') pg.callback = callback;\r\n\r\n\t\t\t\t\t\tpg.addPaginateEvent();\r\n\t\t\t\t\t\tpg.populate();\r\n\r\n\t\t\t\t\t\tpg.meta.page = Math.max(pg.meta.page || 1, pg.meta.page);\r\n\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\r\n\t\t\t\t\t\tpg.pagingBreakpoint.call();\r\n\t\t\t\t\t\t$(window).resize(pg.pagingBreakpoint);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tserverCallback: function(ctx, meta) {\r\n\t\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopulate: function() {\r\n\t\t\t\t\t\tvar icons = Plugin.getOption('layout.icons.pagination');\r\n\t\t\t\t\t\tvar title = Plugin.getOption('translate.toolbar.pagination.items.default');\r\n\t\t\t\t\t\t// pager root element\r\n\t\t\t\t\t\tpg.pager = $('<div/>').addClass(pfx + 'datatable__pager ' + pfx + 'datatable--paging-loaded');\r\n\t\t\t\t\t\t// numbering links\r\n\t\t\t\t\t\tvar pagerNumber = $('<ul/>').addClass(pfx + 'datatable__pager-nav');\r\n\t\t\t\t\t\tpg.pagerLayout['pagination'] = pagerNumber;\r\n\r\n\t\t\t\t\t\t// pager first/previous button\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.first).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--first').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.first)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage).\r\n\t\t\t\t\t\t\t\tattr('data-page', 1)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.prev).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--prev').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.prev)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// more previous pages\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.more).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--more-prev').\r\n\t\t\t\t\t\t\t\thtml($('<i/>').addClass(icons.more)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t$('<li/>').append($('<input/>').attr('type', 'text').addClass(pfx + 'pager-input form-control').attr('title', title.input).on('keyup', function() {\r\n\t\t\t\t\t\t\t// on keyup update [data-page]\r\n\t\t\t\t\t\t\t$(this).attr('data-page', Math.abs($(this).val()));\r\n\t\t\t\t\t\t}).on('keypress', function(e) {\r\n\t\t\t\t\t\t\t// on keypressed enter button\r\n\t\t\t\t\t\t\tif (e.which === 13) pg.gotoMorePage(e);\r\n\t\t\t\t\t\t})).appendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\tvar pagesNumber = Plugin.getOption('toolbar.items.pagination.pages.desktop.pagesNumber');\r\n\t\t\t\t\t\tvar end = Math.ceil(pg.meta.page / pagesNumber) * pagesNumber;\r\n\t\t\t\t\t\tvar start = end - pagesNumber;\r\n\t\t\t\t\t\tif (end > pg.meta.pages) {\r\n\t\t\t\t\t\t\tend = pg.meta.pages;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var x = start; x < end; x++) {\r\n\t\t\t\t\t\t\tvar pageNumber = x + 1;\r\n\t\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link-number').\r\n\t\t\t\t\t\t\t\t\ttext(pageNumber).\r\n\t\t\t\t\t\t\t\t\tattr('data-page', pageNumber).\r\n\t\t\t\t\t\t\t\t\tattr('title', pageNumber).\r\n\t\t\t\t\t\t\t\t\ton('click', pg.gotoPage)).\r\n\t\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// more next pages\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.more).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--more-next').\r\n\t\t\t\t\t\t\t\thtml($('<i/>').addClass(icons.more)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// pager next/last button\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.next).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--next').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.next)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\t\t\t\t\t\t$('<li/>').\r\n\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\tattr('title', title.last).\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__pager-link ' + pfx + 'datatable__pager-link--last').\r\n\t\t\t\t\t\t\t\tappend($('<i/>').addClass(icons.last)).\r\n\t\t\t\t\t\t\t\ton('click', pg.gotoMorePage).\r\n\t\t\t\t\t\t\t\tattr('data-page', pg.meta.pages)).\r\n\t\t\t\t\t\t\tappendTo(pagerNumber);\r\n\r\n\t\t\t\t\t\t// page info\r\n\t\t\t\t\t\tif (Plugin.getOption('toolbar.items.info')) {\r\n\t\t\t\t\t\t\tpg.pagerLayout['info'] = $('<div/>').addClass(pfx + 'datatable__pager-info').append($('<span/>').addClass(pfx + 'datatable__pager-detail'));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$.each(Plugin.getOption('toolbar.layout'), function(i, layout) {\r\n\t\t\t\t\t\t\t$(pg.pagerLayout[layout]).appendTo(pg.pager);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// page size select\r\n\t\t\t\t\t\tvar pageSizeSelect = $('<select/>').\r\n\t\t\t\t\t\t\taddClass('selectpicker ' + pfx + 'datatable__pager-size').\r\n\t\t\t\t\t\t\tattr('title', Plugin.getOption('translate.toolbar.pagination.items.default.select')).\r\n\t\t\t\t\t\t\tattr('data-width', '60px').\r\n\t\t\t\t\t\t\tattr('data-container', 'body').\r\n\t\t\t\t\t\t\tval(pg.meta.perpage).\r\n\t\t\t\t\t\t\ton('change', pg.updatePerpage).\r\n\t\t\t\t\t\t\tprependTo(pg.pagerLayout['info']);\r\n\r\n\t\t\t\t\t\tvar pageSizes = Plugin.getOption('toolbar.items.pagination.pageSizeSelect');\r\n\t\t\t\t\t\t// default value here, to fix override option by user\r\n\t\t\t\t\t\tif (pageSizes.length == 0) pageSizes = [10, 20, 30, 50, 100];\r\n\t\t\t\t\t\t$.each(pageSizes, function(i, size) {\r\n\t\t\t\t\t\t\tvar display = size;\r\n\t\t\t\t\t\t\tif (size === -1) display = Plugin.getOption('translate.toolbar.pagination.items.default.all');\r\n\t\t\t\t\t\t\t$('<option/>').attr('value', size).html(display).appendTo(pageSizeSelect);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// init selectpicker to dropdown\r\n\t\t\t\t\t\t$(datatable).ready(function() {\r\n\t\t\t\t\t\t\t$('.selectpicker').\r\n\t\t\t\t\t\t\t\tselectpicker().\r\n\t\t\t\t\t\t\t\ton('hide.bs.select', function() {\r\n\t\t\t\t\t\t\t\t\t// fix dropup arrow icon on hide\r\n\t\t\t\t\t\t\t\t\t$(this).closest('.bootstrap-select').removeClass('dropup');\r\n\t\t\t\t\t\t\t\t}).\r\n\t\t\t\t\t\t\t\tsiblings('.dropdown-toggle').\r\n\t\t\t\t\t\t\t\tattr('title', Plugin.getOption('translate.toolbar.pagination.items.default.select'));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tpg.paste();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpaste: function() {\r\n\t\t\t\t\t\t// insert pagination based on placement position, top|bottom\r\n\t\t\t\t\t\t$.each($.unique(Plugin.getOption('toolbar.placement')),\r\n\t\t\t\t\t\t\tfunction(i, position) {\r\n\t\t\t\t\t\t\t\tif (position === 'bottom') {\r\n\t\t\t\t\t\t\t\t\t$(pg.pager).clone(true).insertAfter(datatable.table);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (position === 'top') {\r\n\t\t\t\t\t\t\t\t\t// pager top need some extra space\r\n\t\t\t\t\t\t\t\t\t$(pg.pager).clone(true).addClass(pfx + 'datatable__pager--top').insertBefore(datatable.table);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgotoMorePage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// $(this) is a link of .'+pfx+'datatable__pager-link\r\n\r\n\t\t\t\t\t\tif ($(this).attr('disabled') === 'disabled') return false;\r\n\r\n\t\t\t\t\t\tvar page = $(this).attr('data-page');\r\n\r\n\t\t\t\t\t\t// event from text input\r\n\t\t\t\t\t\tif (typeof page === 'undefined') {\r\n\t\t\t\t\t\t\tpage = $(e.target).attr('data-page');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpg.openPage(parseInt(page));\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgotoPage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// prevent from click same page number\r\n\t\t\t\t\t\tif ($(this).hasClass(pfx + 'datatable__pager-link--active')) return;\r\n\r\n\t\t\t\t\t\tpg.openPage(parseInt($(this).data('page')));\r\n\t\t\t\t\t},\r\n\t\t\t\t\topenPage: function(page) {\r\n\t\t\t\t\t\t// currentPage is 1-based index\r\n\t\t\t\t\t\tpg.meta.page = parseInt(page);\r\n\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\t\t\t\t\t\tpg.callback(pg, pg.meta);\r\n\r\n\t\t\t\t\t\t// update page callback function\r\n\t\t\t\t\t\t$(pg.pager).trigger(pfx + 'datatable--on-goto-page', pg.meta);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdatePerpage: function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t// if (Plugin.getOption('layout.height') === null) {\r\n\t\t\t\t\t\t// fix white space, when perpage is set from many records to less records\r\n\t\t\t\t\t\t// $('html, body').animate({scrollTop: $(datatable).position().top});\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t// hide dropdown after select\r\n\t\t\t\t\t\t$(this).selectpicker('toggle');\r\n\r\n\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager').removeClass(pfx + 'datatable--paging-loaded');\r\n\r\n\t\t\t\t\t\t// on change select page size\r\n\t\t\t\t\t\tif (e.originalEvent) {\r\n\t\t\t\t\t\t\tpg.meta.perpage = parseInt($(this).val());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t$(pg.pager).find('select.' + pfx + 'datatable__pager-size').val(pg.meta.perpage).attr('data-selected', pg.meta.perpage);\r\n\r\n\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// update page callback function\r\n\t\t\t\t\t\t$(pg.pager).trigger(pfx + 'datatable--on-update-perpage', pg.meta);\r\n\t\t\t\t\t\t$(datatable).trigger(pg.paginateEvent, pg.meta);\r\n\t\t\t\t\t\tpg.callback(pg, pg.meta);\r\n\r\n\t\t\t\t\t\t// update pagination info\r\n\t\t\t\t\t\tpg.updateInfo.call();\r\n\t\t\t\t\t},\r\n\t\t\t\t\taddPaginateEvent: function(e) {\r\n\t\t\t\t\t\t// pagination event\r\n\t\t\t\t\t\t$(datatable).off(pg.paginateEvent).on(pg.paginateEvent, function(e, meta) {\r\n\t\t\t\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t\t\t\tpg.pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager');\r\n\t\t\t\t\t\t\tvar pagerNumber = $(pg.pager).find('.' + pfx + 'datatable__pager-nav');\r\n\r\n\t\t\t\t\t\t\t// set sync active page class\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--active').removeClass(pfx + 'datatable__pager-link--active');\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link-number[data-page=\"' + meta.page + '\"]').addClass(pfx + 'datatable__pager-link--active');\r\n\r\n\t\t\t\t\t\t\t// set next and previous link page number\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--prev').attr('data-page', Math.max(meta.page - 1, 1));\r\n\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--next').attr('data-page', Math.min(meta.page + 1, meta.pages));\r\n\r\n\t\t\t\t\t\t\t// current page input value sync\r\n\t\t\t\t\t\t\t$(pg.pager).each(function() {\r\n\t\t\t\t\t\t\t\t$(this).find('.' + pfx + 'pager-input[type=\"text\"]').prop('value', meta.page);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-nav').show();\r\n\t\t\t\t\t\t\tif (meta.pages <= 1) {\r\n\t\t\t\t\t\t\t\t// hide pager if has 1 page\r\n\t\t\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-nav').hide();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// update datasource params\r\n\t\t\t\t\t\t\tPlugin.setDataSourceParam('pagination', {\r\n\t\t\t\t\t\t\t\tpage: pg.meta.page,\r\n\t\t\t\t\t\t\t\tpages: pg.meta.pages,\r\n\t\t\t\t\t\t\t\tperpage: pg.meta.perpage,\r\n\t\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t$(pg.pager).find('select.' + pfx + 'datatable__pager-size').val(meta.perpage).attr('data-selected', meta.perpage);\r\n\r\n\t\t\t\t\t\t\t// clear active rows\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'checkbox > [type=\"checkbox\"]').prop('checked', false);\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row--active').removeClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\t\t\t\tpg.updateInfo.call();\r\n\t\t\t\t\t\t\tpg.pagingBreakpoint.call();\r\n\t\t\t\t\t\t\t// Plugin.resetScroll();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tupdateInfo: function() {\r\n\t\t\t\t\t\tvar start = Math.max(pg.meta.perpage * (pg.meta.page - 1) + 1, 1);\r\n\t\t\t\t\t\tvar end = Math.min(start + pg.meta.perpage - 1, pg.meta.total);\r\n\t\t\t\t\t\t// page info update\r\n\t\t\t\t\t\t$(pg.pager).find('.' + pfx + 'datatable__pager-info').find('.' + pfx + 'datatable__pager-detail').html(Plugin.dataPlaceholder(\r\n\t\t\t\t\t\t\tPlugin.getOption('translate.toolbar.pagination.items.info'), {\r\n\t\t\t\t\t\t\t\t// set start page 0 if the is no records. eg. Showing 0 - 0 of 0\r\n\t\t\t\t\t\t\t\tstart: pg.meta.total === 0 ? 0 : start,\r\n\t\t\t\t\t\t\t\tend: pg.meta.perpage === -1 ? pg.meta.total : end,\r\n\t\t\t\t\t\t\t\tpageSize: pg.meta.perpage === -1 ||\r\n\t\t\t\t\t\t\t\tpg.meta.perpage >= pg.meta.total\r\n\t\t\t\t\t\t\t\t\t? pg.meta.total\r\n\t\t\t\t\t\t\t\t\t: pg.meta.perpage,\r\n\t\t\t\t\t\t\t\ttotal: pg.meta.total,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Update pagination layout breakpoint\r\n\t\t\t\t\t */\r\n\t\t\t\t\tpagingBreakpoint: function() {\r\n\t\t\t\t\t\t// keep page links reference\r\n\t\t\t\t\t\tvar pagerNumber = $(datatable.table).siblings('.' + pfx + 'datatable__pager').find('.' + pfx + 'datatable__pager-nav');\r\n\t\t\t\t\t\tif ($(pagerNumber).length === 0) return;\r\n\r\n\t\t\t\t\t\tvar currentPage = Plugin.getCurrentPage();\r\n\t\t\t\t\t\tvar pagerInput = $(pagerNumber).find('.' + pfx + 'pager-input').closest('li');\r\n\r\n\t\t\t\t\t\t// reset\r\n\t\t\t\t\t\t$(pagerNumber).find('li').show();\r\n\r\n\t\t\t\t\t\t// pagination update\r\n\t\t\t\t\t\t$.each(Plugin.getOption('toolbar.items.pagination.pages'),\r\n\t\t\t\t\t\t\tfunction(mode, option) {\r\n\t\t\t\t\t\t\t\tif (util.isInResponsiveRange(mode)) {\r\n\t\t\t\t\t\t\t\t\tswitch (mode) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'desktop':\r\n\t\t\t\t\t\t\t\t\t\tcase 'tablet':\r\n\t\t\t\t\t\t\t\t\t\t\tvar end = Math.ceil(currentPage / option.pagesNumber) *\r\n\t\t\t\t\t\t\t\t\t\t\t\toption.pagesNumber;\r\n\t\t\t\t\t\t\t\t\t\t\tvar start = end - option.pagesNumber;\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerInput).hide();\r\n\t\t\t\t\t\t\t\t\t\t\tpg.meta = Plugin.getDataSourceParam('pagination');\r\n\t\t\t\t\t\t\t\t\t\t\tpg.paginationUpdate();\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'mobile':\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerInput).show();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--more-prev').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link--more-next').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\t$(pagerNumber).find('.' + pfx + 'datatable__pager-link-number').closest('li').hide();\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Update pagination number and button display\r\n\t\t\t\t\t */\r\n\t\t\t\t\tpaginationUpdate: function() {\r\n\t\t\t\t\t\tvar pager = $(datatable.table).siblings('.' + pfx + 'datatable__pager').find('.' + pfx + 'datatable__pager-nav'),\r\n\t\t\t\t\t\t\tpagerMorePrev = $(pager).find('.' + pfx + 'datatable__pager-link--more-prev'),\r\n\t\t\t\t\t\t\tpagerMoreNext = $(pager).find('.' + pfx + 'datatable__pager-link--more-next'),\r\n\t\t\t\t\t\t\tpagerFirst = $(pager).find('.' + pfx + 'datatable__pager-link--first'),\r\n\t\t\t\t\t\t\tpagerPrev = $(pager).find('.' + pfx + 'datatable__pager-link--prev'),\r\n\t\t\t\t\t\t\tpagerNext = $(pager).find('.' + pfx + 'datatable__pager-link--next'),\r\n\t\t\t\t\t\t\tpagerLast = $(pager).find('.' + pfx + 'datatable__pager-link--last');\r\n\r\n\t\t\t\t\t\t// get visible page\r\n\t\t\t\t\t\tvar pagerNumber = $(pager).find('.' + pfx + 'datatable__pager-link-number');\r\n\t\t\t\t\t\t// get page before of first visible\r\n\t\t\t\t\t\tvar morePrevPage = Math.max($(pagerNumber).first().data('page') - 1, 1);\r\n\t\t\t\t\t\t$(pagerMorePrev).each(function(i, prev) {\r\n\t\t\t\t\t\t\t$(prev).attr('data-page', morePrevPage);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// show/hide <li>\r\n\t\t\t\t\t\tif (morePrevPage === 1) {\r\n\t\t\t\t\t\t\t$(pagerMorePrev).parent().hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerMorePrev).parent().show();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// get page after of last visible\r\n\t\t\t\t\t\tvar moreNextPage = Math.min($(pagerNumber).last().data('page') + 1,\r\n\t\t\t\t\t\t\tpg.meta.pages);\r\n\t\t\t\t\t\t$(pagerMoreNext).each(function(i, prev) {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).attr('data-page', moreNextPage).show();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// show/hide <li>\r\n\t\t\t\t\t\tif (moreNextPage === pg.meta.pages\r\n\t\t\t\t\t\t\t// missing dot fix when last hidden page is one left\r\n\t\t\t\t\t\t\t&& moreNextPage === $(pagerNumber).last().data('page')) {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).parent().hide();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerMoreNext).parent().show();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// begin/end of pages\r\n\t\t\t\t\t\tif (pg.meta.page === 1) {\r\n\t\t\t\t\t\t\t$(pagerFirst).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerPrev).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerFirst).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerPrev).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (pg.meta.page === pg.meta.pages) {\r\n\t\t\t\t\t\t\t$(pagerNext).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerLast).attr('disabled', true).addClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(pagerNext).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t\t$(pagerLast).removeAttr('disabled').removeClass(pfx + 'datatable__pager-link--disabled');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// display more buttons\r\n\t\t\t\t\t\tvar nav = Plugin.getOption('toolbar.items.pagination.navigation');\r\n\t\t\t\t\t\tif (!nav.first) $(pagerFirst).remove();\r\n\t\t\t\t\t\tif (!nav.prev) $(pagerPrev).remove();\r\n\t\t\t\t\t\tif (!nav.next) $(pagerNext).remove();\r\n\t\t\t\t\t\tif (!nav.last) $(pagerLast).remove();\r\n\t\t\t\t\t\tif (!nav.more) {\r\n\t\t\t\t\t\t\t$(pagerMorePrev).remove();\r\n\t\t\t\t\t\t\t$(pagerMoreNext).remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tpg.init(meta);\r\n\t\t\t\treturn pg;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Hide/show table cell defined by\r\n\t\t\t * options[columns][i][responsive][visible/hidden]\r\n\t\t\t */\r\n\t\t\tcolumnHide: function() {\r\n\t\t\t\tvar screen = util.getViewPort().width;\r\n\t\t\t\t// foreach columns setting\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.responsive !== 'undefined' || typeof column.visible !== 'undefined') {\r\n\t\t\t\t\t\tvar field = column.field;\r\n\t\t\t\t\t\tvar tds = $.grep($(datatable.table).find('.' + pfx + 'datatable__cell'), function(n, i) {\r\n\t\t\t\t\t\t\treturn field === $(n).data('field');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t// hide by force\r\n\t\t\t\t\t\t\tif (Plugin.getObject('visible', column) === false) {\r\n\t\t\t\t\t\t\t\t$(tds).hide();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// show/hide by responsive breakpoint\r\n\t\t\t\t\t\t\t\tif (util.getBreakpoint(Plugin.getObject('responsive.hidden', column)) >= screen) {\r\n\t\t\t\t\t\t\t\t\t$(tds).hide();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$(tds).show();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (util.getBreakpoint(Plugin.getObject('responsive.visible', column)) <= screen) {\r\n\t\t\t\t\t\t\t\t\t$(tds).show();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t$(tds).hide();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Setup sub datatable\r\n\t\t\t */\r\n\t\t\tsetupSubDatatable: function() {\r\n\t\t\t\tvar subTableCallback = Plugin.getOption('detail.content');\r\n\t\t\t\tif (typeof subTableCallback !== 'function') return;\r\n\r\n\t\t\t\t// subtable already exist\r\n\t\t\t\tif ($(datatable.table).find('.' + pfx + 'datatable__subtable').length > 0) return;\r\n\r\n\t\t\t\t$(datatable.wrap).addClass(pfx + 'datatable--subtable');\r\n\r\n\t\t\t\toptions.columns[0]['subtable'] = true;\r\n\r\n\t\t\t\t// toggle on open sub table\r\n\t\t\t\tvar toggleSubTable = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t// get parent row of this subtable\r\n\t\t\t\t\tvar parentRow = $(this).closest('.' + pfx + 'datatable__row');\r\n\r\n\t\t\t\t\t// get subtable row for sub table\r\n\t\t\t\t\tvar subTableRow = $(parentRow).next('.' + pfx + 'datatable__row-subtable');\r\n\t\t\t\t\tif ($(subTableRow).length === 0) {\r\n\t\t\t\t\t\t// prepare DOM for sub table, each <tr> as parent and add <tr> as child table\r\n\t\t\t\t\t\tsubTableRow = $('<tr/>').\r\n\t\t\t\t\t\t\taddClass(pfx + 'datatable__row-subtable ' + pfx + 'datatable__row-loading').\r\n\t\t\t\t\t\t\thide().\r\n\t\t\t\t\t\t\tappend($('<td/>').addClass(pfx + 'datatable__subtable').attr('colspan', Plugin.getTotalColumns()));\r\n\t\t\t\t\t\t$(parentRow).after(subTableRow);\r\n\t\t\t\t\t\t// add class to even row\r\n\t\t\t\t\t\tif ($(parentRow).hasClass(pfx + 'datatable__row--even')) {\r\n\t\t\t\t\t\t\t$(subTableRow).addClass(pfx + 'datatable__row-subtable--even');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$(subTableRow).toggle();\r\n\r\n\t\t\t\t\tvar subTable = $(subTableRow).find('.' + pfx + 'datatable__subtable');\r\n\r\n\t\t\t\t\t// get id from first column of parent row\r\n\t\t\t\t\tvar primaryKey = $(this).closest('[data-field]:first-child').find('.' + pfx + 'datatable__toggle-subtable').data('value');\r\n\r\n\t\t\t\t\tvar icon = $(this).find('i').removeAttr('class');\r\n\r\n\t\t\t\t\t// prevent duplicate datatable init\r\n\t\t\t\t\tif ($(parentRow).hasClass(pfx + 'datatable__row--subtable-expanded')) {\r\n\t\t\t\t\t\t$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));\r\n\t\t\t\t\t\t// remove expand class from parent row\r\n\t\t\t\t\t\t$(parentRow).removeClass(pfx + 'datatable__row--subtable-expanded');\r\n\t\t\t\t\t\t// trigger event on collapse\r\n\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-collapse-subtable', [parentRow]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// expand and run callback function\r\n\t\t\t\t\t\t$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));\r\n\t\t\t\t\t\t// add expand class to parent row\r\n\t\t\t\t\t\t$(parentRow).addClass(pfx + 'datatable__row--subtable-expanded');\r\n\t\t\t\t\t\t// trigger event on expand\r\n\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-expand-subtable', [parentRow]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// prevent duplicate datatable init\r\n\t\t\t\t\tif ($(subTable).find('.' + pfx + 'datatable').length === 0) {\r\n\t\t\t\t\t\t// get data by primary id\r\n\t\t\t\t\t\t$.map(datatable.dataSet, function(n, i) {\r\n\t\t\t\t\t\t\t// primary id must be at the first column, otherwise e.data will be undefined\r\n\t\t\t\t\t\t\tif (primaryKey === n[options.columns[0].field]) {\r\n\t\t\t\t\t\t\t\te.data = n;\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// deprecated in v5.0.6\r\n\t\t\t\t\t\te.detailCell = subTable;\r\n\r\n\t\t\t\t\t\te.parentRow = parentRow;\r\n\t\t\t\t\t\te.subTable = subTable;\r\n\r\n\t\t\t\t\t\t// run callback with event\r\n\t\t\t\t\t\tsubTableCallback(e);\r\n\r\n\t\t\t\t\t\t$(subTable).children('.' + pfx + 'datatable').on(pfx + 'datatable--on-init', function(e) {\r\n\t\t\t\t\t\t\t$(subTableRow).removeClass(pfx + 'datatable__row-loading');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (Plugin.getOption('data.type') === 'local') {\r\n\t\t\t\t\t\t\t$(subTableRow).removeClass(pfx + 'datatable__row-loading');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar columns = options.columns;\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function(tri, tr) {\r\n\t\t\t\t\t$(tr).find('.' + pfx + 'datatable__cell').each(function(tdi, td) {\r\n\t\t\t\t\t\t// get column settings by field\r\n\t\t\t\t\t\tvar column = $.grep(columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn $(td).data('field') === n.field;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\tif (typeof column !== 'undefined') {\r\n\t\t\t\t\t\t\tvar value = $(td).text();\r\n\t\t\t\t\t\t\t// enable column subtable toggle\r\n\t\t\t\t\t\t\tif (typeof column.subtable !== 'undefined' && column.subtable) {\r\n\t\t\t\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\t\t\t\tif ($(td).find('.' + pfx + 'datatable__toggle-subtable').length > 0) return;\r\n\t\t\t\t\t\t\t\t// append subtable toggle\r\n\t\t\t\t\t\t\t\t$(td).\r\n\t\t\t\t\t\t\t\t\thtml($('<a/>').\r\n\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-subtable').\r\n\t\t\t\t\t\t\t\t\t\tattr('href', '#').\r\n\t\t\t\t\t\t\t\t\t\tattr('data-value', value).\r\n\t\t\t\t\t\t\t\t\t\tattr('title', Plugin.getOption('detail.title')).\r\n\t\t\t\t\t\t\t\t\t\ton('click', toggleSubTable).\r\n\t\t\t\t\t\t\t\t\t\tappend($('<i/>').css('width', $(td).data('width')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// $(datatable.tableHead).find('.'+pfx+'-datatable__row').first()\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Datasource mapping callback\r\n\t\t\t */\r\n\t\t\tdataMapCallback: function(raw) {\r\n\t\t\t\t// static dataset array\r\n\t\t\t\tvar dataSet = raw;\r\n\t\t\t\t// dataset mapping callback\r\n\t\t\t\tif (typeof Plugin.getOption('data.source.read.map') === 'function') {\r\n\t\t\t\t\treturn Plugin.getOption('data.source.read.map')(raw);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// default data mapping fallback\r\n\t\t\t\t\tif (typeof raw !== 'undefined' && typeof raw.data !== 'undefined') {\r\n\t\t\t\t\t\tdataSet = raw.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn dataSet;\r\n\t\t\t},\r\n\r\n\t\t\tisSpinning: false,\r\n\t\t\t/**\r\n\t\t\t * BlockUI spinner callback\r\n\t\t\t * @param block\r\n\t\t\t * @param target\r\n\t\t\t */\r\n\t\t\tspinnerCallback: function(block, target) {\r\n\t\t\t\tif (typeof target === 'undefined') target = datatable;\r\n\t\t\t\t// get spinner options\r\n\t\t\t\tvar spinnerOptions = Plugin.getOption('layout.spinner');\r\n\t\t\t\t// spinner is disabled\r\n\t\t\t\tif (typeof spinnerOptions === 'undefined' || !spinnerOptions) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (block) {\r\n\t\t\t\t\tif (!Plugin.isSpinning) {\r\n\t\t\t\t\t\tif (typeof spinnerOptions.message !== 'undefined' && spinnerOptions.message === true) {\r\n\t\t\t\t\t\t\t// use default spinner message from translation\r\n\t\t\t\t\t\t\tspinnerOptions.message = Plugin.getOption('translate.records.processing');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tPlugin.isSpinning = true;\r\n\t\t\t\t\t\tif (typeof app !== 'undefined') {\r\n\t\t\t\t\t\t\tapp.block(target, spinnerOptions);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.isSpinning = false;\r\n\t\t\t\t\tif (typeof app !== 'undefined') {\r\n\t\t\t\t\t\tapp.unblock(target);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Default sort callback function\r\n\t\t\t * @param data\r\n\t\t\t * @param sort\r\n\t\t\t * @param column\r\n\t\t\t * @returns {*|Array.<T>|{sort, field}|{asc, desc}}\r\n\t\t\t */\r\n\t\t\tsortCallback: function(data, sort, column) {\r\n\t\t\t\tvar type = column['type'] || 'string';\r\n\t\t\t\tvar format = column['format'] || '';\r\n\t\t\t\tvar field = column['field'];\r\n\r\n\t\t\t\treturn $(data).sort(function(a, b) {\r\n\t\t\t\t\tvar aField = a[field];\r\n\t\t\t\t\tvar bField = b[field];\r\n\r\n\t\t\t\t\tswitch (type) {\r\n\t\t\t\t\t\tcase 'date':\r\n\t\t\t\t\t\t\tif (typeof moment === 'undefined') {\r\n\t\t\t\t\t\t\t\tthrow new Error('Moment.js is required.');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar diff = moment(aField, format).diff(moment(bField, format));\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn diff > 0 ? 1 : diff < 0 ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn diff < 0 ? 1 : diff > 0 ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'number':\r\n\t\t\t\t\t\t\tif (isNaN(parseFloat(aField)) && aField != null) {\r\n\t\t\t\t\t\t\t\taField = Number(aField.replace(/[^0-9\\.-]+/g, ''));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isNaN(parseFloat(bField)) && bField != null) {\r\n\t\t\t\t\t\t\t\tbField = Number(bField.replace(/[^0-9\\.-]+/g, ''));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taField = parseFloat(aField);\r\n\t\t\t\t\t\t\tbField = parseFloat(bField);\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn aField > bField ? 1 : aField < bField ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn aField < bField ? 1 : aField > bField ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'html':\r\n\t\t\t\t\t\t\treturn $(data).sort(function(a, b) {\r\n\t\t\t\t\t\t\t\t// get the text only from html\r\n\t\t\t\t\t\t\t\taField = $(a[field]).text();\r\n\t\t\t\t\t\t\t\tbField = $(b[field]).text();\r\n\t\t\t\t\t\t\t\t// sort\r\n\t\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\t\treturn aField > bField ? 1 : aField < bField ? -1 : 0;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\treturn aField < bField ? 1 : aField > bField ? -1 : 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'string':\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\t\t\treturn aField > bField ? 1 : aField < bField ? -1 : 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn aField < bField ? 1 : aField > bField ? -1 : 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Custom debug log\r\n\t\t\t * @param text\r\n\t\t\t * @param obj\r\n\t\t\t */\r\n\t\t\tlog: function(text, obj) {\r\n\t\t\t\tif (typeof obj === 'undefined') obj = '';\r\n\t\t\t\tif (datatable.debug) {\r\n\t\t\t\t\tconsole.log(text, obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Auto hide columnds overflow in row\r\n\t\t\t */\r\n\t\t\tautoHide: function() {\r\n\t\t\t\tvar hiddenExist = false;\r\n\t\t\t\t// force hide enabled\r\n\t\t\t\tvar hidDefault = $(datatable.table).find('[data-autohide-enabled]');\r\n\t\t\t\tif (hidDefault.length) {\r\n\t\t\t\t\thiddenExist = true;\r\n\t\t\t\t\thidDefault.hide();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar toggleHiddenColumns = function(e) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tvar row = $(this).closest('.' + pfx + 'datatable__row');\r\n\t\t\t\t\tvar detailRow = $(row).next();\r\n\r\n\t\t\t\t\tif (!$(detailRow).hasClass(pfx + 'datatable__row-detail')) {\r\n\t\t\t\t\t\t$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.collapse')).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));\r\n\r\n\t\t\t\t\t\tvar hiddenCells = $(row).find('.' + pfx + 'datatable__cell:hidden');\r\n\t\t\t\t\t\tvar clonedCells = hiddenCells.clone().show();\r\n\r\n\t\t\t\t\t\tdetailRow = $('<tr/>').addClass(pfx + 'datatable__row-detail').insertAfter(row);\r\n\t\t\t\t\t\tvar detailRowTd = $('<td/>').addClass(pfx + 'datatable__detail').attr('colspan', Plugin.getTotalColumns()).appendTo(detailRow);\r\n\r\n\t\t\t\t\t\tvar detailSubTable = $('<table/>');\r\n\t\t\t\t\t\t$(clonedCells).each(function() {\r\n\t\t\t\t\t\t\tvar field = $(this).data('field');\r\n\t\t\t\t\t\t\tvar column = $.grep(options.columns, function(n, i) {\r\n\t\t\t\t\t\t\t\treturn field === n.field;\r\n\t\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t\t\tif (typeof column === 'undefined' || column.visible !== false) {\r\n\t\t\t\t\t\t\t\t$(detailSubTable).\r\n\t\t\t\t\t\t\t\t\t\tappend($('<tr class=\"' + pfx + 'datatable__row\"></tr>').\r\n\t\t\t\t\t\t\t\t\t\t\t\tappend($('<td class=\"' + pfx + 'datatable__cell\"></td>').append($('<span/>').append(column.title))).\r\n\t\t\t\t\t\t\t\t\t\t\t\tappend(this));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t$(detailRowTd).append(detailSubTable);\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.expand')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));\r\n\t\t\t\t\t\t$(detailRow).remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__cell').show();\r\n\t\t\t\t\t$(datatable.tableBody).each(function() {\r\n\t\t\t\t\t\tvar recursive = 0;\r\n\t\t\t\t\t\twhile ($(this)[0].offsetWidth < $(this)[0].scrollWidth && recursive < options.columns.length) {\r\n\t\t\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').each(function(i) {\r\n\t\t\t\t\t\t\t\tvar cell = $(this).find('.' + pfx + 'datatable__cell:not(:hidden):not([data-autohide-disabled])').last();\r\n\t\t\t\t\t\t\t\t$(cell).hide();\r\n\t\t\t\t\t\t\t\thiddenExist = true;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\trecursive++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (hiddenExist) {\r\n\t\t\t\t\t\t// toggle show hidden columns\r\n\t\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').each(function() {\r\n\t\t\t\t\t\t\t// if no toggle yet\r\n\t\t\t\t\t\t\tif($(this).find('.' + pfx + 'datatable__toggle-detail').length === 0) {\r\n\t\t\t\t\t\t\t\t// add toggle\r\n\t\t\t\t\t\t\t\t$(this).prepend($('<td/>').\r\n\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\t\t\t\t\tappend($('<a/>').\r\n\t\t\t\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__toggle-detail').\r\n\t\t\t\t\t\t\t\t\t\t\tattr('href', '').\r\n\t\t\t\t\t\t\t\t\t\t\ton('click', toggleHiddenColumns).\r\n\t\t\t\t\t\t\t\t\t\t\tappend('<i class=\"' + Plugin.getOption('layout.icons.rowDetail.collapse') + '\"></i>')));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// check if subtable toggle exist\r\n\t\t\t\t\t\t\tif ($(datatable.tableHead).find('.' + pfx + 'datatable__toggle-detail').length === 0) {\r\n\t\t\t\t\t\t\t\t// add empty column to the header and footer\r\n\t\t\t\t\t\t\t\t$(datatable.tableHead).\r\n\t\t\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\t\t\t\tfirst().\r\n\t\t\t\t\t\t\t\t\tprepend('<th class=\"' + pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail\"><span></span></th>');\r\n\t\t\t\t\t\t\t\t$(datatable.tableFoot).\r\n\t\t\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__row').\r\n\t\t\t\t\t\t\t\t\tfirst().\r\n\t\t\t\t\t\t\t\t\tprepend('<th class=\"' + pfx + 'datatable__cell ' + pfx + 'datatable__toggle-detail\"><span></span></th>');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__toggle-detail').find('span');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tPlugin.adjustCellsWidth.call();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * To enable auto columns features for remote data source\r\n\t\t\t */\r\n\t\t\tsetAutoColumns: function() {\r\n\t\t\t\tif (Plugin.getOption('data.autoColumns')) {\r\n\t\t\t\t\t$.each(datatable.dataSet[0], function(k, v) {\r\n\t\t\t\t\t\tvar found = $.grep(options.columns, function(n, i) {\r\n\t\t\t\t\t\t\treturn k === n.field;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (found.length === 0) {\r\n\t\t\t\t\t\t\toptions.columns.push({field: k, title: k});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__row').remove();\r\n\t\t\t\t\tPlugin.setHeadTitle();\r\n\t\t\t\t\tif (Plugin.getOption('layout.footer')) {\r\n\t\t\t\t\t\t$(datatable.tableFoot).find('.' + pfx + 'datatable__row').remove();\r\n\t\t\t\t\t\tPlugin.setHeadTitle(datatable.tableFoot);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/********************\r\n\t\t\t ** HELPERS\r\n\t\t\t ********************/\r\n\r\n\t\t\t/**\r\n\t\t\t * Check if table is a locked colums table\r\n\t\t\t */\r\n\t\t\tisLocked: function() {\r\n\t\t\t\tvar isLocked = Plugin.lockEnabledColumns();\r\n\t\t\t\treturn isLocked.left.length > 0 || isLocked.right.length > 0;\r\n\t\t\t},\r\n\r\n\t\t\tisSubtable: function() {\r\n\t\t\t\treturn util.hasClass(datatable.wrap[0], pfx + 'datatable--subtable') || false;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total extra space of an element for width calculation,\r\n\t\t\t * including padding, margin, border\r\n\t\t\t * @param element\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetExtraSpace: function(element) {\r\n\t\t\t\tvar padding = parseInt($(element).css('paddingRight')) +\r\n\t\t\t\t\tparseInt($(element).css('paddingLeft'));\r\n\t\t\t\tvar margin = parseInt($(element).css('marginRight')) +\r\n\t\t\t\t\tparseInt($(element).css('marginLeft'));\r\n\t\t\t\tvar border = Math.ceil(\r\n\t\t\t\t\t$(element).css('border-right-width').replace('px', ''));\r\n\t\t\t\treturn padding + margin + border;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Insert data of array into {{ }} template placeholder\r\n\t\t\t * @param template\r\n\t\t\t * @param data\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tdataPlaceholder: function(template, data) {\r\n\t\t\t\tvar result = template;\r\n\t\t\t\t$.each(data, function(key, val) {\r\n\t\t\t\t\tresult = result.replace('{{' + key + '}}', val);\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table unique ID\r\n\t\t\t * Note: table unique change each time refreshed\r\n\t\t\t * @param suffix\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetTableId: function(suffix) {\r\n\t\t\t\tif (typeof suffix === 'undefined') suffix = '';\r\n\t\t\t\tvar id = $(datatable).attr('id');\r\n\t\t\t\tif (typeof id === 'undefined') {\r\n\t\t\t\t\tid = $(datatable).attr('class').split(' ')[0];\r\n\t\t\t\t}\r\n\t\t\t\treturn id + suffix;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table prefix with depth number\r\n\t\t\t */\r\n\t\t\tgetTablePrefix: function(suffix) {\r\n\t\t\t\tif (typeof suffix !== 'undefined') suffix = '-' + suffix;\r\n\t\t\t\treturn Plugin.getTableId() + '-' + Plugin.getDepth() + suffix;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get current table depth of sub table\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetDepth: function() {\r\n\t\t\t\tvar depth = 0;\r\n\t\t\t\tvar table = datatable.table;\r\n\t\t\t\tdo {\r\n\t\t\t\t\ttable = $(table).parents('.' + pfx + 'datatable__table');\r\n\t\t\t\t\tdepth++;\r\n\t\t\t\t} while ($(table).length > 0);\r\n\t\t\t\treturn depth;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Keep state item\r\n\t\t\t * @param key\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tstateKeep: function(key, value) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (Plugin.getOption('data.saveState') === false) return;\r\n\t\t\t\tif (Plugin.getOption('data.saveState.webstorage') && localStorage) {\r\n\t\t\t\t\tlocalStorage.setItem(key, JSON.stringify(value));\r\n\t\t\t\t}\r\n\t\t\t\tif (Plugin.getOption('data.saveState.cookie')) {\r\n\t\t\t\t\tCookies.set(key, JSON.stringify(value));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get state item\r\n\t\t\t * @param key\r\n\t\t\t * @param defValue\r\n\t\t\t */\r\n\t\t\tstateGet: function(key, defValue) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (Plugin.getOption('data.saveState') === false) return;\r\n\t\t\t\tvar value = null;\r\n\t\t\t\tif (Plugin.getOption('data.saveState.webstorage') && localStorage) {\r\n\t\t\t\t\tvalue = localStorage.getItem(key);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalue = Cookies.get(key);\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof value !== 'undefined' && value !== null) {\r\n\t\t\t\t\treturn JSON.parse(value);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Update data in state without clear existing\r\n\t\t\t * @param key\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tstateUpdate: function(key, value) {\r\n\t\t\t\tvar ori = Plugin.stateGet(key);\r\n\t\t\t\tif (typeof ori === 'undefined' || ori === null) ori = {};\r\n\t\t\t\tPlugin.stateKeep(key, $.extend({}, ori, value));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Remove state item\r\n\t\t\t * @param key\r\n\t\t\t */\r\n\t\t\tstateRemove: function(key) {\r\n\t\t\t\tkey = Plugin.getTablePrefix(key);\r\n\t\t\t\tif (localStorage) {\r\n\t\t\t\t\tlocalStorage.removeItem(key);\r\n\t\t\t\t}\r\n\t\t\t\tCookies.remove(key);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total columns.\r\n\t\t\t */\r\n\t\t\tgetTotalColumns: function(tablePart) {\r\n\t\t\t\tif (typeof tablePart === 'undefined') tablePart = datatable.tableBody;\r\n\t\t\t\treturn $(tablePart).find('.' + pfx + 'datatable__row').first().find('.' + pfx + 'datatable__cell').length;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get table row. Useful to get row when current table is in lock\r\n\t\t\t * mode. Can be used for both lock and normal table mode. By\r\n\t\t\t * default, returning result will be in a list of <td>.\r\n\t\t\t * @param tablePart\r\n\t\t\t * @param row 1-based index\r\n\t\t\t * @param tdOnly Optional. Default true\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetOneRow: function(tablePart, row, tdOnly) {\r\n\t\t\t\tif (typeof tdOnly === 'undefined') tdOnly = true;\r\n\t\t\t\t// get list of <tr>\r\n\t\t\t\tvar result = $(tablePart).find('.' + pfx + 'datatable__row:not(.' + pfx + 'datatable__row-detail):nth-child(' + row + ')');\r\n\t\t\t\tif (tdOnly) {\r\n\t\t\t\t\t// get list of <td> or <th>\r\n\t\t\t\t\tresult = result.find('.' + pfx + 'datatable__cell');\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Sort table row at HTML level by column index.\r\n\t\t\t * todo; Not in use.\r\n\t\t\t * @param header Header sort clicked\r\n\t\t\t * @param sort asc|desc. Optional. Default asc\r\n\t\t\t * @param int Boolean. Optional. Comparison value parse to integer.\r\n\t\t\t *     Default false\r\n\t\t\t */\r\n\t\t\tsortColumn: function(header, sort, int) {\r\n\t\t\t\tif (typeof sort === 'undefined') sort = 'asc'; // desc\r\n\t\t\t\tif (typeof int === 'undefined') int = false;\r\n\r\n\t\t\t\tvar column = $(header).index();\r\n\t\t\t\tvar rows = $(datatable.tableBody).find('.' + pfx + 'datatable__row');\r\n\t\t\t\tvar hIndex = $(header).closest('.' + pfx + 'datatable__lock').index();\r\n\t\t\t\tif (hIndex !== -1) {\r\n\t\t\t\t\trows = $(datatable.tableBody).find('.' + pfx + 'datatable__lock:nth-child(' + (hIndex + 1) + ')').find('.' + pfx + 'datatable__row');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar container = $(rows).parent();\r\n\t\t\t\t$(rows).sort(function(a, b) {\r\n\t\t\t\t\tvar tda = $(a).find('td:nth-child(' + column + ')').text();\r\n\t\t\t\t\tvar tdb = $(b).find('td:nth-child(' + column + ')').text();\r\n\r\n\t\t\t\t\tif (int) {\r\n\t\t\t\t\t\t// useful for integer type sorting\r\n\t\t\t\t\t\ttda = parseInt(tda);\r\n\t\t\t\t\t\ttdb = parseInt(tdb);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (sort === 'asc') {\r\n\t\t\t\t\t\treturn tda > tdb ? 1 : tda < tdb ? -1 : 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn tda < tdb ? 1 : tda > tdb ? -1 : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).appendTo(container);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Perform sort remote and local\r\n\t\t\t */\r\n\t\t\tsorting: function() {\r\n\t\t\t\tvar sortObj = {\r\n\t\t\t\t\tinit: function() {\r\n\t\t\t\t\t\tif (options.sortable) {\r\n\t\t\t\t\t\t\t$(datatable.tableHead).\r\n\t\t\t\t\t\t\t\tfind('.' + pfx + 'datatable__cell:not(.' + pfx + 'datatable__cell--check)').\r\n\t\t\t\t\t\t\t\taddClass(pfx + 'datatable__cell--sort').\r\n\t\t\t\t\t\t\t\toff('click').\r\n\t\t\t\t\t\t\t\ton('click', sortObj.sortClick);\r\n\t\t\t\t\t\t\t// first init\r\n\t\t\t\t\t\t\tsortObj.setIcon();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsetIcon: function() {\r\n\t\t\t\t\t\tvar meta = Plugin.getDataSourceParam('sort');\r\n\t\t\t\t\t\tif ($.isEmptyObject(meta)) return;\r\n\r\n\t\t\t\t\t\tvar column = Plugin.getColumnByField(meta.field);\r\n\t\t\t\t\t\t// sort is disabled for this column\r\n\t\t\t\t\t\tif (typeof column !== 'undefined' && typeof column.sortable !== 'undefined' && column.sortable === false) return;\r\n\r\n\t\t\t\t\t\t// sort icon beside column header\r\n\t\t\t\t\t\tvar td = $(datatable.tableHead).find('.' + pfx + 'datatable__cell[data-field=\"' + meta.field + '\"]').attr('data-sort', meta.sort);\r\n\t\t\t\t\t\tvar sorting = $(td).find('span');\r\n\t\t\t\t\t\tvar icon = $(sorting).find('i');\r\n\r\n\t\t\t\t\t\tvar icons = Plugin.getOption('layout.icons.sort');\r\n\t\t\t\t\t\t// update sort icon; desc & asc\r\n\t\t\t\t\t\tif ($(icon).length > 0) {\r\n\t\t\t\t\t\t\t$(icon).removeAttr('class').addClass(icons[meta.sort]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(sorting).append($('<i/>').addClass(icons[meta.sort]));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// set sorted class to header on init\r\n\t\t\t\t\t\t$(td).addClass(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsortClick: function(e) {\r\n\t\t\t\t\t\tvar meta = Plugin.getDataSourceParam('sort');\r\n\t\t\t\t\t\tvar field = $(this).data('field');\r\n\t\t\t\t\t\tvar column = Plugin.getColumnByField(field);\r\n\t\t\t\t\t\t// sort is disabled for this column\r\n\t\t\t\t\t\tif (typeof column.sortable !== 'undefined' && column.sortable === false) return;\r\n\r\n\t\t\t\t\t\t// set sorted class to header\r\n\t\t\t\t\t\t$(datatable.tableHead).find('th').removeClass(pfx + 'datatable__cell--sorted');\r\n\t\t\t\t\t\tutil.addClass(this, pfx + 'datatable__cell--sorted');\r\n\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell > span > i').remove();\r\n\r\n\t\t\t\t\t\tif (options.sortable) {\r\n\t\t\t\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t\t\t\tvar sort = 'desc';\r\n\t\t\t\t\t\t\tif (Plugin.getObject('field', meta) === field) {\r\n\t\t\t\t\t\t\t\tsort = Plugin.getObject('sort', meta);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// toggle sort\r\n\t\t\t\t\t\t\tsort = typeof sort === 'undefined' || sort === 'desc'\r\n\t\t\t\t\t\t\t\t? 'asc'\r\n\t\t\t\t\t\t\t\t: 'desc';\r\n\r\n\t\t\t\t\t\t\t// update field and sort params\r\n\t\t\t\t\t\t\tmeta = {field: field, sort: sort};\r\n\t\t\t\t\t\t\tPlugin.setDataSourceParam('sort', meta);\r\n\r\n\t\t\t\t\t\t\tsortObj.setIcon();\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tPlugin.dataRender('sort');\r\n\t\t\t\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-sort', meta);\r\n\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tsortObj.init();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Update JSON data list linked with sort, filter and pagination.\r\n\t\t\t * Call this method, before using dataSet variable.\r\n\t\t\t * @returns {*|null}\r\n\t\t\t */\r\n\t\t\tlocalDataUpdate: function() {\r\n\t\t\t\tvar params = Plugin.getDataSourceParam();\r\n\t\t\t\tif (typeof datatable.originalDataSet === 'undefined') {\r\n\t\t\t\t\tdatatable.originalDataSet = datatable.dataSet;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar field = Plugin.getObject('sort.field', params);\r\n\t\t\t\tvar sort = Plugin.getObject('sort.sort', params);\r\n\t\t\t\tvar column = Plugin.getColumnByField(field);\r\n\t\t\t\tif (typeof column !== 'undefined' && Plugin.getOption('data.serverSorting') !== true) {\r\n\t\t\t\t\tif (typeof column.sortCallback === 'function') {\r\n\t\t\t\t\t\tdatatable.dataSet = column.sortCallback(datatable.originalDataSet, sort, column);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdatatable.dataSet = Plugin.sortCallback(datatable.originalDataSet, sort, column);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatatable.dataSet = datatable.originalDataSet;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if server filter enable, don't pass local filter\r\n\t\t\t\tif (typeof params.query === 'object' && !Plugin.getOption('data.serverFiltering')) {\r\n\t\t\t\t\tparams.query = params.query || {};\r\n\r\n\t\t\t\t\tvar nestedSearch = function(obj) {\r\n\t\t\t\t\t\tfor (var field in obj) {\r\n\t\t\t\t\t\t\tif (!obj.hasOwnProperty(field)) continue;\r\n\t\t\t\t\t\t\tif (typeof obj[field] === 'string') {\r\n\t\t\t\t\t\t\t\tif (obj[field].toLowerCase() == search || obj[field].toLowerCase().indexOf(search) !== -1) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (typeof obj[field] === 'number') {\r\n\t\t\t\t\t\t\t\tif (obj[field] === search) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (typeof obj[field] === 'object') {\r\n\t\t\t\t\t\t\t\tif (nestedSearch(obj[field])) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar search = $(Plugin.getOption('search.input')).val();\r\n\t\t\t\t\tif (typeof search !== 'undefined' && search !== '') {\r\n\t\t\t\t\t\tsearch = search.toLowerCase();\r\n\t\t\t\t\t\tdatatable.dataSet = $.grep(datatable.dataSet, nestedSearch);\r\n\t\t\t\t\t\t// remove generalSearch as we don't need this for next columns filter\r\n\t\t\t\t\t\tdelete params.query[Plugin.getGeneralSearchKey()];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// remove empty element from array\r\n\t\t\t\t\t$.each(params.query, function(k, v) {\r\n\t\t\t\t\t\tif (v === '') {\r\n\t\t\t\t\t\t\tdelete params.query[k];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// filter array by query\r\n\t\t\t\t\tdatatable.dataSet = Plugin.filterArray(datatable.dataSet, params.query);\r\n\r\n\t\t\t\t\t// reset array index\r\n\t\t\t\t\tdatatable.dataSet = datatable.dataSet.filter(function() {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable.dataSet;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Utility helper to filter array by object pair of {key:value}\r\n\t\t\t * @param list\r\n\t\t\t * @param args\r\n\t\t\t * @param operator\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tfilterArray: function(list, args, operator) {\r\n\t\t\t\tif (typeof list !== 'object') {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof operator === 'undefined') operator = 'AND';\r\n\r\n\t\t\t\tif (typeof args !== 'object') {\r\n\t\t\t\t\treturn list;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toperator = operator.toUpperCase();\r\n\r\n\t\t\t\tif ($.inArray(operator, ['AND', 'OR', 'NOT']) === -1) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar count = Object.keys(args).length;\r\n\t\t\t\tvar filtered = [];\r\n\r\n\t\t\t\t$.each(list, function(key, obj) {\r\n\t\t\t\t\tvar to_match = obj;\r\n\r\n\t\t\t\t\tvar matched = 0;\r\n\t\t\t\t\t$.each(args, function(m_key, m_value) {\r\n\t\t\t\t\t\tm_value = m_value instanceof Array ? m_value : [m_value];\r\n\t\t\t\t\t\tvar match_property = Plugin.getObject(m_key, to_match);\r\n\t\t\t\t\t\tif (typeof match_property !== 'undefined' && match_property) {\r\n\t\t\t\t\t\t\tvar lhs = match_property.toString().toLowerCase();\r\n\t\t\t\t\t\t\tm_value.forEach(function(item, index) {\r\n\t\t\t\t\t\t\t\tif (item.toString().toLowerCase() == lhs || lhs.indexOf(item.toString().toLowerCase()) !== -1) {\r\n\t\t\t\t\t\t\t\t\tmatched++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (('AND' == operator && matched == count) ||\r\n\t\t\t\t\t\t('OR' == operator && matched > 0) ||\r\n\t\t\t\t\t\t('NOT' == operator && 0 == matched)) {\r\n\t\t\t\t\t\tfiltered[key] = obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlist = filtered;\r\n\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Reset lock column scroll to 0 when resize\r\n\t\t\t */\r\n\t\t\tresetScroll: function() {\r\n\t\t\t\tif (typeof options.detail === 'undefined' && Plugin.getDepth() === 1) {\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__row').css('left', 0);\r\n\t\t\t\t\t$(datatable.table).find('.' + pfx + 'datatable__lock').css('top', 0);\r\n\t\t\t\t\t$(datatable.tableBody).scrollTop(0);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get column options by field\r\n\t\t\t * @param field\r\n\t\t\t * @returns {boolean}\r\n\t\t\t */\r\n\t\t\tgetColumnByField: function(field) {\r\n\t\t\t\tif (typeof field === 'undefined') return;\r\n\t\t\t\tvar result;\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (field === column.field) {\r\n\t\t\t\t\t\tresult = column;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get default sort column\r\n\t\t\t */\r\n\t\t\tgetDefaultSortColumn: function() {\r\n\t\t\t\tvar result;\r\n\t\t\t\t$.each(options.columns, function(i, column) {\r\n\t\t\t\t\tif (typeof column.sortable !== 'undefined'\r\n\t\t\t\t\t\t&& $.inArray(column.sortable, ['asc', 'desc']) !== -1) {\r\n\t\t\t\t\t\tresult = {sort: column.sortable, field: column.field};\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Helper to get element dimensions, when the element is hidden\r\n\t\t\t * @param element\r\n\t\t\t * @param includeMargin\r\n\t\t\t * @returns {{width: number, height: number, innerWidth: number,\r\n\t\t\t *     innerHeight: number, outerWidth: number, outerHeight:\r\n\t\t\t *     number}}\r\n\t\t\t */\r\n\t\t\tgetHiddenDimensions: function(element, includeMargin) {\r\n\t\t\t\tvar props = {\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\tvisibility: 'hidden',\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdim = {\r\n\t\t\t\t\t\twidth: 0,\r\n\t\t\t\t\t\theight: 0,\r\n\t\t\t\t\t\tinnerWidth: 0,\r\n\t\t\t\t\t\tinnerHeight: 0,\r\n\t\t\t\t\t\touterWidth: 0,\r\n\t\t\t\t\t\touterHeight: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\thiddenParents = $(element).parents().addBack().not(':visible');\r\n\t\t\t\tincludeMargin = (typeof includeMargin === 'boolean')\r\n\t\t\t\t\t? includeMargin\r\n\t\t\t\t\t: false;\r\n\r\n\t\t\t\tvar oldProps = [];\r\n\t\t\t\thiddenParents.each(function() {\r\n\t\t\t\t\tvar old = {};\r\n\r\n\t\t\t\t\tfor (var name in props) {\r\n\t\t\t\t\t\told[name] = this.style[name];\r\n\t\t\t\t\t\tthis.style[name] = props[name];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toldProps.push(old);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdim.width = $(element).width();\r\n\t\t\t\tdim.outerWidth = $(element).outerWidth(includeMargin);\r\n\t\t\t\tdim.innerWidth = $(element).innerWidth();\r\n\t\t\t\tdim.height = $(element).height();\r\n\t\t\t\tdim.innerHeight = $(element).innerHeight();\r\n\t\t\t\tdim.outerHeight = $(element).outerHeight(includeMargin);\r\n\r\n\t\t\t\thiddenParents.each(function(i) {\r\n\t\t\t\t\tvar old = oldProps[i];\r\n\t\t\t\t\tfor (var name in props) {\r\n\t\t\t\t\t\tthis.style[name] = old[name];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn dim;\r\n\t\t\t},\r\n\r\n\t\t\tgetGeneralSearchKey: function() {\r\n\t\t\t\tvar searchInput = $(Plugin.getOption('search.input'));\r\n\t\t\t\treturn $(searchInput).prop('name') || $(searchInput).prop('id');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get value by dot notation path string and to prevent undefined\r\n\t\t\t * errors\r\n\t\t\t * @param path String Dot notation path in string\r\n\t\t\t * @param object Object to iterate\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetObject: function(path, object) {\r\n\t\t\t\treturn path.split('.').reduce(function(obj, i) {\r\n\t\t\t\t\treturn obj !== null && typeof obj[i] !== 'undefined' ? obj[i] : null;\r\n\t\t\t\t}, object);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Extend object\r\n\t\t\t * @param obj\r\n\t\t\t * @param path\r\n\t\t\t * @param value\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\textendObj: function(obj, path, value) {\r\n\t\t\t\tvar levels = path.split('.'),\r\n\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\tfunction createLevel(child) {\r\n\t\t\t\t\tvar name = levels[i++];\r\n\t\t\t\t\tif (typeof child[name] !== 'undefined' && child[name] !== null) {\r\n\t\t\t\t\t\tif (typeof child[name] !== 'object' &&\r\n\t\t\t\t\t\t\ttypeof child[name] !== 'function') {\r\n\t\t\t\t\t\t\tchild[name] = {};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tchild[name] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i === levels.length) {\r\n\t\t\t\t\t\tchild[name] = value;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcreateLevel(child[name]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcreateLevel(obj);\r\n\t\t\t\treturn obj;\r\n\t\t\t},\r\n\r\n\t\t\trowEvenOdd: function() {\r\n\t\t\t\t// row even class\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row').removeClass(pfx + 'datatable__row--even');\r\n\t\t\t\tif ($(datatable.wrap).hasClass(pfx + 'datatable--subtable')) {\r\n\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row:not(.' + pfx + 'datatable__row-detail):even').addClass(pfx + 'datatable__row--even');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__row:nth-child(even)').addClass(pfx + 'datatable__row--even');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/********************\r\n\t\t\t ** PUBLIC API METHODS\r\n\t\t\t ********************/\r\n\r\n\t\t\t// delay timer\r\n\t\t\ttimer: 0,\r\n\r\n\t\t\t/**\r\n\t\t\t * Redraw datatable by recalculating its DOM elements, etc.\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tredraw: function() {\r\n\t\t\t\tPlugin.adjustCellsWidth.call();\r\n\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t// fix hiding cell width issue\r\n\t\t\t\t\tPlugin.scrollbar();\r\n\t\t\t\t\tPlugin.resetScroll();\r\n\t\t\t\t\tPlugin.adjustCellsHeight.call();\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.adjustLockContainer.call();\r\n\t\t\t\tPlugin.initHeight.call();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to reload\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tload: function() {\r\n\t\t\t\tPlugin.reload();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Datasource reload\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\treload: function() {\r\n\t\t\t\tvar delay = (function() {\r\n\t\t\t\t\treturn function(callback, ms) {\r\n\t\t\t\t\t\tclearTimeout(Plugin.timer);\r\n\t\t\t\t\t\tPlugin.timer = setTimeout(callback, ms);\r\n\t\t\t\t\t};\r\n\t\t\t\t})();\r\n\t\t\t\tdelay(function() {\r\n\t\t\t\t\t// local only. remote pagination will skip this block\r\n\t\t\t\t\tif (!options.data.serverFiltering) {\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender();\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-reloaded');\r\n\t\t\t\t}, Plugin.getOption('search.delay'));\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get record by record ID\r\n\t\t\t * @param id\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetRecord: function(id) {\r\n\t\t\t\tif (typeof datatable.tableBody === 'undefined') datatable.tableBody = $(datatable.table).children('tbody');\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'datatable__cell:first-child').each(function(i, cell) {\r\n\t\t\t\t\tif (id == $(cell).text()) {\r\n\t\t\t\t\t\tvar rowNumber = $(cell).closest('.' + pfx + 'datatable__row').index() + 1;\r\n\t\t\t\t\t\tdatatable.API.record = datatable.API.value = Plugin.getOneRow(datatable.tableBody, rowNumber);\r\n\t\t\t\t\t\treturn datatable;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get column of current record ID\r\n\t\t\t * @param columnName\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetColumn: function(columnName) {\r\n\t\t\t\tPlugin.setSelectedRecords();\r\n\t\t\t\tdatatable.API.value = $(datatable.API.record).find('[data-field=\"' + columnName + '\"]');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Destroy datatable to original DOM state before datatable was\r\n\t\t\t * initialized\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t$(datatable).parent().find('.' + pfx + 'datatable__pager').remove();\r\n\t\t\t\tvar initialDatatable = $(datatable.initialDatatable).addClass(pfx + 'datatable--destroyed').show();\r\n\t\t\t\t$(datatable).replaceWith(initialDatatable);\r\n\t\t\t\tdatatable = initialDatatable;\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-destroy');\r\n\t\t\t\tPlugin.isInit = false;\r\n\t\t\t\tinitialDatatable = null;\r\n\t\t\t\treturn initialDatatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Sort by column field\r\n\t\t\t * @param field\r\n\t\t\t * @param sort\r\n\t\t\t */\r\n\t\t\tsort: function(field, sort) {\r\n\t\t\t\t// toggle sort\r\n\t\t\t\tsort = typeof sort === 'undefined' ? 'asc' : sort;\r\n\r\n\t\t\t\tPlugin.spinnerCallback(true);\r\n\r\n\t\t\t\t// update field and sort params\r\n\t\t\t\tvar meta = {field: field, sort: sort};\r\n\t\t\t\tPlugin.setDataSourceParam('sort', meta);\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tPlugin.dataRender('sort');\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-sort', meta);\r\n\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'datatable__cell > span > i').remove();\r\n\t\t\t\t}, 300);\r\n\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get current selected column value\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tgetValue: function() {\r\n\t\t\t\treturn $(datatable.API.value).text();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set checkbox active\r\n\t\t\t * @param cell JQuery selector or checkbox ID\r\n\t\t\t */\r\n\t\t\tsetActive: function(cell) {\r\n\t\t\t\tif (typeof cell === 'string') {\r\n\t\t\t\t\t// set by checkbox id\r\n\t\t\t\t\tcell = $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"][value=\"' + cell + '\"]');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(cell).prop('checked', true);\r\n\r\n\t\t\t\tvar ids = [];\r\n\t\t\t\t$(cell).each(function(i, td) {\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(td).closest('tr').addClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\t\tvar id = $(td).attr('value');\r\n\t\t\t\t\tif (typeof id !== 'undefined') {\r\n\t\t\t\t\t\tids.push(id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-check', [ids]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set checkbox inactive\r\n\t\t\t * @param cell JQuery selector or checkbox ID\r\n\t\t\t */\r\n\t\t\tsetInactive: function(cell) {\r\n\t\t\t\tif (typeof cell === 'string') {\r\n\t\t\t\t\t// set by checkbox id\r\n\t\t\t\t\tcell = $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"][value=\"' + cell + '\"]');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(cell).prop('checked', false);\r\n\r\n\t\t\t\tvar ids = [];\r\n\t\t\t\t$(cell).each(function(i, td) {\r\n\t\t\t\t\t// normal table\r\n\t\t\t\t\tvar row = $(td).closest('tr').removeClass(pfx + 'datatable__row--active');\r\n\r\n\t\t\t\t\tvar id = $(td).attr('value');\r\n\t\t\t\t\tif (typeof id !== 'undefined') {\r\n\t\t\t\t\t\tids.push(id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-uncheck', [ids]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set all checkboxes active or inactive\r\n\t\t\t * @param active\r\n\t\t\t */\r\n\t\t\tsetActiveAll: function(active) {\r\n\t\t\t\tvar checkboxes = $(datatable.table).\r\n\t\t\t\t\tfind('> tbody, > thead').\r\n\t\t\t\t\tfind('tr').not('.' + pfx + 'datatable__row-subtable').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__cell--check [type=\"checkbox\"]');\r\n\t\t\t\tif (active) {\r\n\t\t\t\t\tPlugin.setActive(checkboxes);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.setInactive(checkboxes);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @deprecated in v5.0.6\r\n\t\t\t * Get selected rows which are active\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tsetSelectedRecords: function() {\r\n\t\t\t\tdatatable.API.record = $(datatable.tableBody).find('.' + pfx + 'datatable__row--active');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get selected records\r\n\t\t\t * @returns {null}\r\n\t\t\t */\r\n\t\t\tgetSelectedRecords: function() {\r\n\t\t\t\t// support old method\r\n\t\t\t\tPlugin.setSelectedRecords();\r\n\t\t\t\tdatatable.API.record = datatable.rows('.' + pfx + 'datatable__row--active').nodes();\r\n\t\t\t\treturn datatable.API.record;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get options by dots notation path\r\n\t\t\t * @param path String Dot notation path in string\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetOption: function(path) {\r\n\t\t\t\treturn Plugin.getObject(path, options);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set global options nodes by dots notation path\r\n\t\t\t * @param path\r\n\t\t\t * @param object\r\n\t\t\t */\r\n\t\t\tsetOption: function(path, object) {\r\n\t\t\t\toptions = Plugin.extendObj(options, path, object);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Search filter for local & remote\r\n\t\t\t * @param value\r\n\t\t\t * @param columns. Optional list of columns to be filtered.\r\n\t\t\t */\r\n\t\t\tsearch: function(value, columns) {\r\n\t\t\t\tif (typeof columns !== 'undefined') columns = $.makeArray(columns);\r\n\t\t\t\tvar delay = (function() {\r\n\t\t\t\t\treturn function(callback, ms) {\r\n\t\t\t\t\t\tclearTimeout(Plugin.timer);\r\n\t\t\t\t\t\tPlugin.timer = setTimeout(callback, ms);\r\n\t\t\t\t\t};\r\n\t\t\t\t})();\r\n\r\n\t\t\t\tdelay(function() {\r\n\t\t\t\t\t// get query parameters\r\n\t\t\t\t\tvar query = Plugin.getDataSourceQuery();\r\n\r\n\t\t\t\t\t// search not by columns\r\n\t\t\t\t\tif (typeof columns === 'undefined' && typeof value !== 'undefined') {\r\n\t\t\t\t\t\tvar key = Plugin.getGeneralSearchKey();\r\n\t\t\t\t\t\tquery[key] = value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// search by columns, support multiple columns\r\n\t\t\t\t\tif (typeof columns === 'object') {\r\n\t\t\t\t\t\t$.each(columns, function(k, column) {\r\n\t\t\t\t\t\t\tquery[column] = value;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// remove empty element from arrays\r\n\t\t\t\t\t\t$.each(query, function(k, v) {\r\n\t\t\t\t\t\t\tif (v === '' || $.isEmptyObject(v)) {\r\n\t\t\t\t\t\t\t\tdelete query[k];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPlugin.setDataSourceQuery(query);\r\n\r\n\t\t\t\t\t// reset pagination to 1 when doing seearching\r\n\t\t\t\t\tdatatable.setDataSourceParam('pagination', Object.assign({}, datatable.getDataSourceParam('pagination'), {page: 1}));\r\n\r\n\t\t\t\t\t// local filter only. remote pagination will skip this block\r\n\t\t\t\t\tif (!options.data.serverFiltering) {\r\n\t\t\t\t\t\tPlugin.localDataUpdate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.dataRender('search');\r\n\t\t\t\t}, Plugin.getOption('search.delay'));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Set datasource params extract\r\n\t\t\t * @param param\r\n\t\t\t * @param value\r\n\t\t\t */\r\n\t\t\tsetDataSourceParam: function(param, value) {\r\n\t\t\t\tdatatable.API.params = $.extend({}, {\r\n\t\t\t\t\tpagination: {page: 1, perpage: Plugin.getOption('data.pageSize')},\r\n\t\t\t\t\tsort: Plugin.getDefaultSortColumn(),\r\n\t\t\t\t\tquery: {},\r\n\t\t\t\t}, datatable.API.params, Plugin.stateGet(Plugin.stateId));\r\n\r\n\t\t\t\tdatatable.API.params = Plugin.extendObj(datatable.API.params, param, value);\r\n\r\n\t\t\t\tPlugin.stateKeep(Plugin.stateId, datatable.API.params);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get datasource params\r\n\t\t\t * @param param\r\n\t\t\t */\r\n\t\t\tgetDataSourceParam: function(param) {\r\n\t\t\t\tdatatable.API.params = $.extend({}, {\r\n\t\t\t\t\tpagination: {page: 1, perpage: Plugin.getOption('data.pageSize')},\r\n\t\t\t\t\tsort: Plugin.getDefaultSortColumn(),\r\n\t\t\t\t\tquery: {},\r\n\t\t\t\t}, datatable.API.params, Plugin.stateGet(Plugin.stateId));\r\n\r\n\t\t\t\tif (typeof param === 'string') {\r\n\t\t\t\t\treturn Plugin.getObject(param, datatable.API.params);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn datatable.API.params;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to datatable.getDataSourceParam('query');\r\n\t\t\t * @returns {*}\r\n\t\t\t */\r\n\t\t\tgetDataSourceQuery: function() {\r\n\t\t\t\treturn Plugin.getDataSourceParam('query') || {};\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shortcode to datatable.setDataSourceParam('query', query);\r\n\t\t\t * @param query\r\n\t\t\t */\r\n\t\t\tsetDataSourceQuery: function(query) {\r\n\t\t\t\tPlugin.setDataSourceParam('query', query);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get current page number\r\n\t\t\t * @returns {number}\r\n\t\t\t */\r\n\t\t\tgetCurrentPage: function() {\r\n\t\t\t\treturn $(datatable.table).\r\n\t\t\t\t\tsiblings('.' + pfx + 'datatable__pager').\r\n\t\t\t\t\tlast().\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__pager-nav').\r\n\t\t\t\t\tfind('.' + pfx + 'datatable__pager-link.' + pfx + 'datatable__pager-link--active').\r\n\t\t\t\t\tdata('page') || 1;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get selected dropdown page size\r\n\t\t\t * @returns {*|number}\r\n\t\t\t */\r\n\t\t\tgetPageSize: function() {\r\n\t\t\t\treturn $(datatable.table).siblings('.' + pfx + 'datatable__pager').last().find('select.' + pfx + 'datatable__pager-size').val() || 10;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get total rows\r\n\t\t\t */\r\n\t\t\tgetTotalRows: function() {\r\n\t\t\t\treturn datatable.API.params.pagination.total;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get full dataset in grid\r\n\t\t\t * @returns {*|null|Array}\r\n\t\t\t */\r\n\t\t\tgetDataSet: function() {\r\n\t\t\t\treturn datatable.originalDataSet;\r\n\t\t\t},\r\n\r\n\t\t\tnodeTr: [],\r\n\t\t\tnodeTd: [],\r\n\t\t\tnodeCols: [],\r\n\t\t\trecentNode: [],\r\n\r\n\t\t\ttable: function() {\r\n\t\t\t\tif (typeof datatable.table !== 'undefined') {\r\n\t\t\t\t\treturn datatable.table;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select a single row from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\trow: function(selector) {\r\n\t\t\t\tPlugin.rows(selector);\r\n\t\t\t\tPlugin.nodeTr = Plugin.recentNode = $(Plugin.nodeTr).first();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select multiple rows from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\trows: function(selector) {\r\n\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\tPlugin.nodeTr = Plugin.recentNode = $(datatable.tableBody).find(selector).filter('.' + pfx + 'datatable__lock--scroll > .' + pfx + 'datatable__row');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.nodeTr = Plugin.recentNode = $(datatable.tableBody).find(selector).filter('.' + pfx + 'datatable__row');\r\n\t\t\t\t}\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select a single column from the table\r\n\t\t\t * @param index zero-based index\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tcolumn: function(index) {\r\n\t\t\t\tPlugin.nodeCols = Plugin.recentNode = $(datatable.tableBody).find('.' + pfx + 'datatable__cell:nth-child(' + (index + 1) + ')');\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Select multiple columns from the table\r\n\t\t\t * @param selector\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tcolumns: function(selector) {\r\n\t\t\t\tvar context = datatable.table;\r\n\t\t\t\tif (Plugin.nodeTr === Plugin.recentNode) {\r\n\t\t\t\t\tcontext = Plugin.nodeTr;\r\n\t\t\t\t}\r\n\t\t\t\tvar columns = $(context).find('.' + pfx + 'datatable__cell[data-field=\"' + selector + '\"]');\r\n\t\t\t\tif (columns.length > 0) {\r\n\t\t\t\t\tPlugin.nodeCols = Plugin.recentNode = columns;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPlugin.nodeCols = Plugin.recentNode = $(context).find(selector).filter('.' + pfx + 'datatable__cell');\r\n\t\t\t\t}\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\tcell: function(selector) {\r\n\t\t\t\tPlugin.cells(selector);\r\n\t\t\t\tPlugin.nodeTd = Plugin.recentNode = $(Plugin.nodeTd).first();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\tcells: function(selector) {\r\n\t\t\t\tvar cells = $(datatable.tableBody).find('.' + pfx + 'datatable__cell');\r\n\t\t\t\tif (typeof selector !== 'undefined') {\r\n\t\t\t\t\tcells = $(cells).filter(selector);\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.nodeTd = Plugin.recentNode = cells;\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Delete the selected row from the table\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tremove: function() {\r\n\t\t\t\tif ($(Plugin.nodeTr.length) && Plugin.nodeTr === Plugin.recentNode) {\r\n\t\t\t\t\t$(Plugin.nodeTr).remove();\r\n\t\t\t\t}\r\n\t\t\t\tPlugin.layoutUpdate();\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Show or hide the columns or rows\r\n\t\t\t */\r\n\t\t\tvisible: function(bool) {\r\n\t\t\t\tif ($(Plugin.recentNode.length)) {\r\n\t\t\t\t\tvar locked = Plugin.lockEnabledColumns();\r\n\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\tvar index = Plugin.recentNode.index();\r\n\r\n\t\t\t\t\t\tif (Plugin.isLocked()) {\r\n\t\t\t\t\t\t\tvar scrollColumns = $(Plugin.recentNode).closest('.' + pfx + 'datatable__lock--scroll').length;\r\n\t\t\t\t\t\t\tif (scrollColumns) {\r\n\t\t\t\t\t\t\t\t// is at center of scrollable area\r\n\t\t\t\t\t\t\t\tindex += locked.left.length + 1;\r\n\t\t\t\t\t\t\t} else if ($(Plugin.recentNode).closest('.' + pfx + 'datatable__lock--right').length) {\r\n\t\t\t\t\t\t\t\t// is at the right locked table\r\n\t\t\t\t\t\t\t\tindex += locked.left.length + scrollColumns + 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (bool) {\r\n\t\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\t\tdelete options.columns[index].visible;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(Plugin.recentNode).show();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (Plugin.recentNode === Plugin.nodeCols) {\r\n\t\t\t\t\t\t\tPlugin.setOption('columns.' + (index) + '.visible', false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$(Plugin.recentNode).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlugin.columnHide();\r\n\t\t\t\t\tPlugin.redraw();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Get the the DOM element for the selected rows or columns\r\n\t\t\t * @returns {Array}\r\n\t\t\t */\r\n\t\t\tnodes: function() {\r\n\t\t\t\treturn Plugin.recentNode;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * will be implemented soon\r\n\t\t\t * @returns {jQuery}\r\n\t\t\t */\r\n\t\t\tdataset: function() {\r\n\t\t\t\treturn datatable;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Open page by number\r\n\t\t\t * @param page number\r\n\t\t\t */\r\n\t\t\tgotoPage: function (page) {\r\n\t\t\t\tif (typeof Plugin.pagingObject !== 'undefined') {\r\n\t\t\t\t\tPlugin.isInit = true;\r\n\t\t\t\t\tPlugin.pagingObject.openPage(page);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Public API methods can be used directly by datatable\r\n\t\t */\r\n\t\t$.each(Plugin, function(funcName, func) {\r\n\t\t\tdatatable[funcName] = func;\r\n\t\t});\r\n\r\n\t\t// initialize main datatable plugin\r\n\t\tif (typeof options !== 'undefined') {\r\n\t\t\tif (typeof options === 'string') {\r\n\t\t\t\tvar method = options;\r\n\t\t\t\tdatatable = $(this).data(pluginName);\r\n\t\t\t\tif (typeof datatable !== 'undefined') {\r\n\t\t\t\t\toptions = datatable.options;\r\n\t\t\t\t\tPlugin[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!datatable.data(pluginName) && !$(this).hasClass(pfx + 'datatable--loaded')) {\r\n\t\t\t\t\tdatatable.dataSet = null;\r\n\t\t\t\t\tdatatable.textAlign = {\r\n\t\t\t\t\t\tleft: pfx + 'datatable__cell--left',\r\n\t\t\t\t\t\tcenter: pfx + 'datatable__cell--center',\r\n\t\t\t\t\t\tright: pfx + 'datatable__cell--right',\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// merge default and user defined options\r\n\t\t\t\t\toptions = $.extend(true, {}, $.fn[pluginName].defaults, options);\r\n\r\n\t\t\t\t\tdatatable.options = options;\r\n\r\n\t\t\t\t\t// init plugin process\r\n\t\t\t\t\tPlugin.init.apply(this, [options]);\r\n\r\n\t\t\t\t\t$(datatable.wrap).data(pluginName, datatable);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// get existing instance datatable\r\n\t\t\tdatatable = $(this).data(pluginName);\r\n\t\t\tif (typeof datatable === 'undefined') {\r\n\t\t\t\t$.error(pluginName + ' not initialized');\r\n\t\t\t}\r\n\t\t\toptions = datatable.options;\r\n\t\t}\r\n\r\n\t\treturn datatable;\r\n\t};\r\n\r\n\t// default options\r\n\t$.fn[pluginName].defaults = {\r\n\t\t// datasource definition\r\n\t\tdata: {\r\n\t\t\ttype: 'local',\r\n\t\t\tsource: null,\r\n\t\t\tpageSize: 10, // display records per page\r\n\t\t\tsaveState: {\r\n\t\t\t\t// save datatable state(pagination, filtering, sorting, etc) in cookie or browser webstorage\r\n\t\t\t\tcookie: false,\r\n\t\t\t\twebstorage: true,\r\n\t\t\t},\r\n\r\n\t\t\tserverPaging: false,\r\n\t\t\tserverFiltering: false,\r\n\t\t\tserverSorting: false,\r\n\r\n\t\t\tautoColumns: false,\r\n\t\t\tattr: {\r\n\t\t\t\trowProps: [],\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// layout definition\r\n\t\tlayout: {\r\n\t\t\ttheme: 'default', // datatable will support multiple themes and designs\r\n\t\t\tclass: pfx + 'datatable--brand', // custom wrapper class\r\n\t\t\tscroll: false, // enable/disable datatable scroll both horizontal and vertical when needed.\r\n\t\t\theight: null, // datatable's body's fixed height\r\n\t\t\tminHeight: null,\r\n\t\t\tfooter: false, // display/hide footer\r\n\t\t\theader: true, // display/hide header\r\n\t\t\tcustomScrollbar: true, // set false to disable custom scrollbar\r\n\r\n\t\t\t// datatable spinner\r\n\t\t\tspinner: {\r\n\t\t\t\toverlayColor: '#000000',\r\n\t\t\t\topacity: 0,\r\n\t\t\t\ttype: 'loader',\r\n\t\t\t\tstate: 'brand',\r\n\t\t\t\tmessage: true,\r\n\t\t\t},\r\n\r\n\t\t\t// datatable UI icons\r\n\t\t\ticons: {\r\n\t\t\t\tsort: {asc: 'flaticon2-arrow-up', desc: 'flaticon2-arrow-down'},\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tnext: 'flaticon2-next',\r\n\t\t\t\t\tprev: 'flaticon2-back',\r\n\t\t\t\t\tfirst: 'flaticon2-fast-back',\r\n\t\t\t\t\tlast: 'flaticon2-fast-next',\r\n\t\t\t\t\tmore: 'flaticon-more-1',\r\n\t\t\t\t},\r\n\t\t\t\trowDetail: {expand: 'fa fa-caret-down', collapse: 'fa fa-caret-right'},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// column sorting\r\n\t\tsortable: true,\r\n\r\n\t\t// resize column size with mouse drag coming soon)\r\n\t\tresizable: false,\r\n\r\n\t\t// column based filtering (coming soon)\r\n\t\tfilterable: false,\r\n\r\n\t\tpagination: true,\r\n\r\n\t\t// inline and bactch editing (cooming soon)\r\n\t\teditable: false,\r\n\r\n\t\t// columns definition\r\n\t\tcolumns: [],\r\n\r\n\t\tsearch: {\r\n\t\t\t// enable trigger search by keyup enter\r\n\t\t\tonEnter: false,\r\n\t\t\t// input text for search\r\n\t\t\tinput: null,\r\n\t\t\t// search delay in milliseconds\r\n\t\t\tdelay: 400,\r\n\t\t},\r\n\r\n\t\trows: {\r\n\t\t\t// deprecated\r\n\t\t\tcallback: function() {\r\n\t\t\t},\r\n\t\t\t// call before row template\r\n\t\t\tbeforeTemplate: function() {\r\n\t\t\t},\r\n\t\t\t// call after row template\r\n\t\t\tafterTemplate: function() {\r\n\t\t\t},\r\n\t\t\tautoHide: true,\r\n\t\t},\r\n\r\n\t\t// toolbar\r\n\t\ttoolbar: {\r\n\t\t\t// place pagination and displayInfo blocks according to the array order\r\n\t\t\tlayout: ['pagination', 'info'],\r\n\r\n\t\t\t// toolbar placement can be at top or bottom or both top and bottom repeated\r\n\t\t\tplacement: ['bottom'],  //'top', 'bottom'\r\n\r\n\t\t\t// toolbar items\r\n\t\t\titems: {\r\n\t\t\t\t// pagination\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\t// pagination type(default or scroll)\r\n\t\t\t\t\ttype: 'default',\r\n\r\n\t\t\t\t\t// number of pages to display by breakpoints\r\n\t\t\t\t\tpages: {\r\n\t\t\t\t\t\tdesktop: {\r\n\t\t\t\t\t\t\tlayout: 'default',\r\n\t\t\t\t\t\t\tpagesNumber: 5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttablet: {\r\n\t\t\t\t\t\t\tlayout: 'default',\r\n\t\t\t\t\t\t\tpagesNumber: 3,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmobile: {\r\n\t\t\t\t\t\t\tlayout: 'compact',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// navigation buttons\r\n\t\t\t\t\tnavigation: {\r\n\t\t\t\t\t\tprev: true, // display prev button\r\n\t\t\t\t\t\tnext: true, // display next button\r\n\t\t\t\t\t\tfirst: true, // display first button\r\n\t\t\t\t\t\tlast: true, // display last button\r\n\t\t\t\t\t\tmore: false // display more button\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// page size select\r\n\t\t\t\t\tpageSizeSelect: [], // display dropdown to select pagination size. -1 is used for \"ALl\" option\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// records info\r\n\t\t\t\tinfo: true,\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t// here we will keep all strings and message used by datatable UI so developer can easiliy translate to any language.\r\n\t\t// By default the stirngs will be in the plugin source and here can override it\r\n\t\ttranslate: {\r\n\t\t\trecords: {\r\n\t\t\t\tprocessing: 'Please wait...',\r\n\t\t\t\tnoRecords: 'No records found',\r\n\t\t\t},\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\tfirst: 'First',\r\n\t\t\t\t\t\t\tprev: 'Previous',\r\n\t\t\t\t\t\t\tnext: 'Next',\r\n\t\t\t\t\t\t\tlast: 'Last',\r\n\t\t\t\t\t\t\tmore: 'More pages',\r\n\t\t\t\t\t\t\tinput: 'Page number',\r\n\t\t\t\t\t\t\tselect: 'Select page size',\r\n\t\t\t\t\t\t\tall: 'all',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tinfo: 'Showing {{start}} - {{end}} of {{total}}',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\textensions: {},\r\n\t};\r\n\r\n}(jQuery));\r\n\n\"use strict\";\r\n(function($) {\r\n\r\n\tvar pluginName = 'KTDatatable';\r\n\tvar pfx = 'kt-';\r\n\r\n\t$.fn[pluginName] = $.fn[pluginName] || {};\r\n\r\n\t/**\r\n\t * @param datatable Main datatable plugin instance\r\n\t * @param options Extension options\r\n\t * @returns {*}\r\n\t */\r\n\t$.fn[pluginName].checkbox = function(datatable, options) {\r\n\t\tvar Extension = {\r\n\t\t\tselectedAllRows: false,\r\n\t\t\tselectedRows: [],\r\n\t\t\tunselectedRows: [],\r\n\r\n\t\t\tinit: function() {\r\n\t\t\t\tif (Extension.selectorEnabled()) {\r\n\t\t\t\t\t// reset\r\n\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, false);\r\n\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\r\n\t\t\t\t\t// requestIds is not null\r\n\t\t\t\t\tif (options.vars.requestIds) {\r\n\t\t\t\t\t\t// request ids in response\r\n\t\t\t\t\t\tdatatable.setDataSourceParam(options.vars.requestIds, true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// remove selected checkbox on datatable reload\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-reloaded', function() {\r\n\t\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\t\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, false);\r\n\t\t\t\t\t\tExtension.selectedAllRows = false;\r\n\t\t\t\t\t\tExtension.selectedRows = [];\r\n\t\t\t\t\t\tExtension.unselectedRows = [];\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// select all on extension init\r\n\t\t\t\t\tExtension.selectedAllRows = datatable.getDataSourceParam(options.vars.selectedAllRows);\r\n\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-layout-updated', function(e, args) {\r\n\t\t\t\t\t\tif (args.table != $(datatable.wrap).attr('id')) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdatatable.ready(function() {\r\n\t\t\t\t\t\t\tExtension.initVars();\r\n\t\t\t\t\t\t\tExtension.initEvent();\r\n\t\t\t\t\t\t\tExtension.initSelect();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-check', function(e, ids) {\r\n\t\t\t\t\t\tids.forEach(function(id) {\r\n\t\t\t\t\t\t\tExtension.selectedRows.push(id);\r\n\t\t\t\t\t\t\t// // remove from unselected rows\r\n\t\t\t\t\t\t\tExtension.unselectedRows = Extension.remove(Extension.unselectedRows, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(datatable).on(pfx + 'datatable--on-uncheck', function(e, ids) {\r\n\t\t\t\t\t\tids.forEach(function(id) {\r\n\t\t\t\t\t\t\tExtension.unselectedRows.push(id);\r\n\t\t\t\t\t\t\t// // remove from selected rows\r\n\t\t\t\t\t\t\tExtension.selectedRows = Extension.remove(Extension.selectedRows, id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Init checkbox clicks event\r\n\t\t\t */\r\n\t\t\tinitEvent: function() {\r\n\t\t\t\t// select all checkbox click\r\n\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').click(function(e) {\r\n\t\t\t\t\t// clear selected and unselected rows\r\n\t\t\t\t\tExtension.selectedRows = Extension.unselectedRows = [];\r\n\t\t\t\t\tdatatable.stateRemove('checkbox');\r\n\r\n\t\t\t\t\t// select all rows\r\n\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\tExtension.selectedAllRows = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tExtension.selectedAllRows = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// local select all current page rows\r\n\t\t\t\t\tif (!options.vars.requestIds) {\r\n\t\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\t\tExtension.selectedRows = $.makeArray($(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').map(function(i, chk) {\r\n\t\t\t\t\t\t\t\treturn $(chk).val();\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// keep selectedAllRows in datasource params\r\n\t\t\t\t\tdatatable.setDataSourceParam(options.vars.selectedAllRows, Extension.selectedAllRows);\r\n\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-click-checkbox', [$(this)]);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// single row checkbox click\r\n\t\t\t\t$(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').click(function(e) {\r\n\t\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t\tif ($(this).is(':checked')) {\r\n\t\t\t\t\t\tExtension.selectedRows.push(id);\r\n\t\t\t\t\t\t// remove from unselected rows\r\n\t\t\t\t\t\tExtension.unselectedRows = Extension.remove(Extension.unselectedRows, id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tExtension.unselectedRows.push(id);\r\n\t\t\t\t\t\t// remove from selected rows\r\n\t\t\t\t\t\tExtension.selectedRows = Extension.remove(Extension.selectedRows, id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// local checkbox header check\r\n\t\t\t\t\tif (!options.vars.requestIds && Extension.selectedRows.length < 1) {\r\n\t\t\t\t\t\t// remove select all checkbox, if there is no checked checkbox left\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar storage = {};\r\n\t\t\t\t\tstorage['selectedRows'] = $.unique(Extension.selectedRows);\r\n\t\t\t\t\tstorage['unselectedRows'] = $.unique(Extension.unselectedRows);\r\n\t\t\t\t\tdatatable.stateKeep('checkbox', storage);\r\n\r\n\t\t\t\t\t$(datatable).trigger(pfx + 'datatable--on-click-checkbox', [$(this)]);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tinitSelect: function() {\r\n\t\t\t\t// selected all rows from server\r\n\t\t\t\tif (Extension.selectedAllRows && options.vars.requestIds) {\r\n\t\t\t\t\tif (!datatable.hasClass(pfx + 'datatable--error')) {\r\n\t\t\t\t\t\t// set header select all checkbox checked\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// set all checkbox in table body\r\n\t\t\t\t\tdatatable.setActiveAll(true);\r\n\r\n\t\t\t\t\t// remove unselected rows\r\n\t\t\t\t\tExtension.unselectedRows.forEach(function(id) {\r\n\t\t\t\t\t\tdatatable.setInactive(id);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// single check for server and local\r\n\t\t\t\t\tExtension.selectedRows.forEach(function(id) {\r\n\t\t\t\t\t\tdatatable.setActive(id);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// local checkbox; check if all checkboxes of currect page are checked\r\n\t\t\t\t\tif (!datatable.hasClass(pfx + 'datatable--error') && $(datatable.tableBody).find('.' + pfx + 'checkbox--single > [type=\"checkbox\"]').not(':checked').length < 1) {\r\n\t\t\t\t\t\t// set header select all checkbox checked\r\n\t\t\t\t\t\t$(datatable.tableHead).find('.' + pfx + 'checkbox--all > [type=\"checkbox\"]').prop('checked', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Check if selector is enabled from options\r\n\t\t\t */\r\n\t\t\tselectorEnabled: function() {\r\n\t\t\t\treturn $.grep(datatable.options.columns, function(n, i) {\r\n\t\t\t\t\treturn n.selector || false;\r\n\t\t\t\t})[0];\r\n\t\t\t},\r\n\r\n\t\t\tinitVars: function() {\r\n\t\t\t\t// get single select/unselect from localstorage\r\n\t\t\t\tvar storage = datatable.stateGet('checkbox');\r\n\t\t\t\tif (typeof storage !== 'undefined') {\r\n\t\t\t\t\tExtension.selectedRows = storage['selectedRows'] || [];\r\n\t\t\t\t\tExtension.unselectedRows = storage['unselectedRows'] || [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tgetSelectedId: function(path) {\r\n\t\t\t\tExtension.initVars();\r\n\r\n\t\t\t\t// server selected all rows\r\n\t\t\t\tif (Extension.selectedAllRows && options.vars.requestIds) {\r\n\t\t\t\t\tif (typeof path === 'undefined') {\r\n\t\t\t\t\t\tpath = options.vars.rowIds;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if selected all rows, return id from response meta\r\n\t\t\t\t\tvar selectedAllRows = datatable.getObject(path, datatable.lastResponse) || [];\r\n\r\n\t\t\t\t\tif (selectedAllRows.length > 0) {\r\n\t\t\t\t\t\t// remove single unselected rows from selectedAllRows ids from server response emta\r\n\t\t\t\t\t\tExtension.unselectedRows.forEach(function(id) {\r\n\t\t\t\t\t\t\tselectedAllRows = Extension.remove(selectedAllRows, parseInt(id));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn selectedAllRows;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// else return single checked selected rows\r\n\t\t\t\treturn Extension.selectedRows;\r\n\t\t\t},\r\n\r\n\t\t\tremove: function(array, element) {\r\n\t\t\t\treturn array.filter(function(e) {\r\n\t\t\t\t\treturn e !== element;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// make the extension accessible from datatable init\r\n\t\tdatatable.checkbox = function() {\r\n\t\t\treturn Extension;\r\n\t\t};\r\n\r\n\t\tif (typeof options === 'object') {\r\n\t\t\toptions = $.extend(true, {}, $.fn[pluginName].checkbox.default, options);\r\n\t\t\tExtension.init.apply(this, [options]);\r\n\t\t}\r\n\r\n\t\treturn datatable;\r\n\t};\r\n\r\n\t$.fn[pluginName].checkbox.default = {\r\n\t\tvars: {\r\n\t\t\t// select all rows flag to be sent to the server\r\n\t\t\tselectedAllRows: 'selectedAllRows',\r\n\t\t\t// request id parameter's name\r\n\t\t\trequestIds: 'requestIds',\r\n\t\t\t// response path to all rows id\r\n\t\t\trowIds: 'meta.rowIds',\r\n\t\t},\r\n\t};\r\n\r\n}(jQuery));\nvar defaults = {\r\n\tlayout: {\r\n\t\ticons: {\r\n\t\t\tpagination: {\r\n\t\t\t\tnext: 'flaticon2-next',\r\n\t\t\t\tprev: 'flaticon2-back',\r\n\t\t\t\tfirst: 'flaticon2-fast-back',\r\n\t\t\t\tlast: 'flaticon2-fast-next',\r\n\t\t\t\tmore: 'flaticon-more-1',\r\n\t\t\t},\r\n\t\t\trowDetail: {expand: 'fa fa-caret-down', collapse: 'fa fa-caret-right'},\r\n\t\t}\r\n\t}\r\n};\r\n\r\nif (KTUtil.isRTL()) {\r\n\tdefaults = {\r\n\t\tlayout: {\r\n\t\t\ticons: {\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tnext: 'flaticon2-back',\r\n\t\t\t\t\tprev: 'flaticon2-next',\r\n\t\t\t\t\tfirst: 'flaticon2-fast-next',\r\n\t\t\t\t\tlast: 'flaticon2-fast-back',\r\n\t\t\t\t},\r\n\t\t\t\trowDetail: {collapse: 'fa fa-caret-down', expand: 'fa fa-caret-right'},\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n$.extend(true, $.fn.KTDatatable.defaults, defaults);\n\"use strict\";\r\n\r\n// Class definition\r\nvar KTChat = function () {\r\n\tvar initChat = function (parentEl) {\r\n\t\tvar messageListEl = KTUtil.find(parentEl, '.kt-scroll');\r\n\r\n\t\tif (!messageListEl) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// initialize perfect scrollbar(see:  https://github.com/utatti/perfect-scrollbar)\r\n\t\tKTUtil.scrollInit(messageListEl, {\r\n\t\t\twindowScroll: false, // allow browser scroll when the scroll reaches the end of the side\r\n\t\t\tmobileNativeScroll: true,  // enable native scroll for mobile\r\n\t\t\tdesktopNativeScroll: false, // disable native scroll and use custom scroll for desktop\r\n\t\t\tresetHeightOnDestroy: true,  // reset css height on scroll feature destroyed\r\n\t\t\thandleWindowResize: true, // recalculate hight on window resize\r\n\t\t\trememberPosition: true, // remember scroll position in cookie\r\n\t\t\theight: function() {  // calculate height\r\n\t\t\t\tvar height;\r\n\r\n\t\t\t\t// Mobile mode\r\n\t\t\t\tif (KTUtil.isInResponsiveRange('tablet-and-mobile')) {\r\n\t\t\t\t\treturn KTUtil.hasAttr(messageListEl, 'data-mobile-height') ? parseInt(KTUtil.attr(messageListEl, 'data-mobile-height')) : 300;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Desktop mode\r\n\t\t\t\tif (KTUtil.isInResponsiveRange('desktop') && KTUtil.hasAttr(messageListEl, 'data-height')) {\r\n\t\t\t\t\treturn parseInt(KTUtil.attr(messageListEl, 'data-height'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar chatEl = KTUtil.find(parentEl, '.kt-chat');\r\n\t\t\t\tvar portletHeadEl = KTUtil.find(parentEl, '.kt-portlet > .kt-portlet__head');\r\n\t\t\t\tvar portletBodyEl = KTUtil.find(parentEl, '.kt-portlet > .kt-portlet__body');\r\n\t\t\t\tvar portletFootEl = KTUtil.find(parentEl, '.kt-portlet > .kt-portlet__foot');\r\n\r\n\t\t\t\tif (KTUtil.isInResponsiveRange('desktop')) {\r\n\t\t\t\t\theight = KTLayout.getContentHeight();\r\n\t\t\t\t} else {\r\n\t\t\t\t\theight = KTUtil.getViewPort().height;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (chatEl) {\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(chatEl, 'margin-top')) - parseInt(KTUtil.css(chatEl, 'margin-bottom'));\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(chatEl, 'padding-top')) - parseInt(KTUtil.css(chatEl, 'padding-bottom'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (portletHeadEl) {\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletHeadEl, 'height'));\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletHeadEl, 'margin-top')) - parseInt(KTUtil.css(portletHeadEl, 'margin-bottom'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (portletBodyEl) {\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletBodyEl, 'margin-top')) - parseInt(KTUtil.css(portletBodyEl, 'margin-bottom'));\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletBodyEl, 'padding-top')) - parseInt(KTUtil.css(portletBodyEl, 'padding-bottom'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (portletFootEl) {\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletFootEl, 'height'));\r\n\t\t\t\t\theight = height - parseInt(KTUtil.css(portletFootEl, 'margin-top')) - parseInt(KTUtil.css(portletFootEl, 'margin-bottom'));\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// remove additional space\r\n\t\t\t\theight = height - 5;\r\n\r\n\t\t\t\treturn height;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// messaging\r\n\t\tvar handleMessaging = function() {\r\n\t\t\tvar scrollEl = KTUtil.find(parentEl, '.kt-scroll');\r\n\t\t\tvar messagesEl = KTUtil.find(parentEl, '.kt-chat__messages');\r\n            var textarea = KTUtil.find(parentEl, '.kt-chat__input textarea');\r\n\r\n            if (textarea.value.length === 0 ) {\r\n                return;\r\n            }\r\n\r\n\t\t\tvar node = document.createElement(\"DIV\");\r\n\t\t\tKTUtil.addClass(node, 'kt-chat__message kt-chat__message--brand kt-chat__message--right');\r\n\r\n\t\t\tvar html =\r\n\t\t\t\t'<div class=\"kt-chat__user\">' +\r\n\t\t\t\t\t'<span class=\"kt-chat__datetime\">Just now</span>' +\r\n\t\t\t\t\t'<a href=\"#\" class=\"kt-chat__username\">Jason Muller</span></a>' +\r\n\t\t\t\t\t'<span class=\"kt-media kt-media--circle kt-media--sm\">' +\r\n\t\t\t\t\t\t'<img src=\"./assets/media/users/100_12.jpg\" alt=\"image\">'  +\r\n\t\t\t\t\t'</span>' +\r\n\t\t\t\t'</div>' +\r\n\t\t\t\t'<div class=\"kt-chat__text kt-bg-light-brand\">' +\r\n\t\t\t\t\ttextarea.value\r\n\t\t\t\t'</div>';\r\n\r\n\t\t\tKTUtil.setHTML(node, html);\r\n\t\t\tmessagesEl.appendChild(node);\r\n\t\t\ttextarea.value = '';\r\n\t\t\tscrollEl.scrollTop = parseInt(KTUtil.css(messagesEl, 'height'));\r\n\r\n\t\t\tvar ps;\r\n\t\t\tif (ps = KTUtil.data(scrollEl).get('ps')) {\r\n\t\t\t\tps.update();\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar node = document.createElement(\"DIV\");\r\n\t\t\t\tKTUtil.addClass(node, 'kt-chat__message kt-chat__message--success');\r\n\r\n\t\t\t\tvar html =\r\n\t\t\t\t\t'<div class=\"kt-chat__user\">' +\r\n\t\t\t\t\t\t'<span class=\"kt-media kt-media--circle kt-media--sm\">' +\r\n\t\t\t\t\t\t\t'<img src=\"./assets/media/users/100_13.jpg\" alt=\"image\">'  +\r\n\t\t\t\t\t\t'</span>' +\r\n\t\t\t\t\t\t'<a href=\"#\" class=\"kt-chat__username\">Max Born</span></a>' +\r\n\t\t\t\t\t\t'<span class=\"kt-chat__datetime\">Just now</span>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"kt-chat__text kt-bg-light-success\">' +\r\n\t\t\t\t\t'Right before vacation season we have the next Big Deal for you. <br>Book the car of your dreams and save up to <b>25%*</b> worldwide.' +\r\n\t\t\t\t\t'</div>';\r\n\r\n\t\t\t\tKTUtil.setHTML(node, html);\r\n\t\t\t\tmessagesEl.appendChild(node);\r\n\t\t\t\ttextarea.value = '';\r\n\t\t\t\tscrollEl.scrollTop = parseInt(KTUtil.css(messagesEl, 'height'));\r\n\r\n\t\t\t\tvar ps;\r\n\t\t\t\tif (ps = KTUtil.data(scrollEl).get('ps')) {\r\n\t\t\t\t\tps.update();\r\n\t\t\t\t}\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\r\n\t\t// attach events\r\n\t\tKTUtil.on(parentEl, '.kt-chat__input textarea', 'keydown', function(e) {\r\n\t\t\tif (e.keyCode == 13) {\r\n\t\t\t\thandleMessaging();\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tKTUtil.on(parentEl, '.kt-chat__input .kt-chat__reply', 'click', function(e) {\r\n\t\t\thandleMessaging();\r\n\t\t});\r\n\t}\r\n\r\n\treturn {\r\n\t\t// public functions\r\n\t\tinit: function() {\r\n\t\t\t// init modal chat example\r\n\t\t\tinitChat( KTUtil.getByID('kt_chat_modal'));\r\n\r\n\t\t\t// trigger click to show popup modal chat on page load\r\n\t\t\tif (encodeURI(window.location.hostname) == 'keenthemes.com' || encodeURI(window.location.hostname) == 'www.keenthemes.com') {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t            if (!Cookies.get('kt_app_chat_shown')) {\r\n\t\t                var expires = new Date(new Date().getTime() + 60 * 60 * 1000); // expire in 60 minutes from now\r\n\t\t                Cookies.set('kt_app_chat_shown', 1, { expires: expires });\r\n\t\t                KTUtil.getByID('kt_app_chat_launch_btn').click();\r\n\t\t            }\r\n\t\t        }, 2000);\r\n\t        }\r\n        },\r\n\r\n        setup: function(element) {\r\n            initChat(element);\r\n        }\r\n\t};\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined') {\r\n\tmodule.exports = KTChat;\r\n}\r\n\r\nKTUtil.ready(function() {\r\n\tKTChat.init();\r\n});\r\n\n\"use strict\";\r\n\r\nvar KTDemoPanel = function() {\r\n    var demoPanel;\r\n    var offcanvas;\r\n\r\n    var init = function() {\r\n        offcanvas = new KTOffcanvas(demoPanel, {\r\n            overlay: true,\r\n            baseClass: 'kt-demo-panel',\r\n            closeBy: 'kt_demo_panel_close',\r\n            toggleBy: 'kt_demo_panel_toggle'\r\n        });\r\n\r\n        var head = KTUtil.find(demoPanel, '.kt-demo-panel__head');\r\n        var body = KTUtil.find(demoPanel, '.kt-demo-panel__body');\r\n\r\n        KTUtil.scrollInit(body, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (head) {\r\n                    height = height - parseInt(KTUtil.actualHeight(head));\r\n                    height = height - parseInt(KTUtil.css(head, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(demoPanel, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(demoPanel, 'paddingBottom'));\r\n\r\n                return height;\r\n            }\r\n        });\r\n\r\n        if (typeof offcanvas !== 'undefined' && offcanvas.length === 0) {\r\n            offcanvas.on('hide', function() {\r\n                var expires = new Date(new Date().getTime() + 60 * 60 * 1000); // expire in 60 minutes from now\r\n                Cookies.set('kt_demo_panel_shown', 1, {expires: expires});\r\n            });\r\n        }\r\n    }\r\n\r\n    var remind = function() {\r\n        if (!(encodeURI(window.location.hostname) == 'keenthemes.com' || encodeURI(window.location.hostname) == 'www.keenthemes.com')) {\r\n            return;\r\n        }\r\n\r\n        setTimeout(function() {\r\n            if (!Cookies.get('kt_demo_panel_shown')) {\r\n                var expires = new Date(new Date().getTime() + 15 * 60 * 1000); // expire in 15 minutes from now\r\n                Cookies.set('kt_demo_panel_shown', 1, { expires: expires });\r\n                offcanvas.show();\r\n            }\r\n        }, 4000);\r\n    }\r\n\r\n    return {\r\n        init: function() {\r\n            demoPanel = KTUtil.getByID('kt_demo_panel');\r\n\r\n            init();\r\n            remind();\r\n        }\r\n    };\r\n}();\r\n\r\n$(document).ready(function() {\r\n    KTDemoPanel.init();\r\n});\r\n\n\"use strict\";\r\n\r\nvar KTLayout = function() {\r\n\tvar body;\r\n\r\n\tvar header;\r\n\tvar headerMenu;\r\n\tvar headerMenuOffcanvas;\r\n\r\n\tvar asideMenu;\r\n\tvar asideMenuOffcanvas;\r\n\tvar asideToggler;\r\n\r\n\tvar asideSecondary;\r\n\tvar asideSecondaryToggler;\r\n\r\n\tvar scrollTop;\r\n\r\n\tvar pageStickyPortlet;\r\n\r\n\t// Header\r\n\tvar initHeader = function() {\r\n\t\tvar tmp;\r\n\t\tvar headerEl = KTUtil.get('kt_header');\r\n\t\tvar options = {\r\n\t\t\toffset: {},\r\n\t\t\tminimize: {\r\n\t\t\t\t/*\r\n\t\t\t\tdesktop: {\r\n\t\t\t\t    on: 'kt-header--minimize'\r\n\t\t\t\t},\r\n\t\t\t\t*/\r\n\t\t\t\tdesktop: false,\r\n\t\t\t\tmobile: false\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (tmp = KTUtil.attr(headerEl, 'data-ktheader-minimize-offset')) {\r\n\t\t\toptions.offset.desktop = tmp;\r\n\t\t}\r\n\r\n\t\tif (tmp = KTUtil.attr(headerEl, 'data-ktheader-minimize-mobile-offset')) {\r\n\t\t\toptions.offset.mobile = tmp;\r\n\t\t}\r\n\r\n\t\theader = new KTHeader('kt_header', options);\r\n\t}\r\n\r\n\t// Header Menu\r\n\tvar initHeaderMenu = function() {\r\n\t\t// init aside left offcanvas\r\n\t\theaderMenuOffcanvas = new KTOffcanvas('kt_header_menu_wrapper', {\r\n\t\t\toverlay: true,\r\n\t\t\tbaseClass: 'kt-header-menu-wrapper',\r\n\t\t\tcloseBy: 'kt_header_menu_mobile_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_header_mobile_toggler',\r\n\t\t\t\tstate: 'kt-header-mobile__toolbar-toggler--active'\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\theaderMenu = new KTMenu('kt_header_menu', {\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: 'dropdown',\r\n\t\t\t\ttablet: 'accordion',\r\n\t\t\t\tmobile: 'accordion'\r\n\t\t\t},\r\n\t\t\taccordion: {\r\n\t\t\t\tslideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Header Topbar\r\n\tvar initHeaderTopbar = function() {\r\n\t\tasideToggler = new KTToggle('kt_header_mobile_topbar_toggler', {\r\n\t\t\ttarget: 'body',\r\n\t\t\ttargetState: 'kt-header__topbar--mobile-on',\r\n\t\t\ttogglerState: 'kt-header-mobile__toolbar-topbar-toggler--active'\r\n\t\t});\r\n\t}\r\n\r\n\t// Aside\r\n\tvar initAside = function() {\r\n\t\t// init aside left offcanvas\r\n\t\tvar asidBrandHover = false;\r\n\t\tvar aside = KTUtil.get('kt_aside');\r\n\t\tvar asideBrand = KTUtil.get('kt_aside_brand');\r\n\t\tvar asideOffcanvasClass = KTUtil.hasClass(aside, 'kt-aside--offcanvas-default') ? 'kt-aside--offcanvas-default' : 'kt-aside';\r\n\r\n\t\tasideMenuOffcanvas = new KTOffcanvas('kt_aside', {\r\n\t\t\tbaseClass: asideOffcanvasClass,\r\n\t\t\toverlay: true,\r\n\t\t\tcloseBy: 'kt_aside_close_btn',\r\n\t\t\ttoggleBy: {\r\n\t\t\t\ttarget: 'kt_aside_mobile_toggler',\r\n\t\t\t\tstate: 'kt-header-mobile__toolbar-toggler--active'\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Handle minimzied aside hover\r\n\t\tif (KTUtil.hasClass(body, 'kt-aside--fixed')) {\r\n\t\t\tvar insideTm;\r\n\t\t\tvar outsideTm;\r\n\r\n\t\t\tKTUtil.addEvent(aside, 'mouseenter', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isInResponsiveRange('desktop') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (outsideTm) {\r\n\t\t\t\t\tclearTimeout(outsideTm);\r\n\t\t\t\t\toutsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinsideTm = setTimeout(function() {\r\n\t\t\t\t\tif (KTUtil.hasClass(body, 'kt-aside--minimize') && KTUtil.isInResponsiveRange('desktop')) {\r\n\t\t\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimize');\r\n\r\n\t\t\t\t\t\t// Minimizing class\r\n\t\t\t\t\t\tKTUtil.addClass(body, 'kt-aside--minimizing');\r\n\t\t\t\t\t\tKTUtil.transitionEnd(body, function() {\r\n\t\t\t\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimizing');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Hover class\r\n\t\t\t\t\t\tKTUtil.addClass(body, 'kt-aside--minimize-hover');\r\n\t\t\t\t\t\tasideMenu.scrollUpdate();\r\n\t\t\t\t\t\tasideMenu.scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 50);\r\n\t\t\t});\r\n\r\n\t\t\tKTUtil.addEvent(aside, 'mouseleave', function(e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (KTUtil.isInResponsiveRange('desktop') === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (insideTm) {\r\n\t\t\t\t\tclearTimeout(insideTm);\r\n\t\t\t\t\tinsideTm = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toutsideTm = setTimeout(function() {\r\n\t\t\t\t\tif (KTUtil.hasClass(body, 'kt-aside--minimize-hover') && KTUtil.isInResponsiveRange('desktop')) {\r\n\t\t\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimize-hover');\r\n\t\t\t\t\t\tKTUtil.addClass(body, 'kt-aside--minimize');\r\n\r\n\t\t\t\t\t\t// Minimizing class\r\n\t\t\t\t\t\tKTUtil.addClass(body, 'kt-aside--minimizing');\r\n\t\t\t\t\t\tKTUtil.transitionEnd(body, function() {\r\n\t\t\t\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimizing');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Hover class\r\n\t\t\t\t\t\tasideMenu.scrollUpdate();\r\n\t\t\t\t\t\tasideMenu.scrollTop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Aside menu\r\n\tvar initAsideMenu = function() {\r\n\t\t// Init aside menu\r\n\t\tvar menu = KTUtil.get('kt_aside_menu');\r\n\t\tvar menuDesktopMode = (KTUtil.attr(menu, 'data-ktmenu-dropdown') === '1' ? 'dropdown' : 'accordion');\r\n\r\n\t\tvar scroll;\r\n\t\tif (KTUtil.attr(menu, 'data-ktmenu-scroll') === '1') {\r\n\t\t\tscroll = {\r\n\t\t\t\trememberPosition: true, // remember position on page reload\r\n\t\t\t\theight: function() { // calculate available scrollable area height\r\n\t\t\t\t\tvar height;\r\n\r\n\t\t\t\t\tif (KTUtil.isInResponsiveRange('desktop')) {\r\n\t\t\t\t\t\theight =\r\n\t\t\t\t\t\t\tparseInt(KTUtil.getViewPort().height) -\r\n\t\t\t\t\t\t\tparseInt(KTUtil.actualHeight('kt_aside_brand')) -\r\n\t\t\t\t\t\t\tparseInt(KTUtil.getByID('kt_aside_footer') ? KTUtil.actualHeight('kt_aside_footer') : 0);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\theight =\r\n\t\t\t\t\t\t\tparseInt(KTUtil.getViewPort().height) -\r\n\t\t\t\t\t\t\tparseInt(KTUtil.getByID('kt_aside_footer') ? KTUtil.actualHeight('kt_aside_footer') : 0);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\theight = height - (parseInt(KTUtil.css(menu, 'marginBottom')) + parseInt(KTUtil.css(menu, 'marginTop')));\r\n\r\n\t\t\t\t\treturn height;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tasideMenu = new KTMenu('kt_aside_menu', {\r\n\t\t\t// vertical scroll\r\n\t\t\tscroll: scroll,\r\n\r\n\t\t\t// submenu setup\r\n\t\t\tsubmenu: {\r\n\t\t\t\tdesktop: menuDesktopMode,\r\n\t\t\t\ttablet: 'accordion', // menu set to accordion in tablet mode\r\n\t\t\t\tmobile: 'accordion' // menu set to accordion in mobile mode\r\n\t\t\t},\r\n\r\n\t\t\t//accordion setup\r\n\t\t\taccordion: {\r\n\t\t\t\texpandAll: false // allow having multiple expanded accordions in the menu\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// sample set active menu\r\n\t\t// asideMenu.setActiveItem($('a[href=\"?page=custom/pages/pricing/pricing-1&demo=demo1\"]').closest('.kt-menu__item')[0]);\r\n\t}\r\n\r\n\t// Sidebar toggle\r\n\tvar initAsideToggler = function() {\r\n\t\tif (!KTUtil.get('kt_aside_toggler')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tasideToggler = new KTToggle('kt_aside_toggler', {\r\n\t\t\ttarget: 'body',\r\n\t\t\ttargetState: 'kt-aside--minimize',\r\n\t\t\ttogglerState: 'kt-aside__brand-aside-toggler--active'\r\n\t\t});\r\n\r\n\t\tasideToggler.on('toggle', function(toggle) {\r\n\t\t\tKTUtil.addClass(body, 'kt-aside--minimizing');\r\n\r\n\t\t\tif (KTUtil.get('kt_page_portlet')) {\r\n\t\t\t\tpageStickyPortlet.updateSticky();\r\n\t\t\t}\r\n\r\n\t\t\tKTUtil.transitionEnd(body, function() {\r\n\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimizing');\r\n\t\t\t});\r\n\r\n\t\t\theaderMenu.pauseDropdownHover(800);\r\n\t\t\tasideMenu.pauseDropdownHover(800);\r\n\r\n\t\t\t// Remember state in cookie\r\n\t\t\tCookies.set('kt_aside_toggle_state', toggle.getState());\r\n\t\t\t// to set default minimized left aside use this cookie value in your\r\n\t\t\t// server side code and add \"kt-brand--minimize kt-aside--minimize\" classes to\r\n\t\t\t// the body tag in order to initialize the minimized left aside mode during page loading.\r\n\t\t});\r\n\r\n\t\tasideToggler.on('beforeToggle', function(toggle) {\r\n\t\t\tvar body = KTUtil.get('body');\r\n\t\t\tif (KTUtil.hasClass(body, 'kt-aside--minimize') === false && KTUtil.hasClass(body, 'kt-aside--minimize-hover')) {\r\n\t\t\t\tKTUtil.removeClass(body, 'kt-aside--minimize-hover');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Aside secondary\r\n\tvar initAsideSecondary = function() {\r\n\t\tif (!KTUtil.get('kt_aside_secondary')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tasideSecondaryToggler = new KTToggle('kt_aside_secondary_toggler', {\r\n\t\t\ttarget: 'body',\r\n\t\t\ttargetState: 'kt-aside-secondary--expanded'\r\n\t\t});\r\n\r\n\t\tasideSecondaryToggler.on('toggle', function(toggle) {\r\n\t\t\tif (KTUtil.get('kt_page_portlet')) {\r\n\t\t\t\tpageStickyPortlet.updateSticky();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Scrolltop\r\n\tvar initScrolltop = function() {\r\n\t\tvar scrolltop = new KTScrolltop('kt_scrolltop', {\r\n\t\t\toffset: 300,\r\n\t\t\tspeed: 600\r\n\t\t});\r\n\t}\r\n\r\n\t// Init page sticky portlet\r\n\tvar initPageStickyPortlet = function() {\r\n\t\treturn new KTPortlet('kt_page_portlet', {\r\n\t\t\tsticky: {\r\n\t\t\t\toffset: parseInt(KTUtil.css(KTUtil.get('kt_header'), 'height')),\r\n\t\t\t\tzIndex: 90,\r\n\t\t\t\tposition: {\r\n\t\t\t\t\ttop: function() {\r\n\t\t\t\t\t\tvar pos = 0;\r\n\r\n\t\t\t\t\t\tif (KTUtil.isInResponsiveRange('desktop')) {\r\n\t\t\t\t\t\t\tif (KTUtil.hasClass(body, 'kt-header--fixed')) {\r\n\t\t\t\t\t\t\t\tpos = pos + parseInt(KTUtil.css(KTUtil.get('kt_header'), 'height'));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (KTUtil.hasClass(body, 'kt-subheader--fixed') && KTUtil.get('kt_subheader')) {\r\n\t\t\t\t\t\t\t\tpos = pos + parseInt(KTUtil.css(KTUtil.get('kt_subheader'), 'height'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (KTUtil.hasClass(body, 'kt-header-mobile--fixed')) {\r\n\t\t\t\t\t\t\t\tpos = pos + parseInt(KTUtil.css(KTUtil.get('kt_header_mobile'), 'height'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn pos;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tleft: function(portlet) {\r\n\t\t\t\t\t\tvar porletEl = portlet.getSelf();\r\n\r\n\t\t\t\t\t\treturn KTUtil.offset(porletEl).left;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tright: function(portlet) {\r\n\t\t\t\t\t\tvar porletEl = portlet.getSelf();\r\n\r\n\t\t\t\t\t\tvar portletWidth = parseInt(KTUtil.css(porletEl, 'width'));\r\n\t\t\t\t\t\tvar bodyWidth = parseInt(KTUtil.css(KTUtil.get('body'), 'width'));\r\n\t\t\t\t\t\tvar portletOffsetLeft = KTUtil.offset(porletEl).left;\r\n\r\n\t\t\t\t\t\treturn bodyWidth - portletWidth - portletOffsetLeft;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Calculate content available full height\r\n\tvar getContentHeight = function() {\r\n\t\tvar height;\r\n\r\n\t\theight = KTUtil.getViewPort().height;\r\n\r\n\t\tif (KTUtil.getByID('kt_header')) {\r\n            height = height - KTUtil.actualHeight('kt_header');\r\n\t\t}\r\n\r\n\t\tif (KTUtil.getByID('kt_subheader')) {\r\n            height = height - KTUtil.actualHeight('kt_subheader');\r\n\t\t}\r\n\r\n\t\tif (KTUtil.getByID('kt_footer')) {\r\n\t\t\theight = height - parseInt(KTUtil.css('kt_footer', 'height'));\r\n\t\t}\r\n\r\n\t\tif (KTUtil.getByID('kt_content')) {\r\n\t\t\theight = height - parseInt(KTUtil.css('kt_content', 'padding-top')) - parseInt(KTUtil.css('kt_content', 'padding-bottom'));\r\n\t\t}\r\n\r\n\t\treturn height;\r\n\t}\r\n\r\n\treturn {\r\n\t\tinit: function() {\r\n\t\t\tbody = KTUtil.get('body');\r\n\r\n\t\t\tthis.initHeader();\r\n\t\t\tthis.initAside();\r\n\t\t\tthis.initAsideSecondary();\r\n\t\t\tthis.initPageStickyPortlet();\r\n\r\n\t\t\t// Non functional links notice(can be removed in production)\r\n\t\t\t$('#kt_aside_menu, #kt_header_menu').on('click', '.kt-menu__link[href=\"#\"]', function(e) {\r\n\t\t\t\tswal.fire(\"\", \"You have clicked on a non-functional dummy link!\");\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tinitHeader: function() {\r\n\t\t\tinitHeader();\r\n\t\t\tinitHeaderMenu();\r\n\t\t\tinitHeaderTopbar();\r\n\t\t\tinitScrolltop();\r\n\t\t},\r\n\r\n\t\tinitAside: function() {\r\n\t\t\tinitAside();\r\n\t\t\tinitAsideMenu();\r\n\t\t\tinitAsideToggler();\r\n\r\n\t\t\tthis.onAsideToggle(function(e) {\r\n\t\t\t\t// Update sticky portlet\r\n\t\t\t\tif (pageStickyPortlet) {\r\n\t\t\t\t\tpageStickyPortlet.updateSticky();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reload datatable\r\n\t\t\t\tvar datatables = $('.kt-datatable');\r\n\t\t\t\tif (datatables) {\r\n\t\t\t\t\tdatatables.each(function() {\r\n\t\t\t\t\t\t$(this).KTDatatable('redraw');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tinitAsideSecondary: function() {\r\n\t\t\tinitAsideSecondary();\r\n\t\t},\r\n\r\n\t\tinitPageStickyPortlet: function() {\r\n\t\t\tif (!KTUtil.get('kt_page_portlet')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tpageStickyPortlet = initPageStickyPortlet();\r\n\t\t\tpageStickyPortlet.initSticky();\r\n\r\n\t\t\tKTUtil.addResizeHandler(function() {\r\n\t\t\t\tpageStickyPortlet.updateSticky();\r\n\t\t\t});\r\n\r\n\t\t\tinitPageStickyPortlet();\r\n\t\t},\r\n\r\n\t\tgetAsideMenu: function() {\r\n\t\t\treturn asideMenu;\r\n\t\t},\r\n\r\n\t\tonAsideToggle: function(handler) {\r\n\t\t\tif (typeof asideToggler.element !== 'undefined') {\r\n\t\t\t\tasideToggler.on('toggle', handler);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetAsideToggler: function() {\r\n\t\t\treturn asideToggler;\r\n\t\t},\r\n\r\n\t\topenAsideSecondary: function() {\r\n\t\t\tasideSecondaryToggler.toggleOn();\r\n\t\t},\r\n\r\n\t\tcloseAsideSecondary: function() {\r\n\t\t\tasideSecondaryToggler.toggleOff();\r\n\t\t},\r\n\r\n\t\tgetAsideSecondaryToggler: function() {\r\n\t\t\treturn asideSecondaryToggler;\r\n\t\t},\r\n\r\n\t\tonAsideSecondaryToggle: function(handler) {\r\n\t\t\tif (asideSecondaryToggler) {\r\n\t\t\t\tasideSecondaryToggler.on('toggle', handler);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseMobileAsideMenuOffcanvas: function() {\r\n\t\t\tif (KTUtil.isMobileDevice()) {\r\n\t\t\t\tasideMenuOffcanvas.hide();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcloseMobileHeaderMenuOffcanvas: function() {\r\n\t\t\tif (KTUtil.isMobileDevice()) {\r\n\t\t\t\theaderMenuOffcanvas.hide();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetContentHeight: function() {\r\n\t\t\treturn getContentHeight();\r\n\t\t}\r\n\t};\r\n}();\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined') {\r\n\tmodule.exports = KTLayout;\r\n}\r\n\r\nKTUtil.ready(function() {\r\n\tKTLayout.init();\r\n});\r\n\n\"use strict\";\r\n\r\nvar KTOffcanvasPanel = function() {\r\n    var notificationPanel;\r\n    var quickActionsPanel;\r\n    var profilePanel;\r\n    var searchPanel;\r\n\r\n    var initNotifications = function() {\r\n        var head = KTUtil.find(notificationPanel, '.kt-offcanvas-panel__head');\r\n        var body = KTUtil.find(notificationPanel, '.kt-offcanvas-panel__body');\r\n\r\n        var offcanvas = new KTOffcanvas(notificationPanel, {\r\n            overlay: true,\r\n            baseClass: 'kt-offcanvas-panel',\r\n            closeBy: 'kt_offcanvas_toolbar_notifications_close',\r\n            toggleBy: 'kt_offcanvas_toolbar_notifications_toggler_btn'\r\n        });\r\n\r\n        KTUtil.scrollInit(body, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (head) {\r\n                    height = height - parseInt(KTUtil.actualHeight(head));\r\n                    height = height - parseInt(KTUtil.css(head, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(notificationPanel, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(notificationPanel, 'paddingBottom'));\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    var initQucikActions = function() {\r\n        var head = KTUtil.find(quickActionsPanel, '.kt-offcanvas-panel__head');\r\n        var body = KTUtil.find(quickActionsPanel, '.kt-offcanvas-panel__body');\r\n\r\n        var offcanvas = new KTOffcanvas(quickActionsPanel, {\r\n            overlay: true,\r\n            baseClass: 'kt-offcanvas-panel',\r\n            closeBy: 'kt_offcanvas_toolbar_quick_actions_close',\r\n            toggleBy: 'kt_offcanvas_toolbar_quick_actions_toggler_btn'\r\n        });\r\n\r\n        KTUtil.scrollInit(body, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (head) {\r\n                    height = height - parseInt(KTUtil.actualHeight(head));\r\n                    height = height - parseInt(KTUtil.css(head, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(quickActionsPanel, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(quickActionsPanel, 'paddingBottom'));\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    var initProfile = function() {\r\n        var head = KTUtil.find(profilePanel, '.kt-offcanvas-panel__head');\r\n        var body = KTUtil.find(profilePanel, '.kt-offcanvas-panel__body');\r\n\r\n        var offcanvas = new KTOffcanvas(profilePanel, {\r\n            overlay: true,\r\n            baseClass: 'kt-offcanvas-panel',\r\n            closeBy: 'kt_offcanvas_toolbar_profile_close',\r\n            toggleBy: 'kt_offcanvas_toolbar_profile_toggler_btn'\r\n        });\r\n\r\n        KTUtil.scrollInit(body, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                if (head) {\r\n                    height = height - parseInt(KTUtil.actualHeight(head));\r\n                    height = height - parseInt(KTUtil.css(head, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(profilePanel, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(profilePanel, 'paddingBottom'));\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    var initSearch = function() {\r\n        var head = KTUtil.find(searchPanel, '.kt-offcanvas-panel__head');\r\n        var body = KTUtil.find(searchPanel, '.kt-offcanvas-panel__body');\r\n        var search = KTUtil.get('kt_quick_search_offcanvas');\r\n        var form = KTUtil.find(search, '.kt-quick-search__form');\r\n        var wrapper = KTUtil.find(search, '.kt-quick-search__wrapper');\r\n\r\n        var offcanvas = new KTOffcanvas(searchPanel, {\r\n            overlay: true,\r\n            baseClass: 'kt-offcanvas-panel',\r\n            closeBy: 'kt_offcanvas_toolbar_search_close',\r\n            toggleBy: 'kt_offcanvas_toolbar_search_toggler_btn'\r\n        });\r\n\r\n        KTUtil.scrollInit(wrapper, {\r\n            disableForMobile: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                var height = parseInt(KTUtil.getViewPort().height);\r\n\r\n                height = height - parseInt(KTUtil.actualHeight(form));\r\n                height = height - parseInt(KTUtil.css(form, 'marginBottom'));\r\n\r\n                if (head) {\r\n                    height = height - parseInt(KTUtil.actualHeight(head));\r\n                    height = height - parseInt(KTUtil.css(head, 'marginBottom'));\r\n                }\r\n\r\n                height = height - parseInt(KTUtil.css(searchPanel, 'paddingTop'));\r\n                height = height - parseInt(KTUtil.css(searchPanel, 'paddingBottom'));\r\n\r\n                return height;\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: function() {\r\n            notificationPanel = KTUtil.get('kt_offcanvas_toolbar_notifications');\r\n            quickActionsPanel = KTUtil.get('kt_offcanvas_toolbar_quick_actions');\r\n            profilePanel = KTUtil.get('kt_offcanvas_toolbar_profile');\r\n            searchPanel = KTUtil.get('kt_offcanvas_toolbar_search');\r\n\r\n            initNotifications();\r\n            initQucikActions();\r\n            initProfile();\r\n            initSearch();\r\n        }\r\n    };\r\n}();\r\n\r\n// Init on page load completed\r\nKTUtil.ready(function() {\r\n    KTOffcanvasPanel.init();\r\n});\r\n\n\"use strict\";\r\n\r\nvar KTQuickPanel = function() {\r\n    var panel;\r\n    var notificationPanel;\r\n    var logsPanel;\r\n    var settingsPanel;\r\n\r\n    var getContentHeight = function() {\r\n        var height;\r\n        var nav = KTUtil.find(panel, '.kt-quick-panel__nav');\r\n        var content = KTUtil.find(panel, '.kt-quick-panel__content');\r\n\r\n        height = parseInt(KTUtil.getViewPort().height) - parseInt(KTUtil.actualHeight(nav)) - (2 * parseInt(KTUtil.css(nav, 'padding-top'))) - 10;\r\n\r\n        return height;\r\n    }\r\n\r\n    var initOffcanvas = function() {\r\n        new KTOffcanvas(panel, {\r\n            overlay: true,\r\n            baseClass: 'kt-quick-panel',\r\n            closeBy: 'kt_quick_panel_close_btn',\r\n            toggleBy: 'kt_quick_panel_toggler_btn'\r\n        });\r\n    }\r\n\r\n    var initNotifications = function() {\r\n        KTUtil.scrollInit(notificationPanel, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var initLogs = function() {\r\n        KTUtil.scrollInit(logsPanel, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var initSettings = function() {\r\n        KTUtil.scrollInit(settingsPanel, {\r\n            mobileNativeScroll: true,\r\n            resetHeightOnDestroy: true,\r\n            handleWindowResize: true,\r\n            height: function() {\r\n                return getContentHeight();\r\n            }\r\n        });\r\n    }\r\n\r\n    var updatePerfectScrollbars = function() {\r\n        $(panel).find('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n            KTUtil.scrollUpdate(notificationPanel);\r\n            KTUtil.scrollUpdate(logsPanel);\r\n            KTUtil.scrollUpdate(settingsPanel);\r\n        });\r\n    }\r\n\r\n    return {\r\n        init: function() {\r\n            panel = KTUtil.get('kt_quick_panel');\r\n            notificationPanel = KTUtil.get('kt_quick_panel_tab_notifications');\r\n            logsPanel = KTUtil.get('kt_quick_panel_tab_logs');\r\n            settingsPanel = KTUtil.get('kt_quick_panel_tab_settings');\r\n\r\n            initOffcanvas();\r\n            initNotifications();\r\n            initLogs();\r\n            initSettings();\r\n            updatePerfectScrollbars();\r\n        }\r\n    };\r\n}();\r\n\r\n$(document).ready(function() {\r\n    KTQuickPanel.init();\r\n});\r\n\n\"use strict\";\r\n\r\nvar KTQuickSearch = function() {\r\n    var target;\r\n    var form;\r\n    var input;\r\n    var closeIcon;\r\n    var resultWrapper;\r\n    var resultDropdown;\r\n    var resultDropdownToggle;\r\n    var inputGroup;\r\n    var query = '';\r\n\r\n    var hasResult = false;\r\n    var timeout = false;\r\n    var isProcessing = false;\r\n    var requestTimeout = 200; // ajax request fire timeout in milliseconds\r\n    var spinnerClass = 'kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right';\r\n    var resultClass = 'kt-quick-search--has-result';\r\n    var minLength = 2;\r\n\r\n    var showProgress = function() {\r\n        isProcessing = true;\r\n        KTUtil.addClass(inputGroup, spinnerClass);\r\n\r\n        if (closeIcon) {\r\n            KTUtil.hide(closeIcon);\r\n        }\r\n    }\r\n\r\n    var hideProgress = function() {\r\n        isProcessing = false;\r\n        KTUtil.removeClass(inputGroup, spinnerClass);\r\n\r\n        if (closeIcon) {\r\n            if (input.value.length < minLength) {\r\n                KTUtil.hide(closeIcon);\r\n            } else {\r\n                KTUtil.show(closeIcon, 'flex');\r\n            }\r\n        }\r\n    }\r\n\r\n    var showDropdown = function() {\r\n        if (resultDropdownToggle && !KTUtil.hasClass(resultDropdown, 'show')) {\r\n            $(resultDropdownToggle).dropdown('toggle');\r\n            $(resultDropdownToggle).dropdown('update');\r\n        }\r\n    }\r\n\r\n    var hideDropdown = function() {\r\n        if (resultDropdownToggle && KTUtil.hasClass(resultDropdown, 'show')) {\r\n            $(resultDropdownToggle).dropdown('toggle');\r\n        }\r\n    }\r\n\r\n    var processSearch = function() {\r\n        if (hasResult && query === input.value) {\r\n            hideProgress();\r\n            KTUtil.addClass(target, resultClass);\r\n            showDropdown();\r\n            KTUtil.scrollUpdate(resultWrapper);\r\n\r\n            return;\r\n        }\r\n\r\n        query = input.value;\r\n\r\n        KTUtil.removeClass(target, resultClass);\r\n        showProgress();\r\n        hideDropdown();\r\n\r\n        setTimeout(function() {\r\n            $.ajax({\r\n                url: 'https://keenthemes.com/metronic/tools/preview/api/quick_search.php',\r\n                data: {\r\n                    query: query\r\n                },\r\n                dataType: 'html',\r\n                success: function(res) {\r\n                    hasResult = true;\r\n                    hideProgress();\r\n                    KTUtil.addClass(target, resultClass);\r\n                    KTUtil.setHTML(resultWrapper, res);\r\n                    showDropdown();\r\n                    KTUtil.scrollUpdate(resultWrapper);\r\n                },\r\n                error: function(res) {\r\n                    hasResult = false;\r\n                    hideProgress();\r\n                    KTUtil.addClass(target, resultClass);\r\n                    KTUtil.setHTML(resultWrapper, '<span class=\"kt-quick-search__message\">Connection error. Pleae try again later.</div>');\r\n                    showDropdown();\r\n                    KTUtil.scrollUpdate(resultWrapper);\r\n                }\r\n            });\r\n        }, 1000);\r\n    }\r\n\r\n    var handleCancel = function(e) {\r\n        input.value = '';\r\n        query = '';\r\n        hasResult = false;\r\n        KTUtil.hide(closeIcon);\r\n        KTUtil.removeClass(target, resultClass);\r\n        hideDropdown();\r\n    }\r\n\r\n    var handleSearch = function() {\r\n        if (input.value.length < minLength) {\r\n            hideProgress();\r\n            hideDropdown();\r\n\r\n            return;\r\n        }\r\n\r\n        if (isProcessing == true) {\r\n            return;\r\n        }\r\n\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n\r\n        timeout = setTimeout(function() {\r\n            processSearch();\r\n        }, requestTimeout);\r\n    }\r\n\r\n    return {\r\n        init: function(element) {\r\n            // Init\r\n            target = element;\r\n            form = KTUtil.find(target, '.kt-quick-search__form');\r\n            input = KTUtil.find(target, '.kt-quick-search__input');\r\n            closeIcon = KTUtil.find(target, '.kt-quick-search__close');\r\n            resultWrapper = KTUtil.find(target, '.kt-quick-search__wrapper');\r\n            resultDropdown = KTUtil.find(target, '.dropdown-menu');\r\n            resultDropdownToggle = KTUtil.find(target, '[data-toggle=\"dropdown\"]');\r\n            inputGroup = KTUtil.find(target, '.input-group');\r\n\r\n            // Attach input keyup handler\r\n            KTUtil.addEvent(input, 'keyup', handleSearch);\r\n            KTUtil.addEvent(input, 'focus', handleSearch);\r\n\r\n            // Prevent enter click\r\n            form.onkeypress = function(e) {\r\n                var key = e.charCode || e.keyCode || 0;\r\n                if (key == 13) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n\r\n            KTUtil.addEvent(closeIcon, 'click', handleCancel);\r\n        }\r\n    };\r\n};\r\n\r\nvar KTQuickSearchInline = KTQuickSearch;\r\nvar KTQuickSearchOffcanvas = KTQuickSearch;\r\n\r\n// Init on page load completed\r\n\r\nKTUtil.ready(function() {\r\n    if (KTUtil.get('kt_quick_search_dropdown')) {\r\n        KTQuickSearch().init(KTUtil.get('kt_quick_search_dropdown'));\r\n    }\r\n\r\n    if (KTUtil.get('kt_quick_search_inline')) {\r\n        KTQuickSearchInline().init(KTUtil.get('kt_quick_search_inline'));\r\n    }\r\n\r\n    if (KTUtil.get('kt_quick_search_offcanvas')) {\r\n        KTQuickSearchOffcanvas().init(KTUtil.get('kt_quick_search_offcanvas'));\r\n    }\r\n});\r\n"]}